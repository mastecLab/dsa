import "dart:typed_data";import "dart:async";import "dart:math";import "dart:math" as wH;import "dart:collection";import "dart:convert";import "dart:io";import "dart:io" as tBB;import "dart:isolate";class nt{static int ot(String P,String R){int G=P.length;int I=R.length;int a=G<I?G:I;int C=0;int D=1;int J=0;int N=0;for(int K=0;K<a; ++K){int B=P.codeUnitAt(K);int A=R.codeUnitAt(K);if(B>=48&&B<=57){if(A>=48&&A<=57){if(C==0){C=B-A;}J++ ;continue;}C=1;}else if(A>=48&&A<=57){C=-1;}if(J>0){if(C!=0){return D*C;}J=0;}if(B!=A){int S=-1;if(B==43){B=59;}else if(B==59){B=43;}else if(B>=97&&B<=122){B-= 32;S=1;}if(A==43){A=59;}else if(A==59){A=43;}else if(A>=97&&A<=122){A-= 32;}if(B!=A){return B-A;}if(N==0){N=S;}}if(B==45){D=-1;}else{D=1;}}if(G==I){if(J>0&&C!=0){return D*C;}return N;}return D*(G-I);}}class JH{final Map<String,nE> eDB;final Map<String,JH> fDB;final Map<String,nE> yK;final Map<String,JH> Jq;final gDB=[] ;final bool up;factory JH({bool allowTrailingOptions: false})=>new JH.uBB(<String,nE>{},<String,JH>{},allowTrailingOptions:allowTrailingOptions);JH.uBB(Map<String,nE> A,Map<String,JH> B,{bool allowTrailingOptions: false}):this.eDB=A,this.yK=new UnmodifiableMapView(A),this.fDB=B,this.Jq=new UnmodifiableMapView(B),this.up=allowTrailingOptions!=null?allowTrailingOptions:false;void pp(String A,{String abbr,String help,bool defaultsTo: false,bool negatable: true,void callback(bool value),bool hide: false}){hDB(A,abbr,help,null,null,null,defaultsTo,callback,HG.Xh,negatable:negatable,hide:hide);}void wL(String A,{String abbr,String help,String valueHelp,List<String> allowed,Map<String,String> allowedHelp,String defaultsTo,void callback(value),bool allowMultiple: false,bool splitCommas,bool hide: false}){if(!allowMultiple&&splitCommas!=null){throw new ArgumentError('splitCommas may not be set if allowMultiple is false.');}hDB(A,abbr,help,valueHelp,allowed,allowedHelp,defaultsTo,callback,allowMultiple?HG.Ka:HG.rt,splitCommas:splitCommas,hide:hide);}void hDB(String A,String B,String G,String I,List<String> J,Map<String,String> K,N,void P(value),HG R,{bool negatable: false,bool splitCommas,bool hide: false}){if(eDB.containsKey(A)){throw new ArgumentError('Duplicate option "${A}".');}if(B!=null){var C=YY(B);if(C!=null){throw new ArgumentError('Abbreviation "${B}" is already used by "${C.name}".');}}var D=qt(A,B,G,I,J,K,N,P,R,negatable:negatable,splitCommas:splitCommas,hide:hide);eDB[A]=D;gDB.add(D);}sJ KE(List<String> A)=>new QR(null,this,A.toList()).KE();String get Wt=>new Yh(gDB).fY();nE YY(String A){return yK.values.firstWhere((B)=>B.vL==A,orElse:()=>null);}}sJ pt(JH A,Map<String,dynamic> B,String C,sJ D,List<String> G,List<String> I){return new sJ.vBB(A,B,C,D,G,I);}class sJ{final JH iDB;final Map<String,dynamic> jDB;final String name;final sJ command;final List<String> eG;final List<String> arguments;sJ.vBB(this.iDB,this.jDB,this.name,this.command,List<String> A,List<String> B):this.eG=new UnmodifiableListView(A),this.arguments=new UnmodifiableListView(B);operator[](String A){if(!iDB.yK.containsKey(A)){throw new ArgumentError('Could not find an option named "${A}".');}return iDB.yK[A].Fr(jDB[A]);}Iterable<String> get yK{var A=new Set<String>.from(jDB.keys);iDB.yK.forEach((B,C){if(C.BF!=null)A.add(B);});return A;}}abstract class r{static bool kO=(){if(0.0 is int){return true;}try {return 3.modInverse(7)==-1;}catch (A){return true;}return false;}();static r get vt{if(kO){return n.KH(0);}else{return CB.EV(0);}}static r get tJ{if(kO){return n.KH(1);}else{return CB.EV(1);}}static r get La{if(kO){return n.KH(2);}else{return CB.EV(2);}}static r get ah{if(kO){return n.KH(3);}else{return CB.EV(3);}}factory r([A,B,C]){if(kO){return new n(A,B,C);}else{return new CB(A,B,C);}}factory r.yBB(int A,List<int> B){if(kO){return new n.ACB(A,B);}else{return new CB.zBB(A,B);}}}class CB implements r{static CB EV(int A){return new CB(A);}int data;CB([A,B,C]){if(A!=null){if(A is int){data=A;}else if(A is num){data=A.toInt();}else if(A is List){this.Yf(A);}else{this.bQ(A,B);}}}factory CB.zBB(int B,List<int> C){CB A=new CB();if(B!=0){A.Yf(C,true);}else{A.Yf(C,false);}if(B<0){A.data=-A.data;}return A;}void BM(CB A){A.data=data;}void eY(int A){data=A;}void bQ(String A,int B){data=int.parse(A,radix:B,onError:(C)=>0);}void Yf(List B,[bool G=false]){if(B==null||B.length==0){data=0;return;}bool D=false;if(!G&&B[0]&0xFF>0x7F){D=true;}if(D){int A=0;for(int C in B){A=(A<<8)|(~((C&0xFF)-256));}data=~A;}else{int A=0;for(int C in B){A=(A<<8)|(C&0xFF);}data=A;}}String toString([int A=10]){return data.toRadixString(A);}qQ(){return new CB(-data);}CB abs(){return (data<0)?this.qQ():this.fI();}int compareTo(A){if(A is num){return data.compareTo(A);}if(A is CB){return data.compareTo(A.data);}return 0;}int EZ(A){var C=1,B;if(A is num)A=A.toInt();if((B=A>>16)!=0){A=B;C+= 16;}if((B=A>>8)!=0){A=B;C+= 8;}if((B=A>>4)!=0){A=B;C+= 4;}if((B=A>>2)!=0){A=B;C+= 2;}if((B=A>>1)!=0){A=B;C+= 1;}return C;}int bitLength(){return data.bitLength;}void GU(int A,B){B.data=data<<A;}void mJ(int A,B){B.data=data>>A;}void sC(A,B){B.data=data-A.data;}void PU(A,B){B.data=data*A.data;}void kZ(A){A.data=data*data;}GM(CB A,CB B,CB C){B.data=data~/A.data;C.data=data%A.data;}OU(A){return new CB(data%A.data);}isEven(){return data.isEven;}isOdd(){return data.isOdd;}fI(){return new CB(this.data);}int CU(){return data;}int fG(){return data.sign;}String Kt([int A=10]){return data.toRadixString(A);}void oq(A,B){data=int.parse(A,radix:B,onError:(C)=>0);}List<int> vU(){String G;bool P=false;if(data<0){G=(~data).toRadixString(16);P=true;}else{G=data.toRadixString(16);}int D=0;int N=G.length;int J=(N+1)~/2;int K=0;List A;if(P){if(N&1==1){D=-1;}int B=~int.parse(G.substring(0,D+2),radix:16);if(B<-128)B+= 256;if(B>=0){K=1;A=new List<int>(J+1);A[0]=-1;A[1]=B;}else{A=new List<int>(J);A[0]=B;}for(int C=1;C<J; ++C){int I=~int.parse(G.substring(D+(C<<1),D+(C<<1)+2),radix:16);if(I<-128)I+= 256;A[C+K]=I;}}else{if(N&1==1){D=-1;}int B=int.parse(G.substring(0,D+2),radix:16);if(B>127)B-= 256;if(B<0){K=1;A=new List<int>(J+1);A[0]=0;A[1]=B;}else{A=new List<int>(J);A[0]=B;}for(int C=1;C<J; ++C){int I=int.parse(G.substring(D+(C<<1),D+(C<<1)+2),radix:16);if(I>127)I-= 256;A[C+K]=I;}}return A;}CB min(CB A){return (this.compareTo(A)<0)?this:A;}CB max(CB A){return (this.compareTo(A)>0)?this:A;}void MY(CB A,Function B,CB C){C.data=B(data,A.data);}wr(A,B){return A&B;}KY(A){return new CB(data&A.data);}xr(A,B){return A|B;}uD(A){return new CB(data|A.data);}yr(A,B){return A^B;}Ia(A){return new CB(data^A.data);}RU(){return new CB(~data);}zg(int A){return new CB(data<<A);}jZ(int A){return new CB(data>>A);}int wf(int A){if(A==0)return -1;int B=0;while((A&0xffffffff)==0){A>>= 32;B+= 32;}if((A&0xffff)==0){A>>= 16;B+= 16;}if((A&0xff)==0){A>>= 8;B+= 8;}if((A&0xf)==0){A>>= 4;B+= 4;}if((A&3)==0){A>>= 2;B+= 2;}if((A&1)==0) ++B;return B;}ff(){return wf(data);}int get fr=>ff();oI(A){return ((data&(1<<A))!=0);}ZT(A,B){B.data=data+A.data;}CB add(A){return new CB(data+A.data);}CB subtract(A){return new CB(data-A.data);}CB Gg(A){return new CB(data*A.data);}CB VQ(A){return new CB(data~/A.data);}CB remainder(CB A){return new CB(data.remainder(A.data));}Kf(A){data*= A;}RY(A,B){if(B==0){data+= A;}else{throw 'dAddOffset(${A},${B}) not implemented';}}modPow(CB A,CB B){return new CB(data.modPow(A.data,B.data));}CB modInverse(CB A){return new CB(data.modInverse(A.data));}CB operator+(CB A)=>add(A);CB operator-(CB A)=>subtract(A);CB operator*(CB A)=>Gg(A);CB operator%(CB A)=>OU(A);CB operator/(CB A)=>VQ(A);CB operator~/(CB A)=>VQ(A);CB operator-()=>this.qQ();bool operator<(CB A)=>compareTo(A)<0?true:false;bool operator<=(CB A)=>compareTo(A)<=0?true:false;bool operator>(CB A)=>compareTo(A)>0?true:false;bool operator>=(CB A)=>compareTo(A)>=0?true:false;bool operator==(A)=>compareTo(A)==0?true:false;CB operator&(CB A)=>KY(A);CB operator|(CB A)=>uD(A);CB operator^(CB A)=>Ia(A);CB operator~()=>RU();CB operator<<(int A)=>zg(A);CB operator>>(int A)=>jZ(A);}class bh{n IC;bh(this.IC);convert(A){if(A.OB<0||A.compareTo(this.IC)>=0){return A.OU(this.IC);}else{return A;}}tg(A){return A;}reduce(A){A.GM(this.IC,null,A);}DZ(B,C,A){B.PU(C,A);this.reduce(A);}bO(B,A){B.kZ(A);this.reduce(A);}}class ch{n IC;var Eg;var Fg;var kr;var Nt;var lr;ch(this.IC){this.Eg=IC.g9();this.Fg=this.Eg&0x7fff;this.kr=this.Eg>>15;this.Nt=(1<<(n.mB-15))-1;this.lr=2*IC.Y;}n convert(n B){var A=n.bC();B.abs().nT(this.IC.Y,A);A.GM(this.IC,null,A);if(B.OB<0&&A.compareTo(n.pI)>0)this.IC.sC(A,A);return A;}n tg(n B){var A=n.bC();B.BM(A);this.reduce(A);return A;}void reduce(A){var B=A.VB;while(A.Y<=this.lr){B[A.Y++ ]=0;}for(var D=0;D<this.IC.Y; ++D){var C=B[D]&0x7fff;var G=(C*this.Fg+(((C*this.kr+(B[D]>>15)*this.Fg)&this.Nt)<<15))&n.MF;C=D+this.IC.Y;B[C]+=this.IC.eI(0,G,A,D,0,this.IC.Y);while(B[C]>=n.IG){B[C]-=n.IG;B[ ++C]++;}}A.clamp();A.VY(this.IC.Y,A);if(A.compareTo(this.IC)>=0){A.sC(this.IC,A);}}bO(B,A){B.kZ(A);this.reduce(A);}DZ(B,C,A){B.PU(C,A);this.reduce(A);}}class dh{n IC;n XM;n lg;var mr;dh(this.IC){this.XM=n.bC();this.lg=n.bC();n.Oa.nT(2*IC.Y,this.XM);this.mr=this.XM.VQ(IC);}n convert(n A){if(A.OB<0||A.Y>2*this.IC.Y){return A.OU(this.IC);}else if(A.compareTo(this.IC)<0){return A;}else{var B=n.bC();A.BM(B);this.reduce(B);return B;}}tg(A){return A;}void reduce(n A){A.VY(this.IC.Y-1,this.XM);if(A.Y>this.IC.Y+1){A.Y=this.IC.Y+1;A.clamp();}this.mr.Q_(this.XM,this.IC.Y+1,this.lg);this.IC.P_(this.lg,this.IC.Y+1,this.XM);while(A.compareTo(this.XM)<0){A.RY(1,this.IC.Y+1);}A.sC(this.XM,A);while(A.compareTo(this.IC)>=0){A.sC(this.IC,A);}}bO(B,A){B.kZ(A);this.reduce(A);}DZ(B,C,A){B.PU(C,A);this.reduce(A);}}class FV<t>{operator[](var A){return data[A];}operator[]=(var A,var B){if(A>data.length-1){data.length=A+1;}return data[A]=B;}List<t> data=new List<t>();}class n implements r{static int lO;static int mB;static int MF;static int IG;static int GV;static int eh;static int Ma;static int Na;static n bC(){return new n(null,null,null);}static n KH(int B){var A=bC();A.eY(B);return A;}static n get pI=>KH(0);static n get Oa=>KH(1);static final List<int> fh=const[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509];static int wt;static int xt=0xdeadbeefcafe;static bool yt;FV<int> VB;Function eI;static var gh="0123456789abcdefghijklmnopqrstuvwxyz";static Map lM;int Y;var OB;n([A,B,C]){Au(28);eI=kDB;this.VB=new FV<int>();if(A!=null){if(A is int){this.bQ(A.toString(),10);}else if(A is num){this.bQ(A.toInt().toString(),10);}else if(B==null&&A is!String){this.bQ(A,256);}else{this.bQ(A,B);}}}factory n.ACB(int B,List<int> A){if(B==0)throw new ArgumentError("Argument signum must not be zero");if((A[0]&0x80)!=0){A=new Uint8List(1+A.length)..[0]=0..setRange(1,1+A.length,A);}var C=new n(A);return (B<0)?-C:C;}kDB(C,D,S,G,B,a){var I=this.VB;var J=S.VB;var K=D.toInt()&0x3fff,N=D.toInt()>>14;while( --a>=0){var A=I[C]&0x3fff;var P=I[C++ ]>>14;var R=N*A+P*K;A=K*A+((R&0x3fff)<<14)+J[G]+B;B=(A>>28)+(R>>14)+N*P;J[G++ ]=A&0xfffffff;}return B;}static zt(int A){lO=A;mB=lO;MF=((1<<lO)-1);IG=(1<<lO);GV=52;eh=pow(2,GV);Ma=GV-lO;Na=2*lO-GV;}static Au(int A){if(lM!=null)return;lM=new Map();yt=((xt&0xffffff)==0xefcafe);Bu();wt=(1<<26)~/fh[fh.length-1];zt(A);}static Bu(){gh="0123456789abcdefghijklmnopqrstuvwxyz";lM=new Map();int B,A;B="0".codeUnitAt(0);for(A=0;A<=9; ++A)lM[B++ ]=A;B="a".codeUnitAt(0);for(A=10;A<36; ++A)lM[B++ ]=A;B="A".codeUnitAt(0);for(A=10;A<36; ++A)lM[B++ ]=A;}lDB(A){return gh[A];}mDB(B,C){var A=lM[B.codeUnitAt(C)];return (A==null)?-1:A;}void BM(n B){var C=this.VB;var D=B.VB;for(var A=this.Y-1;A>=0; --A)D[A]=C[A];B.Y=this.Y;B.OB=this.OB;}void eY(int A){var B=this.VB;this.Y=1;this.OB=(A<0)?-1:0;if(A>0){B[0]=A;}else if(A<-1){B[0]=A+IG;}else{this.Y=0;}}void bQ(D,int C){var G=this.VB;var B;if(C==16){B=4;}else if(C==8){B=3;}else if(C==256){B=8;}else if(C==2){B=1;}else if(C==32){B=5;}else if(C==4){B=2;}else{this.oq(D,C);return;}this.Y=0;this.OB=0;var J=D.length,K=false,A=0;while( --J>=0){var I=(B==8)?D[J]&0xff:mDB(D,J);if(I<0){if(D[J]=="-")K=true;continue;}K=false;if(A==0){G[this.Y++ ]=I;}else if(A+B>mB){G[this.Y-1]|=(I&((1<<(mB-A))-1))<<A;G[this.Y++ ]=(I>>(mB-A));}else{G[this.Y-1]|=I<<A;}A+= B;if(A>=mB)A-= mB;}if(B==8&&(D[0]&0x80)!=0){this.OB=-1;if(A>0)G[this.Y-1]|=((1<<(mB-A))-1)<<A;}this.clamp();if(K)n.pI.sC(this,this);}String toString([int D]){var I=this.VB;if(this.OB<0){return "-${this.qQ().toString(D)}";}var A;if(D==16){A=4;}else if(D==8){A=3;}else if(D==2){A=1;}else if(D==32){A=5;}else if(D==4){A=2;}else{return this.Kt(D);}var N=(1<<A)-1,G,J=false,K="",C=this.Y;var B=mB-(C*mB)%A;if(C-- >0){if(B<mB&&(G=I[C]>>B)>0){J=true;K=lDB(G);}while(C>=0){if(B<A){G=(I[C]&((1<<B)-1))<<(A-B);G|= I[ --C]>>(B+= mB-A);}else{G=(I[C].toInt()>>(B-= A.toInt()).toInt())&N.toInt();if(B<=0){B+= mB; --C;}}if(G>0)J=true;if(J)K="${K}${lDB(G)}";}}return J?K:"0";}qQ(){var A=bC();n.pI.sC(this,A);return A;}n abs(){return (this.OB<0)?this.qQ():this;}int compareTo(B){if(B is num){B=new n(B);}var D=this.VB;var G=B.VB;var A=this.OB-B.OB;if(A!=0)return A;var C=this.Y;A=C-B.Y;if(A!=0)return A;while( --C>=0)if((A=D[C]-G[C])!=0)return A;return 0;}int EZ(A){var C=1,B;if(A is num)A=A.toInt();if((B=A>>16)!=0){A=B;C+= 16;}if((B=A>>8)!=0){A=B;C+= 8;}if((B=A>>4)!=0){A=B;C+= 4;}if((B=A>>2)!=0){A=B;C+= 2;}if((B=A>>1)!=0){A=B;C+= 1;}return C;}int bitLength(){var A=this.VB;if(this.Y<=0)return 0;return mB*(this.Y-1)+EZ(A[this.Y-1]^(this.OB&MF));}void nT(B,C){var G=this.VB;var D=C.VB;var A;for(A=this.Y-1;A>=0; --A)D[A+B]=G[A];for(A=B-1;A>=0; --A)D[A]=0;C.Y=this.Y+B;C.OB=this.OB;}void VY(B,C){var D=this.VB;var G=C.VB;for(var A=B;A<this.Y; ++A)G[A-B]=D[A];C.Y=wH.max(this.Y-B,0);C.OB=this.OB;}void GU(J,B){var K=this.VB;var D=B.VB;var G=J%mB;var N=mB-G;var P=(1<<N)-1;int C=J~/mB;var I=(this.OB<<G)&MF;var A;for(A=this.Y-1;A>=0; --A){D[A+C+1]=(K[A]>>N)|I;I=(K[A]&P)<<G;}for(A=C-1;A>=0; --A)D[A]=0;D[C]=I;B.Y=this.Y+C+1;B.OB=this.OB;B.clamp();}void mJ(J,C){var I=this.VB;var G=C.VB;C.OB=this.OB;var A=J~/mB;if(A>=this.Y){C.Y=0;return;}var D=J%mB;var K=mB-D;var N=(1<<D)-1;G[0]=I[A]>>D;for(var B=A+1;B<this.Y; ++B){G[B-A-1]|=(I[B]&N)<<K;G[B-A]=I[B]>>D;}if(D>0)G[this.Y-A-1]|=(this.OB&N)<<K;C.Y=this.Y-A;C.clamp();}void clamp(){var A=this.VB;var B=this.OB&MF;while(this.Y>0&&A[this.Y-1]==B){ --this.Y;}}void sC(C,G){var I=this.VB;var D=G.VB;var J=C.VB;int B=0;int A=0;int K=wH.min(C.Y,this.Y);while(B<K){A+= (I[B].toInt()-J[B].toInt()).toInt();D[B++ ]=A&MF;A>>= mB;if(A==4294967295){A=-1;}}if(C.Y<this.Y){A-= C.OB;while(B<this.Y){A+= I[B];D[B++ ]=A&MF;A>>= mB;if(A==4294967295){A=-1;}}A+= this.OB;}else{A+= this.OB;while(B<C.Y){A-= J[B];D[B++ ]=A&MF;A>>= mB;if(A==4294967295){A=-1;}}A-= C.OB;}G.OB=(A<0)?-1:0;if(A<-1){D[B++ ]=IG+A;}else if(A>0){D[B++ ]=A;}G.Y=B;G.clamp();}bool nDB=true;void PU(G,B){var K=this.VB;var I=B.VB;n C=this.abs();n D=G.abs();var J=D.VB;var A=C.Y;B.Y=A+D.Y;while( --A>=0)I[A]=0;for(A=0;A<D.Y; ++A)I[A+C.Y]=C.eI(0,J[A],B,A,0,C.Y);B.OB=0;B.clamp();if(this.OB!=G.OB){n.pI.sC(B,B);}}void kZ(C){var B=this.abs();var G=B.VB;var D=C.VB;var A=C.Y=2*B.Y;while( --A>=0)D[A]=0;for(A=0;A<B.Y-1; ++A){var I=B.eI(A,G[A],C,2*A,0,1);if((D[A+B.Y]+=B.eI(A+1,2*G[A],C,2*A+1,I,B.Y-A-1))>=IG){D[A+B.Y]-=IG;D[A+B.Y+1]=1;}}if(C.Y>0)D[C.Y-1]+=B.eI(A,G[A],C,2*A,0,1);C.OB=0;C.clamp();}GM(n q,D,n A){var I=q.abs();if(I.Y<=0)return;var R=this.abs();if(R.Y<I.Y){if(D!=null)D.eY(0);if(A!=null)this.BM(A);return;}if(A==null)A=bC();var B=bC(),BB=this.OB,aB=q.OB;var lB=I.VB;var N=mB-EZ(lB[I.Y-1]);if(N>0){I.GU(N,B);R.GU(N,A);}else{I.BM(B);R.BM(A);}var C=B.Y;var S=B.VB;var a=S[C-1];if(a==0)return;var HB=a*(1<<Ma)+((C>1)?S[C-2]>>Na:0);var xB=eh/HB,EC=(1<<Ma)/HB,aC=1<<Na;var J=A.Y,P=J-C;n G=(D==null)?bC():D;B.nT(P,G);var K=A.VB;if(A.compareTo(G)>=0){K[A.Y++ ]=1;A.sC(G,A);}n.Oa.nT(C,G);G.sC(B,B);while(B.Y<C)S[B.Y++ ]=0;while( --P>=0){var j=(K[ --J]==a)?MF:(K[J]*xB+(K[J-1]+aC)*EC).floor();if((K[J]+=B.eI(0,j,A,P,0,C))<j){B.nT(P,G);A.sC(G,A);while(K[J]< --j)A.sC(G,A);}}if(D!=null){A.VY(C,D);if(BB!=aB)n.pI.sC(D,D);}A.Y=C;A.clamp();if(N>0)A.mJ(N,A);if(BB<0)n.pI.sC(A,A);}OU(B){var A=bC();this.abs().GM(B,null,A);if(this.OB<0&&A.compareTo(n.pI)>0)B.sC(A,A);return A;}g9(){var C=this.VB;if(this.Y<1)return 0;var B=C[0];if((B&1)==0)return 0;var A=B&3;A=(A*(2-(B&0xf)*A))&0xf;A=(A*(2-(B&0xff)*A))&0xff;A=(A*(2-(((B&0xffff)*A)&0xffff)))&0xffff;A=(A*(2-B*A%IG))%IG;return (A>0)?IG-A:-A;}isEven(){var A=this.VB;return ((this.Y>0)?(A[0]&1):this.OB)==0;}isOdd()=>!isEven();fI(){var A=bC();this.BM(A);return A;}int CU(){var A=this.VB;if(this.OB<0){if(this.Y==1){return A[0]-IG;}else if(this.Y==0)return -1;}else if(this.Y==1){return A[0];}else if(this.Y==0)return 0;return ((A[1]&((1<<(32-mB))-1))<<mB)|A[0];}int Cq(A){return (LN2*mB/log(A)).floor().toInt();}int fG(){var A=this.VB;if(this.OB<0){return -1;}else if(this.Y<=0||(this.Y==1&&A[0]<=0)){return 0;}else{return 1;}}String Kt([int A=10]){if(A==null)A=10;if(this.fG()==0||A<2||A>36)return "0";var J=this.Cq(A);int G=pow(A,J);var I=KH(G),B=bC(),C=bC(),D="";this.GM(I,B,C);while(B.fG()>0){D="${(G+C.CU()).toInt().toRadixString(A).substring(1)}${D}";B.GM(I,B,C);}return "${C.CU().toRadixString(A)}${D}";}void oq(C,A){this.eY(0);if(A==null)A=10;var I=this.Cq(A);num N=pow(A,I);bool J=false;int D=0,B=0;for(var G=0;G<C.length; ++G){var K=mDB(C,G);if(K<0){if(C is String){if(C[0]=="-"&&this.fG()==0){J=true;}}continue;}B=A*B+K;if( ++D>=I){this.Kf(N);this.RY(B,0);D=0;B=0;}}if(D>0){this.Kf(pow(A,D));if(B!=0){this.RY(B,0);}}if(J){n.pI.sC(this,this);}}List<int> vU(){var G=this.VB;var C=this.Y;FV<int> I=new FV<int>();I[0]=this.OB;var A=mB-(C*mB)%8,B,D=0;if(C-- >0){if(A<mB&&(B=G[C]>>A)!=(this.OB&MF)>>A){I[D++ ]=B|(this.OB<<(mB-A));}while(C>=0){if(A<8){B=(G[C]&((1<<A)-1))<<(8-A);B|= G[ --C]>>(A+= mB-8);}else{B=(G[C]>>(A-= 8))&0xff;if(A<=0){A+= mB; --C;}}if((B&0x80)!=0)B|= -256;if(D==0&&(this.OB&0x80)!=(B&0x80)) ++D;if(D>0||B!=this.OB)I[D++ ]=B;}}return I.data;}n min(n A){return (this.compareTo(A)<0)?this:A;}n max(n A){return (this.compareTo(A)>0)?this:A;}void MY(n B,Function D,n C){var K=this.VB;var N=B.VB;var I=C.VB;var A,G,J=wH.min(B.Y,this.Y);for(A=0;A<J; ++A)I[A]=D(K[A],N[A]);if(B.Y<this.Y){G=B.OB&MF;for(A=J;A<this.Y; ++A)I[A]=D(K[A],G);C.Y=this.Y;}else{G=this.OB&MF;for(A=J;A<B.Y; ++A)I[A]=D(G,N[A]);C.Y=B.Y;}C.OB=D(this.OB,B.OB);C.clamp();}wr(A,B){return A&B;}KY(B){var A=bC();this.MY(B,wr,A);return A;}xr(A,B){return A|B;}uD(B){var A=bC();this.MY(B,xr,A);return A;}yr(A,B){return A^B;}Ia(B){var A=bC();this.MY(B,yr,A);return A;}RU(){var C=this.VB;var A=bC();var D=A.VB;for(var B=0;B<this.Y; ++B){D[B]=MF&~C[B];}A.Y=this.Y;A.OB=~this.OB;return A;}zg(A){var B=bC();if(A<0){this.mJ(-A,B);}else{this.GU(A,B);}return B;}jZ(A){var B=bC();if(A<0){this.GU(-A,B);}else{this.mJ(A,B);}return B;}wf(A){if(A==0)return -1;var B=0;if((A&0xffff)==0){A>>= 16;B+= 16;}if((A&0xff)==0){A>>= 8;B+= 8;}if((A&0xf)==0){A>>= 4;B+= 4;}if((A&3)==0){A>>= 2;B+= 2;}if((A&1)==0) ++B;return B;}ff(){var B=this.VB;for(var A=0;A<this.Y; ++A)if(B[A]!=0)return A*mB+wf(B[A]);if(this.OB<0)return this.Y*mB;return -1;}int get fr=>ff();oI(A){var C=this.VB;int B=A~/mB;if(B>=this.Y)return (this.OB!=0);return ((C[B]&(1<<(A%mB)))!=0);}ZT(C,G){var I=this.VB;var J=C.VB;var D=G.VB;var B=0,A=0,K=wH.min(C.Y,this.Y);while(B<K){A+= I[B]+J[B];D[B++ ]=A&MF;A>>= mB;}if(C.Y<this.Y){A+= C.OB;while(B<this.Y){A+= I[B];D[B++ ]=A&MF;A>>= mB;}A+= this.OB;}else{A+= this.OB;while(B<C.Y){A+= J[B];D[B++ ]=A&MF;A>>= mB;}A+= C.OB;}G.OB=(A<0)?-1:0;if(A>0){D[B++ ]=A;}else if(A<-1)D[B++ ]=IG+A;G.Y=B;G.clamp();}n add(B){var A=bC();this.ZT(B,A);return A;}n subtract(B){var A=bC();this.sC(B,A);return A;}n Gg(B){var A=bC();this.PU(B,A);return A;}n VQ(B){var A=bC();this.GM(B,A,null);return A;}n remainder(n B){n A=bC();this.GM(B,null,A);return (A.fG()>=0)?A:(A+B);}Kf(A){var B=this.VB;B[this.Y]=this.eI(0,A-1,this,0,0,this.Y); ++this.Y;this.clamp();}RY(C,A){var B=this.VB;while(this.Y<=A)B[this.Y++ ]=0;B[A]+=C;while(B[A]>=IG){B[A]-=IG;if( ++A>=this.Y)B[this.Y++ ]=0; ++B[A];}}P_(D,G,B){var I=B.VB;var J=D.VB;var A=wH.min(this.Y+D.Y,G);B.OB=0;B.Y=A;while(A>0)I[ --A]=0;var C;for(C=B.Y-this.Y;A<C; ++A)I[A+this.Y]=this.eI(0,J[A],B,A,0,this.Y);for(C=wH.min(D.Y,G);A<C; ++A)this.eI(0,J[A],B,A,0,G-A);B.clamp();}Q_(D,C,B){var G=B.VB;var I=D.VB; --C;var A=B.Y=this.Y+D.Y-C;B.OB=0;while( --A>=0)G[A]=0;for(A=wH.max(C-this.Y,0);A<D.Y; ++A){G[this.Y+A-C]=this.eI(C-A,I[A],B,0,0,this.Y+A-C);}B.clamp();B.VY(1,B);}modPow(n j,n R){var P=j.VB;var A=j.bitLength(),I,B=KH(1),C;if(A<=0){return B;}else if(A<18){I=1;}else if(A<48){I=3;}else if(A<144){I=4;}else if(A<768){I=5;}else{I=6;}if(A<8){C=new bh(R);}else if(R.isEven()){C=new dh(R);}else{C=new ch(R);}var K=new Map(),D=3,S=I-1,q=(1<<I)-1;K[1]=C.convert(this);if(I>1){var BB=bC();C.bO(K[1],BB);while(D<=q){K[D]=bC();C.DZ(BB,K[D-2],K[D]);D+= 2;}}var G=j.Y-1,N,HB=true,J=bC(),a;A=EZ(P[G])-1;while(G>=0){if(A>=S){N=(P[G]>>(A-S))&q;}else{N=(P[G]&((1<<(A+1))-1))<<(S-A);if(G>0)N|= P[G-1]>>(mB+A-S);}D=I;while((N&1)==0){N>>= 1; --D;}if((A-= D)<0){A+= mB; --G;}if(HB){K[N].BM(B);HB=false;}else{while(D>1){C.bO(B,J);C.bO(J,B);D-= 2;}if(D>0)C.bO(B,J);else{a=B;B=J;J=a;}C.DZ(J,K[N],B);}while(G>=0&&(P[G]&(1<<A))==0){C.bO(B,J);a=B;B=J;J=a;if( --A<0){A=mB-1; --G;}}}return C.tg(B);}n modInverse(n B){var K=B.isEven();if((this.isEven()&&K)||B.fG()==0)return n.pI;var G=B.fI(),C=this.fI();if(C.fG()<0)C=-C;var I=KH(1),D=KH(0),J=KH(0),A=KH(1);while(G.fG()!=0){while(G.isEven()){G.mJ(1,G);if(K){if(!I.isEven()||!D.isEven()){I.ZT(this,I);D.sC(B,D);}I.mJ(1,I);}else if(!D.isEven())D.sC(B,D);D.mJ(1,D);}while(C.isEven()){C.mJ(1,C);if(K){if(!J.isEven()||!A.isEven()){J.ZT(this,J);A.sC(B,A);}J.mJ(1,J);}else if(!A.isEven())A.sC(B,A);A.mJ(1,A);}if(G.compareTo(C)>=0){G.sC(C,G);if(K)I.sC(J,I);D.sC(A,D);}else{C.sC(G,C);if(K)J.sC(I,J);A.sC(D,A);}}if(C.compareTo(n.Oa)!=0)return n.pI;if(A.compareTo(B)>=0)return oDB(A.subtract(B),B);if(A.fG()<0)A.ZT(B,A);else return oDB(A,B);if(A.fG()<0)return oDB(A.add(B),B);else return oDB(A,B);}oDB(A,B)=>(fG()<0)?(B-A):A;n operator+(n A)=>add(A);n operator-(n A)=>subtract(A);n operator*(n A)=>Gg(A);n operator%(n A)=>remainder(A);n operator/(n A)=>VQ(A);n operator~/(n A)=>VQ(A);n operator-()=>this.qQ();bool operator<(n A)=>compareTo(A)<0?true:false;bool operator<=(n A)=>compareTo(A)<=0?true:false;bool operator>(n A)=>compareTo(A)>0?true:false;bool operator>=(n A)=>compareTo(A)>=0?true:false;bool operator==(A)=>compareTo(A)==0?true:false;n operator&(n A)=>KY(A);n operator|(n A)=>uD(A);n operator^(n A)=>Ia(A);n operator~()=>RU();n operator<<(int A)=>zg(A);n operator>>(int A)=>jZ(A);}abstract class xH{}abstract class Pa{}abstract class jh implements Pa{}abstract class kh implements Pa{}class HV<od extends jh,aE extends kh>{final od WM;final aE bG;HV(this.WM,this.bG);}abstract class Du{}abstract class FL{static final Cu=new Fu<FL>();factory FL([String A=""])=>Cu.create(A);}abstract class ih{}abstract class hh{}abstract class qI{}abstract class Eu{}abstract class SR{}abstract class lh{}abstract class Qa implements Pa{final qI parameters;Qa(this.parameters);}class yH extends Qa implements kh{final r WG;yH(this.WG,qI A):super(A);bool operator==(A){if(A==null)return false;if(A is!yH)return false;return (A.parameters==this.parameters)&&(A.WG==this.WG);}int get hashCode{return parameters.hashCode+WG.hashCode;}}class lG extends Qa implements jh{final SR dL;lG(this.dL,qI A):super(A);bool operator==(A){if(A==null)return false;if(A is!lG)return false;return (A.parameters==this.parameters)&&(A.dL==this.dL);}int get hashCode{return parameters.hashCode+dL.hashCode;}}class Fu<t>{final pDB=new Map<String,Function>();final qDB=new List<Function>();operator[]=(String A,t B(String))=>u$(A,B);void u$(String A,t B(String)){pDB[A]=B;}t create(String A){var B=pDB[A];if(B!=null){return B(A);}else{for(B in qDB){var C=B(A);if(C!=null){return C;}}}throw new UnsupportedError("No algorithm with that name registered: ${A}");}}class mh extends Lu{static const nh=16;bool rDB;List<List<int>> sDB;int tDB;int uDB;int vDB;int wDB;int xDB;int get blockSize=>nh;void reset(){tDB=0;uDB=vDB=wDB=xDB=0;rDB=false;sDB=null;}void init(bool K,Va N){var I=N.key;int B=(I.lengthInBytes/4).floor();if(((B!=4)&&(B!=6)&&(B!=8))||((B*4)!=I.lengthInBytes)){throw new ArgumentError("Key length must be 128/192/256 bits");}this.rDB=K;tDB=B+6;sDB=new List.generate(tDB+1,(int A)=>new List<int>(4));var P=new ByteData.view(N.key.buffer);for(var A=0,J=0;A<I.lengthInBytes;A+= 4,J++ ){var C=nO(P,A,Endianness.LITTLE_ENDIAN);sDB[J>>2][J&3]=C;}int R=(tDB+1)<<2;for(int A=B;A<R;A++ ){int D=sDB[(A-1)>>2][(A-1)&3].toInt();if((A%B)==0){D=oh(IV(D,8))^Ku[((A/B)-1).floor()];}else if((B>6)&&((A%B)==4)){D=oh(D);}var C=sDB[(A-B)>>2][(A-B)&3]^D;sDB[A>>2][A&3]=C;}if(!K){for(var G=1;G<tDB;G++ ){for(var A=0;A<4;A++ ){var C=Ju(sDB[G][A].toInt());sDB[G][A]=C;}}}}int DR(Uint8List C,int A,Uint8List D,int B){if(sDB==null){throw new StateError("AES engine not initialised");}if((A+(32/2))>C.lengthInBytes){throw new ArgumentError("Input buffer too short");}if((B+(32/2))>D.lengthInBytes){throw new ArgumentError("Output buffer too short");}var G=new ByteData.view(C.buffer);var I=new ByteData.view(D.buffer);if(rDB){yDB(G,A);zDB(sDB);AEB(I,B);}else{yDB(G,A);BEB(sDB);AEB(I,B);}return nh;}void zDB(List<List<int>> B){int A,C,D,G,I;uDB^= B[0][0].toInt();vDB^= B[0][1].toInt();wDB^= B[0][2].toInt();xDB^= B[0][3].toInt();A=1;while(A<tDB-1){C=LH[uDB&255]^MH[(vDB>>8)&255]^NH[(wDB>>16)&255]^OH[(xDB>>24)&255]^B[A][0].toInt();D=LH[vDB&255]^MH[(wDB>>8)&255]^NH[(xDB>>16)&255]^OH[(uDB>>24)&255]^B[A][1].toInt();G=LH[wDB&255]^MH[(xDB>>8)&255]^NH[(uDB>>16)&255]^OH[(vDB>>24)&255]^B[A][2].toInt();I=LH[xDB&255]^MH[(uDB>>8)&255]^NH[(vDB>>16)&255]^OH[(wDB>>24)&255]^B[A][3].toInt();A++ ;uDB=LH[C&255]^MH[(D>>8)&255]^NH[(G>>16)&255]^OH[(I>>24)&255]^B[A][0].toInt();vDB=LH[D&255]^MH[(G>>8)&255]^NH[(I>>16)&255]^OH[(C>>24)&255]^B[A][1].toInt();wDB=LH[G&255]^MH[(I>>8)&255]^NH[(C>>16)&255]^OH[(D>>24)&255]^B[A][2].toInt();xDB=LH[I&255]^MH[(C>>8)&255]^NH[(D>>16)&255]^OH[(G>>24)&255]^B[A][3].toInt();A++ ;}C=LH[uDB&255]^MH[(vDB>>8)&255]^NH[(wDB>>16)&255]^OH[(xDB>>24)&255]^B[A][0].toInt();D=LH[vDB&255]^MH[(wDB>>8)&255]^NH[(xDB>>16)&255]^OH[(uDB>>24)&255]^B[A][1].toInt();G=LH[wDB&255]^MH[(xDB>>8)&255]^NH[(uDB>>16)&255]^OH[(vDB>>24)&255]^B[A][2].toInt();I=LH[xDB&255]^MH[(uDB>>8)&255]^NH[(vDB>>16)&255]^OH[(wDB>>24)&255]^B[A][3].toInt();A++ ;uDB=(yD[C&255]&255)^((yD[(D>>8)&255]&255)<<8)^((yD[(G>>16)&255]&255)<<16)^(yD[(I>>24)&255]<<24)^B[A][0].toInt();vDB=(yD[D&255]&255)^((yD[(G>>8)&255]&255)<<8)^((yD[(I>>16)&255]&255)<<16)^(yD[(C>>24)&255]<<24)^B[A][1].toInt();wDB=(yD[G&255]&255)^((yD[(I>>8)&255]&255)<<8)^((yD[(C>>16)&255]&255)<<16)^(yD[(D>>24)&255]<<24)^B[A][2].toInt();xDB=(yD[I&255]&255)^((yD[(C>>8)&255]&255)<<8)^((yD[(D>>16)&255]&255)<<16)^(yD[(G>>24)&255]<<24)^B[A][3].toInt();}void BEB(List<List<int>> A){int B,C,D,G,I;uDB^= A[tDB][0].toInt();vDB^= A[tDB][1].toInt();wDB^= A[tDB][2].toInt();xDB^= A[tDB][3].toInt();B=tDB-1;while(B>1){C=PH[uDB&255]^QH[(xDB>>8)&255]^RH[(wDB>>16)&255]^SH[(vDB>>24)&255]^A[B][0].toInt();D=PH[vDB&255]^QH[(uDB>>8)&255]^RH[(xDB>>16)&255]^SH[(wDB>>24)&255]^A[B][1].toInt();G=PH[wDB&255]^QH[(vDB>>8)&255]^RH[(uDB>>16)&255]^SH[(xDB>>24)&255]^A[B][2].toInt();I=PH[xDB&255]^QH[(wDB>>8)&255]^RH[(vDB>>16)&255]^SH[(uDB>>24)&255]^A[B][3].toInt();B-- ;uDB=PH[C&255]^QH[(I>>8)&255]^RH[(G>>16)&255]^SH[(D>>24)&255]^A[B][0].toInt();vDB=PH[D&255]^QH[(C>>8)&255]^RH[(I>>16)&255]^SH[(G>>24)&255]^A[B][1].toInt();wDB=PH[G&255]^QH[(D>>8)&255]^RH[(C>>16)&255]^SH[(I>>24)&255]^A[B][2].toInt();xDB=PH[I&255]^QH[(G>>8)&255]^RH[(D>>16)&255]^SH[(C>>24)&255]^A[B][3].toInt();B-- ;}C=PH[uDB&255]^QH[(xDB>>8)&255]^RH[(wDB>>16)&255]^SH[(vDB>>24)&255]^A[B][0].toInt();D=PH[vDB&255]^QH[(uDB>>8)&255]^RH[(xDB>>16)&255]^SH[(wDB>>24)&255]^A[B][1].toInt();G=PH[wDB&255]^QH[(vDB>>8)&255]^RH[(uDB>>16)&255]^SH[(xDB>>24)&255]^A[B][2].toInt();I=PH[xDB&255]^QH[(wDB>>8)&255]^RH[(vDB>>16)&255]^SH[(uDB>>24)&255]^A[B][3].toInt();uDB=(NF[C&255]&255)^((NF[(I>>8)&255]&255)<<8)^((NF[(G>>16)&255]&255)<<16)^(NF[(D>>24)&255]<<24)^A[0][0].toInt();vDB=(NF[D&255]&255)^((NF[(C>>8)&255]&255)<<8)^((NF[(I>>16)&255]&255)<<16)^(NF[(G>>24)&255]<<24)^A[0][1].toInt();wDB=(NF[G&255]&255)^((NF[(D>>8)&255]&255)<<8)^((NF[(C>>16)&255]&255)<<16)^(NF[(I>>24)&255]<<24)^A[0][2].toInt();xDB=(NF[I&255]&255)^((NF[(G>>8)&255]&255)<<8)^((NF[(D>>16)&255]&255)<<16)^(NF[(C>>24)&255]<<24)^A[0][3].toInt();}void yDB(ByteData A,int B){uDB=nO(A,B,Endianness.LITTLE_ENDIAN);vDB=nO(A,B+4,Endianness.LITTLE_ENDIAN);wDB=nO(A,B+8,Endianness.LITTLE_ENDIAN);xDB=nO(A,B+12,Endianness.LITTLE_ENDIAN);}void AEB(ByteData A,int B){TR(uDB,A,B,Endianness.LITTLE_ENDIAN);TR(vDB,A,B+4,Endianness.LITTLE_ENDIAN);TR(wDB,A,B+8,Endianness.LITTLE_ENDIAN);TR(xDB,A,B+12,Endianness.LITTLE_ENDIAN);}}int IV(int A,int B)=>zH(A,B);const int Gu=0x80808080;const int Hu=0x7f7f7f7f;const int Iu=0x0000001b;int Ra(int A){var B=Ya((A&Gu),7);return (((A&Hu)<<1)^B*Iu);}int Ju(int D){int A=Ra(D);int B=Ra(A);int G=Ra(B);int C=D^G;return A^B^G^IV(A^C,8)^IV(B^C,16)^IV(C,24);}int oh(int A){return (yD[A&255]&255|((yD[(A>>8)&255]&255)<<8)|((yD[(A>>16)&255]&255)<<16)|yD[(A>>24)&255]<<24);}final yD=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22];final NF=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125];final Ku=[0x01,0x02,0x04,0x08,0x10,0x20,0x40,0x80,0x1b,0x36,0x6c,0xd8,0xab,0x4d,0x9a,0x2f,0x5e,0xbc,0x63,0xc6,0x97,0x35,0x6a,0xd4,0xb3,0x7d,0xfa,0xef,0xc5,0x91];final LH=[0xa56363c6,0x847c7cf8,0x997777ee,0x8d7b7bf6,0x0df2f2ff,0xbd6b6bd6,0xb16f6fde,0x54c5c591,0x50303060,0x03010102,0xa96767ce,0x7d2b2b56,0x19fefee7,0x62d7d7b5,0xe6abab4d,0x9a7676ec,0x45caca8f,0x9d82821f,0x40c9c989,0x877d7dfa,0x15fafaef,0xeb5959b2,0xc947478e,0x0bf0f0fb,0xecadad41,0x67d4d4b3,0xfda2a25f,0xeaafaf45,0xbf9c9c23,0xf7a4a453,0x967272e4,0x5bc0c09b,0xc2b7b775,0x1cfdfde1,0xae93933d,0x6a26264c,0x5a36366c,0x413f3f7e,0x02f7f7f5,0x4fcccc83,0x5c343468,0xf4a5a551,0x34e5e5d1,0x08f1f1f9,0x937171e2,0x73d8d8ab,0x53313162,0x3f15152a,0x0c040408,0x52c7c795,0x65232346,0x5ec3c39d,0x28181830,0xa1969637,0x0f05050a,0xb59a9a2f,0x0907070e,0x36121224,0x9b80801b,0x3de2e2df,0x26ebebcd,0x6927274e,0xcdb2b27f,0x9f7575ea,0x1b090912,0x9e83831d,0x742c2c58,0x2e1a1a34,0x2d1b1b36,0xb26e6edc,0xee5a5ab4,0xfba0a05b,0xf65252a4,0x4d3b3b76,0x61d6d6b7,0xceb3b37d,0x7b292952,0x3ee3e3dd,0x712f2f5e,0x97848413,0xf55353a6,0x68d1d1b9,0x00000000,0x2cededc1,0x60202040,0x1ffcfce3,0xc8b1b179,0xed5b5bb6,0xbe6a6ad4,0x46cbcb8d,0xd9bebe67,0x4b393972,0xde4a4a94,0xd44c4c98,0xe85858b0,0x4acfcf85,0x6bd0d0bb,0x2aefefc5,0xe5aaaa4f,0x16fbfbed,0xc5434386,0xd74d4d9a,0x55333366,0x94858511,0xcf45458a,0x10f9f9e9,0x06020204,0x817f7ffe,0xf05050a0,0x443c3c78,0xba9f9f25,0xe3a8a84b,0xf35151a2,0xfea3a35d,0xc0404080,0x8a8f8f05,0xad92923f,0xbc9d9d21,0x48383870,0x04f5f5f1,0xdfbcbc63,0xc1b6b677,0x75dadaaf,0x63212142,0x30101020,0x1affffe5,0x0ef3f3fd,0x6dd2d2bf,0x4ccdcd81,0x140c0c18,0x35131326,0x2fececc3,0xe15f5fbe,0xa2979735,0xcc444488,0x3917172e,0x57c4c493,0xf2a7a755,0x827e7efc,0x473d3d7a,0xac6464c8,0xe75d5dba,0x2b191932,0x957373e6,0xa06060c0,0x98818119,0xd14f4f9e,0x7fdcdca3,0x66222244,0x7e2a2a54,0xab90903b,0x8388880b,0xca46468c,0x29eeeec7,0xd3b8b86b,0x3c141428,0x79dedea7,0xe25e5ebc,0x1d0b0b16,0x76dbdbad,0x3be0e0db,0x56323264,0x4e3a3a74,0x1e0a0a14,0xdb494992,0x0a06060c,0x6c242448,0xe45c5cb8,0x5dc2c29f,0x6ed3d3bd,0xefacac43,0xa66262c4,0xa8919139,0xa4959531,0x37e4e4d3,0x8b7979f2,0x32e7e7d5,0x43c8c88b,0x5937376e,0xb76d6dda,0x8c8d8d01,0x64d5d5b1,0xd24e4e9c,0xe0a9a949,0xb46c6cd8,0xfa5656ac,0x07f4f4f3,0x25eaeacf,0xaf6565ca,0x8e7a7af4,0xe9aeae47,0x18080810,0xd5baba6f,0x887878f0,0x6f25254a,0x722e2e5c,0x241c1c38,0xf1a6a657,0xc7b4b473,0x51c6c697,0x23e8e8cb,0x7cdddda1,0x9c7474e8,0x211f1f3e,0xdd4b4b96,0xdcbdbd61,0x868b8b0d,0x858a8a0f,0x907070e0,0x423e3e7c,0xc4b5b571,0xaa6666cc,0xd8484890,0x05030306,0x01f6f6f7,0x120e0e1c,0xa36161c2,0x5f35356a,0xf95757ae,0xd0b9b969,0x91868617,0x58c1c199,0x271d1d3a,0xb99e9e27,0x38e1e1d9,0x13f8f8eb,0xb398982b,0x33111122,0xbb6969d2,0x70d9d9a9,0x898e8e07,0xa7949433,0xb69b9b2d,0x221e1e3c,0x92878715,0x20e9e9c9,0x49cece87,0xff5555aa,0x78282850,0x7adfdfa5,0x8f8c8c03,0xf8a1a159,0x80898909,0x170d0d1a,0xdabfbf65,0x31e6e6d7,0xc6424284,0xb86868d0,0xc3414182,0xb0999929,0x772d2d5a,0x110f0f1e,0xcbb0b07b,0xfc5454a8,0xd6bbbb6d,0x3a16162c];final MH=[0x6363c6a5,0x7c7cf884,0x7777ee99,0x7b7bf68d,0xf2f2ff0d,0x6b6bd6bd,0x6f6fdeb1,0xc5c59154,0x30306050,0x01010203,0x6767cea9,0x2b2b567d,0xfefee719,0xd7d7b562,0xabab4de6,0x7676ec9a,0xcaca8f45,0x82821f9d,0xc9c98940,0x7d7dfa87,0xfafaef15,0x5959b2eb,0x47478ec9,0xf0f0fb0b,0xadad41ec,0xd4d4b367,0xa2a25ffd,0xafaf45ea,0x9c9c23bf,0xa4a453f7,0x7272e496,0xc0c09b5b,0xb7b775c2,0xfdfde11c,0x93933dae,0x26264c6a,0x36366c5a,0x3f3f7e41,0xf7f7f502,0xcccc834f,0x3434685c,0xa5a551f4,0xe5e5d134,0xf1f1f908,0x7171e293,0xd8d8ab73,0x31316253,0x15152a3f,0x0404080c,0xc7c79552,0x23234665,0xc3c39d5e,0x18183028,0x969637a1,0x05050a0f,0x9a9a2fb5,0x07070e09,0x12122436,0x80801b9b,0xe2e2df3d,0xebebcd26,0x27274e69,0xb2b27fcd,0x7575ea9f,0x0909121b,0x83831d9e,0x2c2c5874,0x1a1a342e,0x1b1b362d,0x6e6edcb2,0x5a5ab4ee,0xa0a05bfb,0x5252a4f6,0x3b3b764d,0xd6d6b761,0xb3b37dce,0x2929527b,0xe3e3dd3e,0x2f2f5e71,0x84841397,0x5353a6f5,0xd1d1b968,0x00000000,0xededc12c,0x20204060,0xfcfce31f,0xb1b179c8,0x5b5bb6ed,0x6a6ad4be,0xcbcb8d46,0xbebe67d9,0x3939724b,0x4a4a94de,0x4c4c98d4,0x5858b0e8,0xcfcf854a,0xd0d0bb6b,0xefefc52a,0xaaaa4fe5,0xfbfbed16,0x434386c5,0x4d4d9ad7,0x33336655,0x85851194,0x45458acf,0xf9f9e910,0x02020406,0x7f7ffe81,0x5050a0f0,0x3c3c7844,0x9f9f25ba,0xa8a84be3,0x5151a2f3,0xa3a35dfe,0x404080c0,0x8f8f058a,0x92923fad,0x9d9d21bc,0x38387048,0xf5f5f104,0xbcbc63df,0xb6b677c1,0xdadaaf75,0x21214263,0x10102030,0xffffe51a,0xf3f3fd0e,0xd2d2bf6d,0xcdcd814c,0x0c0c1814,0x13132635,0xececc32f,0x5f5fbee1,0x979735a2,0x444488cc,0x17172e39,0xc4c49357,0xa7a755f2,0x7e7efc82,0x3d3d7a47,0x6464c8ac,0x5d5dbae7,0x1919322b,0x7373e695,0x6060c0a0,0x81811998,0x4f4f9ed1,0xdcdca37f,0x22224466,0x2a2a547e,0x90903bab,0x88880b83,0x46468cca,0xeeeec729,0xb8b86bd3,0x1414283c,0xdedea779,0x5e5ebce2,0x0b0b161d,0xdbdbad76,0xe0e0db3b,0x32326456,0x3a3a744e,0x0a0a141e,0x494992db,0x06060c0a,0x2424486c,0x5c5cb8e4,0xc2c29f5d,0xd3d3bd6e,0xacac43ef,0x6262c4a6,0x919139a8,0x959531a4,0xe4e4d337,0x7979f28b,0xe7e7d532,0xc8c88b43,0x37376e59,0x6d6ddab7,0x8d8d018c,0xd5d5b164,0x4e4e9cd2,0xa9a949e0,0x6c6cd8b4,0x5656acfa,0xf4f4f307,0xeaeacf25,0x6565caaf,0x7a7af48e,0xaeae47e9,0x08081018,0xbaba6fd5,0x7878f088,0x25254a6f,0x2e2e5c72,0x1c1c3824,0xa6a657f1,0xb4b473c7,0xc6c69751,0xe8e8cb23,0xdddda17c,0x7474e89c,0x1f1f3e21,0x4b4b96dd,0xbdbd61dc,0x8b8b0d86,0x8a8a0f85,0x7070e090,0x3e3e7c42,0xb5b571c4,0x6666ccaa,0x484890d8,0x03030605,0xf6f6f701,0x0e0e1c12,0x6161c2a3,0x35356a5f,0x5757aef9,0xb9b969d0,0x86861791,0xc1c19958,0x1d1d3a27,0x9e9e27b9,0xe1e1d938,0xf8f8eb13,0x98982bb3,0x11112233,0x6969d2bb,0xd9d9a970,0x8e8e0789,0x949433a7,0x9b9b2db6,0x1e1e3c22,0x87871592,0xe9e9c920,0xcece8749,0x5555aaff,0x28285078,0xdfdfa57a,0x8c8c038f,0xa1a159f8,0x89890980,0x0d0d1a17,0xbfbf65da,0xe6e6d731,0x424284c6,0x6868d0b8,0x414182c3,0x999929b0,0x2d2d5a77,0x0f0f1e11,0xb0b07bcb,0x5454a8fc,0xbbbb6dd6,0x16162c3a];final NH=[0x63c6a563,0x7cf8847c,0x77ee9977,0x7bf68d7b,0xf2ff0df2,0x6bd6bd6b,0x6fdeb16f,0xc59154c5,0x30605030,0x01020301,0x67cea967,0x2b567d2b,0xfee719fe,0xd7b562d7,0xab4de6ab,0x76ec9a76,0xca8f45ca,0x821f9d82,0xc98940c9,0x7dfa877d,0xfaef15fa,0x59b2eb59,0x478ec947,0xf0fb0bf0,0xad41ecad,0xd4b367d4,0xa25ffda2,0xaf45eaaf,0x9c23bf9c,0xa453f7a4,0x72e49672,0xc09b5bc0,0xb775c2b7,0xfde11cfd,0x933dae93,0x264c6a26,0x366c5a36,0x3f7e413f,0xf7f502f7,0xcc834fcc,0x34685c34,0xa551f4a5,0xe5d134e5,0xf1f908f1,0x71e29371,0xd8ab73d8,0x31625331,0x152a3f15,0x04080c04,0xc79552c7,0x23466523,0xc39d5ec3,0x18302818,0x9637a196,0x050a0f05,0x9a2fb59a,0x070e0907,0x12243612,0x801b9b80,0xe2df3de2,0xebcd26eb,0x274e6927,0xb27fcdb2,0x75ea9f75,0x09121b09,0x831d9e83,0x2c58742c,0x1a342e1a,0x1b362d1b,0x6edcb26e,0x5ab4ee5a,0xa05bfba0,0x52a4f652,0x3b764d3b,0xd6b761d6,0xb37dceb3,0x29527b29,0xe3dd3ee3,0x2f5e712f,0x84139784,0x53a6f553,0xd1b968d1,0x00000000,0xedc12ced,0x20406020,0xfce31ffc,0xb179c8b1,0x5bb6ed5b,0x6ad4be6a,0xcb8d46cb,0xbe67d9be,0x39724b39,0x4a94de4a,0x4c98d44c,0x58b0e858,0xcf854acf,0xd0bb6bd0,0xefc52aef,0xaa4fe5aa,0xfbed16fb,0x4386c543,0x4d9ad74d,0x33665533,0x85119485,0x458acf45,0xf9e910f9,0x02040602,0x7ffe817f,0x50a0f050,0x3c78443c,0x9f25ba9f,0xa84be3a8,0x51a2f351,0xa35dfea3,0x4080c040,0x8f058a8f,0x923fad92,0x9d21bc9d,0x38704838,0xf5f104f5,0xbc63dfbc,0xb677c1b6,0xdaaf75da,0x21426321,0x10203010,0xffe51aff,0xf3fd0ef3,0xd2bf6dd2,0xcd814ccd,0x0c18140c,0x13263513,0xecc32fec,0x5fbee15f,0x9735a297,0x4488cc44,0x172e3917,0xc49357c4,0xa755f2a7,0x7efc827e,0x3d7a473d,0x64c8ac64,0x5dbae75d,0x19322b19,0x73e69573,0x60c0a060,0x81199881,0x4f9ed14f,0xdca37fdc,0x22446622,0x2a547e2a,0x903bab90,0x880b8388,0x468cca46,0xeec729ee,0xb86bd3b8,0x14283c14,0xdea779de,0x5ebce25e,0x0b161d0b,0xdbad76db,0xe0db3be0,0x32645632,0x3a744e3a,0x0a141e0a,0x4992db49,0x060c0a06,0x24486c24,0x5cb8e45c,0xc29f5dc2,0xd3bd6ed3,0xac43efac,0x62c4a662,0x9139a891,0x9531a495,0xe4d337e4,0x79f28b79,0xe7d532e7,0xc88b43c8,0x376e5937,0x6ddab76d,0x8d018c8d,0xd5b164d5,0x4e9cd24e,0xa949e0a9,0x6cd8b46c,0x56acfa56,0xf4f307f4,0xeacf25ea,0x65caaf65,0x7af48e7a,0xae47e9ae,0x08101808,0xba6fd5ba,0x78f08878,0x254a6f25,0x2e5c722e,0x1c38241c,0xa657f1a6,0xb473c7b4,0xc69751c6,0xe8cb23e8,0xdda17cdd,0x74e89c74,0x1f3e211f,0x4b96dd4b,0xbd61dcbd,0x8b0d868b,0x8a0f858a,0x70e09070,0x3e7c423e,0xb571c4b5,0x66ccaa66,0x4890d848,0x03060503,0xf6f701f6,0x0e1c120e,0x61c2a361,0x356a5f35,0x57aef957,0xb969d0b9,0x86179186,0xc19958c1,0x1d3a271d,0x9e27b99e,0xe1d938e1,0xf8eb13f8,0x982bb398,0x11223311,0x69d2bb69,0xd9a970d9,0x8e07898e,0x9433a794,0x9b2db69b,0x1e3c221e,0x87159287,0xe9c920e9,0xce8749ce,0x55aaff55,0x28507828,0xdfa57adf,0x8c038f8c,0xa159f8a1,0x89098089,0x0d1a170d,0xbf65dabf,0xe6d731e6,0x4284c642,0x68d0b868,0x4182c341,0x9929b099,0x2d5a772d,0x0f1e110f,0xb07bcbb0,0x54a8fc54,0xbb6dd6bb,0x162c3a16];final OH=[0xc6a56363,0xf8847c7c,0xee997777,0xf68d7b7b,0xff0df2f2,0xd6bd6b6b,0xdeb16f6f,0x9154c5c5,0x60503030,0x02030101,0xcea96767,0x567d2b2b,0xe719fefe,0xb562d7d7,0x4de6abab,0xec9a7676,0x8f45caca,0x1f9d8282,0x8940c9c9,0xfa877d7d,0xef15fafa,0xb2eb5959,0x8ec94747,0xfb0bf0f0,0x41ecadad,0xb367d4d4,0x5ffda2a2,0x45eaafaf,0x23bf9c9c,0x53f7a4a4,0xe4967272,0x9b5bc0c0,0x75c2b7b7,0xe11cfdfd,0x3dae9393,0x4c6a2626,0x6c5a3636,0x7e413f3f,0xf502f7f7,0x834fcccc,0x685c3434,0x51f4a5a5,0xd134e5e5,0xf908f1f1,0xe2937171,0xab73d8d8,0x62533131,0x2a3f1515,0x080c0404,0x9552c7c7,0x46652323,0x9d5ec3c3,0x30281818,0x37a19696,0x0a0f0505,0x2fb59a9a,0x0e090707,0x24361212,0x1b9b8080,0xdf3de2e2,0xcd26ebeb,0x4e692727,0x7fcdb2b2,0xea9f7575,0x121b0909,0x1d9e8383,0x58742c2c,0x342e1a1a,0x362d1b1b,0xdcb26e6e,0xb4ee5a5a,0x5bfba0a0,0xa4f65252,0x764d3b3b,0xb761d6d6,0x7dceb3b3,0x527b2929,0xdd3ee3e3,0x5e712f2f,0x13978484,0xa6f55353,0xb968d1d1,0x00000000,0xc12ceded,0x40602020,0xe31ffcfc,0x79c8b1b1,0xb6ed5b5b,0xd4be6a6a,0x8d46cbcb,0x67d9bebe,0x724b3939,0x94de4a4a,0x98d44c4c,0xb0e85858,0x854acfcf,0xbb6bd0d0,0xc52aefef,0x4fe5aaaa,0xed16fbfb,0x86c54343,0x9ad74d4d,0x66553333,0x11948585,0x8acf4545,0xe910f9f9,0x04060202,0xfe817f7f,0xa0f05050,0x78443c3c,0x25ba9f9f,0x4be3a8a8,0xa2f35151,0x5dfea3a3,0x80c04040,0x058a8f8f,0x3fad9292,0x21bc9d9d,0x70483838,0xf104f5f5,0x63dfbcbc,0x77c1b6b6,0xaf75dada,0x42632121,0x20301010,0xe51affff,0xfd0ef3f3,0xbf6dd2d2,0x814ccdcd,0x18140c0c,0x26351313,0xc32fecec,0xbee15f5f,0x35a29797,0x88cc4444,0x2e391717,0x9357c4c4,0x55f2a7a7,0xfc827e7e,0x7a473d3d,0xc8ac6464,0xbae75d5d,0x322b1919,0xe6957373,0xc0a06060,0x19988181,0x9ed14f4f,0xa37fdcdc,0x44662222,0x547e2a2a,0x3bab9090,0x0b838888,0x8cca4646,0xc729eeee,0x6bd3b8b8,0x283c1414,0xa779dede,0xbce25e5e,0x161d0b0b,0xad76dbdb,0xdb3be0e0,0x64563232,0x744e3a3a,0x141e0a0a,0x92db4949,0x0c0a0606,0x486c2424,0xb8e45c5c,0x9f5dc2c2,0xbd6ed3d3,0x43efacac,0xc4a66262,0x39a89191,0x31a49595,0xd337e4e4,0xf28b7979,0xd532e7e7,0x8b43c8c8,0x6e593737,0xdab76d6d,0x018c8d8d,0xb164d5d5,0x9cd24e4e,0x49e0a9a9,0xd8b46c6c,0xacfa5656,0xf307f4f4,0xcf25eaea,0xcaaf6565,0xf48e7a7a,0x47e9aeae,0x10180808,0x6fd5baba,0xf0887878,0x4a6f2525,0x5c722e2e,0x38241c1c,0x57f1a6a6,0x73c7b4b4,0x9751c6c6,0xcb23e8e8,0xa17cdddd,0xe89c7474,0x3e211f1f,0x96dd4b4b,0x61dcbdbd,0x0d868b8b,0x0f858a8a,0xe0907070,0x7c423e3e,0x71c4b5b5,0xccaa6666,0x90d84848,0x06050303,0xf701f6f6,0x1c120e0e,0xc2a36161,0x6a5f3535,0xaef95757,0x69d0b9b9,0x17918686,0x9958c1c1,0x3a271d1d,0x27b99e9e,0xd938e1e1,0xeb13f8f8,0x2bb39898,0x22331111,0xd2bb6969,0xa970d9d9,0x07898e8e,0x33a79494,0x2db69b9b,0x3c221e1e,0x15928787,0xc920e9e9,0x8749cece,0xaaff5555,0x50782828,0xa57adfdf,0x038f8c8c,0x59f8a1a1,0x09808989,0x1a170d0d,0x65dabfbf,0xd731e6e6,0x84c64242,0xd0b86868,0x82c34141,0x29b09999,0x5a772d2d,0x1e110f0f,0x7bcbb0b0,0xa8fc5454,0x6dd6bbbb,0x2c3a1616];final PH=[0x50a7f451,0x5365417e,0xc3a4171a,0x965e273a,0xcb6bab3b,0xf1459d1f,0xab58faac,0x9303e34b,0x55fa3020,0xf66d76ad,0x9176cc88,0x254c02f5,0xfcd7e54f,0xd7cb2ac5,0x80443526,0x8fa362b5,0x495ab1de,0x671bba25,0x980eea45,0xe1c0fe5d,0x02752fc3,0x12f04c81,0xa397468d,0xc6f9d36b,0xe75f8f03,0x959c9215,0xeb7a6dbf,0xda595295,0x2d83bed4,0xd3217458,0x2969e049,0x44c8c98e,0x6a89c275,0x78798ef4,0x6b3e5899,0xdd71b927,0xb64fe1be,0x17ad88f0,0x66ac20c9,0xb43ace7d,0x184adf63,0x82311ae5,0x60335197,0x457f5362,0xe07764b1,0x84ae6bbb,0x1ca081fe,0x942b08f9,0x58684870,0x19fd458f,0x876cde94,0xb7f87b52,0x23d373ab,0xe2024b72,0x578f1fe3,0x2aab5566,0x0728ebb2,0x03c2b52f,0x9a7bc586,0xa50837d3,0xf2872830,0xb2a5bf23,0xba6a0302,0x5c8216ed,0x2b1ccf8a,0x92b479a7,0xf0f207f3,0xa1e2694e,0xcdf4da65,0xd5be0506,0x1f6234d1,0x8afea6c4,0x9d532e34,0xa055f3a2,0x32e18a05,0x75ebf6a4,0x39ec830b,0xaaef6040,0x069f715e,0x51106ebd,0xf98a213e,0x3d06dd96,0xae053edd,0x46bde64d,0xb58d5491,0x055dc471,0x6fd40604,0xff155060,0x24fb9819,0x97e9bdd6,0xcc434089,0x779ed967,0xbd42e8b0,0x888b8907,0x385b19e7,0xdbeec879,0x470a7ca1,0xe90f427c,0xc91e84f8,0x00000000,0x83868009,0x48ed2b32,0xac70111e,0x4e725a6c,0xfbff0efd,0x5638850f,0x1ed5ae3d,0x27392d36,0x64d90f0a,0x21a65c68,0xd1545b9b,0x3a2e3624,0xb1670a0c,0x0fe75793,0xd296eeb4,0x9e919b1b,0x4fc5c080,0xa220dc61,0x694b775a,0x161a121c,0x0aba93e2,0xe52aa0c0,0x43e0223c,0x1d171b12,0x0b0d090e,0xadc78bf2,0xb9a8b62d,0xc8a91e14,0x8519f157,0x4c0775af,0xbbdd99ee,0xfd607fa3,0x9f2601f7,0xbcf5725c,0xc53b6644,0x347efb5b,0x7629438b,0xdcc623cb,0x68fcedb6,0x63f1e4b8,0xcadc31d7,0x10856342,0x40229713,0x2011c684,0x7d244a85,0xf83dbbd2,0x1132f9ae,0x6da129c7,0x4b2f9e1d,0xf330b2dc,0xec52860d,0xd0e3c177,0x6c16b32b,0x99b970a9,0xfa489411,0x2264e947,0xc48cfca8,0x1a3ff0a0,0xd82c7d56,0xef903322,0xc74e4987,0xc1d138d9,0xfea2ca8c,0x360bd498,0xcf81f5a6,0x28de7aa5,0x268eb7da,0xa4bfad3f,0xe49d3a2c,0x0d927850,0x9bcc5f6a,0x62467e54,0xc2138df6,0xe8b8d890,0x5ef7392e,0xf5afc382,0xbe805d9f,0x7c93d069,0xa92dd56f,0xb31225cf,0x3b99acc8,0xa77d1810,0x6e639ce8,0x7bbb3bdb,0x097826cd,0xf418596e,0x01b79aec,0xa89a4f83,0x656e95e6,0x7ee6ffaa,0x08cfbc21,0xe6e815ef,0xd99be7ba,0xce366f4a,0xd4099fea,0xd67cb029,0xafb2a431,0x31233f2a,0x3094a5c6,0xc066a235,0x37bc4e74,0xa6ca82fc,0xb0d090e0,0x15d8a733,0x4a9804f1,0xf7daec41,0x0e50cd7f,0x2ff69117,0x8dd64d76,0x4db0ef43,0x544daacc,0xdf0496e4,0xe3b5d19e,0x1b886a4c,0xb81f2cc1,0x7f516546,0x04ea5e9d,0x5d358c01,0x737487fa,0x2e410bfb,0x5a1d67b3,0x52d2db92,0x335610e9,0x1347d66d,0x8c61d79a,0x7a0ca137,0x8e14f859,0x893c13eb,0xee27a9ce,0x35c961b7,0xede51ce1,0x3cb1477a,0x59dfd29c,0x3f73f255,0x79ce1418,0xbf37c773,0xeacdf753,0x5baafd5f,0x146f3ddf,0x86db4478,0x81f3afca,0x3ec468b9,0x2c342438,0x5f40a3c2,0x72c31d16,0x0c25e2bc,0x8b493c28,0x41950dff,0x7101a839,0xdeb30c08,0x9ce4b4d8,0x90c15664,0x6184cb7b,0x70b632d5,0x745c6c48,0x4257b8d0];final QH=[0xa7f45150,0x65417e53,0xa4171ac3,0x5e273a96,0x6bab3bcb,0x459d1ff1,0x58faacab,0x03e34b93,0xfa302055,0x6d76adf6,0x76cc8891,0x4c02f525,0xd7e54ffc,0xcb2ac5d7,0x44352680,0xa362b58f,0x5ab1de49,0x1bba2567,0x0eea4598,0xc0fe5de1,0x752fc302,0xf04c8112,0x97468da3,0xf9d36bc6,0x5f8f03e7,0x9c921595,0x7a6dbfeb,0x595295da,0x83bed42d,0x217458d3,0x69e04929,0xc8c98e44,0x89c2756a,0x798ef478,0x3e58996b,0x71b927dd,0x4fe1beb6,0xad88f017,0xac20c966,0x3ace7db4,0x4adf6318,0x311ae582,0x33519760,0x7f536245,0x7764b1e0,0xae6bbb84,0xa081fe1c,0x2b08f994,0x68487058,0xfd458f19,0x6cde9487,0xf87b52b7,0xd373ab23,0x024b72e2,0x8f1fe357,0xab55662a,0x28ebb207,0xc2b52f03,0x7bc5869a,0x0837d3a5,0x872830f2,0xa5bf23b2,0x6a0302ba,0x8216ed5c,0x1ccf8a2b,0xb479a792,0xf207f3f0,0xe2694ea1,0xf4da65cd,0xbe0506d5,0x6234d11f,0xfea6c48a,0x532e349d,0x55f3a2a0,0xe18a0532,0xebf6a475,0xec830b39,0xef6040aa,0x9f715e06,0x106ebd51,0x8a213ef9,0x06dd963d,0x053eddae,0xbde64d46,0x8d5491b5,0x5dc47105,0xd406046f,0x155060ff,0xfb981924,0xe9bdd697,0x434089cc,0x9ed96777,0x42e8b0bd,0x8b890788,0x5b19e738,0xeec879db,0x0a7ca147,0x0f427ce9,0x1e84f8c9,0x00000000,0x86800983,0xed2b3248,0x70111eac,0x725a6c4e,0xff0efdfb,0x38850f56,0xd5ae3d1e,0x392d3627,0xd90f0a64,0xa65c6821,0x545b9bd1,0x2e36243a,0x670a0cb1,0xe757930f,0x96eeb4d2,0x919b1b9e,0xc5c0804f,0x20dc61a2,0x4b775a69,0x1a121c16,0xba93e20a,0x2aa0c0e5,0xe0223c43,0x171b121d,0x0d090e0b,0xc78bf2ad,0xa8b62db9,0xa91e14c8,0x19f15785,0x0775af4c,0xdd99eebb,0x607fa3fd,0x2601f79f,0xf5725cbc,0x3b6644c5,0x7efb5b34,0x29438b76,0xc623cbdc,0xfcedb668,0xf1e4b863,0xdc31d7ca,0x85634210,0x22971340,0x11c68420,0x244a857d,0x3dbbd2f8,0x32f9ae11,0xa129c76d,0x2f9e1d4b,0x30b2dcf3,0x52860dec,0xe3c177d0,0x16b32b6c,0xb970a999,0x489411fa,0x64e94722,0x8cfca8c4,0x3ff0a01a,0x2c7d56d8,0x903322ef,0x4e4987c7,0xd138d9c1,0xa2ca8cfe,0x0bd49836,0x81f5a6cf,0xde7aa528,0x8eb7da26,0xbfad3fa4,0x9d3a2ce4,0x9278500d,0xcc5f6a9b,0x467e5462,0x138df6c2,0xb8d890e8,0xf7392e5e,0xafc382f5,0x805d9fbe,0x93d0697c,0x2dd56fa9,0x1225cfb3,0x99acc83b,0x7d1810a7,0x639ce86e,0xbb3bdb7b,0x7826cd09,0x18596ef4,0xb79aec01,0x9a4f83a8,0x6e95e665,0xe6ffaa7e,0xcfbc2108,0xe815efe6,0x9be7bad9,0x366f4ace,0x099fead4,0x7cb029d6,0xb2a431af,0x233f2a31,0x94a5c630,0x66a235c0,0xbc4e7437,0xca82fca6,0xd090e0b0,0xd8a73315,0x9804f14a,0xdaec41f7,0x50cd7f0e,0xf691172f,0xd64d768d,0xb0ef434d,0x4daacc54,0x0496e4df,0xb5d19ee3,0x886a4c1b,0x1f2cc1b8,0x5165467f,0xea5e9d04,0x358c015d,0x7487fa73,0x410bfb2e,0x1d67b35a,0xd2db9252,0x5610e933,0x47d66d13,0x61d79a8c,0x0ca1377a,0x14f8598e,0x3c13eb89,0x27a9ceee,0xc961b735,0xe51ce1ed,0xb1477a3c,0xdfd29c59,0x73f2553f,0xce141879,0x37c773bf,0xcdf753ea,0xaafd5f5b,0x6f3ddf14,0xdb447886,0xf3afca81,0xc468b93e,0x3424382c,0x40a3c25f,0xc31d1672,0x25e2bc0c,0x493c288b,0x950dff41,0x01a83971,0xb30c08de,0xe4b4d89c,0xc1566490,0x84cb7b61,0xb632d570,0x5c6c4874,0x57b8d042];final RH=[0xf45150a7,0x417e5365,0x171ac3a4,0x273a965e,0xab3bcb6b,0x9d1ff145,0xfaacab58,0xe34b9303,0x302055fa,0x76adf66d,0xcc889176,0x02f5254c,0xe54ffcd7,0x2ac5d7cb,0x35268044,0x62b58fa3,0xb1de495a,0xba25671b,0xea45980e,0xfe5de1c0,0x2fc30275,0x4c8112f0,0x468da397,0xd36bc6f9,0x8f03e75f,0x9215959c,0x6dbfeb7a,0x5295da59,0xbed42d83,0x7458d321,0xe0492969,0xc98e44c8,0xc2756a89,0x8ef47879,0x58996b3e,0xb927dd71,0xe1beb64f,0x88f017ad,0x20c966ac,0xce7db43a,0xdf63184a,0x1ae58231,0x51976033,0x5362457f,0x64b1e077,0x6bbb84ae,0x81fe1ca0,0x08f9942b,0x48705868,0x458f19fd,0xde94876c,0x7b52b7f8,0x73ab23d3,0x4b72e202,0x1fe3578f,0x55662aab,0xebb20728,0xb52f03c2,0xc5869a7b,0x37d3a508,0x2830f287,0xbf23b2a5,0x0302ba6a,0x16ed5c82,0xcf8a2b1c,0x79a792b4,0x07f3f0f2,0x694ea1e2,0xda65cdf4,0x0506d5be,0x34d11f62,0xa6c48afe,0x2e349d53,0xf3a2a055,0x8a0532e1,0xf6a475eb,0x830b39ec,0x6040aaef,0x715e069f,0x6ebd5110,0x213ef98a,0xdd963d06,0x3eddae05,0xe64d46bd,0x5491b58d,0xc471055d,0x06046fd4,0x5060ff15,0x981924fb,0xbdd697e9,0x4089cc43,0xd967779e,0xe8b0bd42,0x8907888b,0x19e7385b,0xc879dbee,0x7ca1470a,0x427ce90f,0x84f8c91e,0x00000000,0x80098386,0x2b3248ed,0x111eac70,0x5a6c4e72,0x0efdfbff,0x850f5638,0xae3d1ed5,0x2d362739,0x0f0a64d9,0x5c6821a6,0x5b9bd154,0x36243a2e,0x0a0cb167,0x57930fe7,0xeeb4d296,0x9b1b9e91,0xc0804fc5,0xdc61a220,0x775a694b,0x121c161a,0x93e20aba,0xa0c0e52a,0x223c43e0,0x1b121d17,0x090e0b0d,0x8bf2adc7,0xb62db9a8,0x1e14c8a9,0xf1578519,0x75af4c07,0x99eebbdd,0x7fa3fd60,0x01f79f26,0x725cbcf5,0x6644c53b,0xfb5b347e,0x438b7629,0x23cbdcc6,0xedb668fc,0xe4b863f1,0x31d7cadc,0x63421085,0x97134022,0xc6842011,0x4a857d24,0xbbd2f83d,0xf9ae1132,0x29c76da1,0x9e1d4b2f,0xb2dcf330,0x860dec52,0xc177d0e3,0xb32b6c16,0x70a999b9,0x9411fa48,0xe9472264,0xfca8c48c,0xf0a01a3f,0x7d56d82c,0x3322ef90,0x4987c74e,0x38d9c1d1,0xca8cfea2,0xd498360b,0xf5a6cf81,0x7aa528de,0xb7da268e,0xad3fa4bf,0x3a2ce49d,0x78500d92,0x5f6a9bcc,0x7e546246,0x8df6c213,0xd890e8b8,0x392e5ef7,0xc382f5af,0x5d9fbe80,0xd0697c93,0xd56fa92d,0x25cfb312,0xacc83b99,0x1810a77d,0x9ce86e63,0x3bdb7bbb,0x26cd0978,0x596ef418,0x9aec01b7,0x4f83a89a,0x95e6656e,0xffaa7ee6,0xbc2108cf,0x15efe6e8,0xe7bad99b,0x6f4ace36,0x9fead409,0xb029d67c,0xa431afb2,0x3f2a3123,0xa5c63094,0xa235c066,0x4e7437bc,0x82fca6ca,0x90e0b0d0,0xa73315d8,0x04f14a98,0xec41f7da,0xcd7f0e50,0x91172ff6,0x4d768dd6,0xef434db0,0xaacc544d,0x96e4df04,0xd19ee3b5,0x6a4c1b88,0x2cc1b81f,0x65467f51,0x5e9d04ea,0x8c015d35,0x87fa7374,0x0bfb2e41,0x67b35a1d,0xdb9252d2,0x10e93356,0xd66d1347,0xd79a8c61,0xa1377a0c,0xf8598e14,0x13eb893c,0xa9ceee27,0x61b735c9,0x1ce1ede5,0x477a3cb1,0xd29c59df,0xf2553f73,0x141879ce,0xc773bf37,0xf753eacd,0xfd5f5baa,0x3ddf146f,0x447886db,0xafca81f3,0x68b93ec4,0x24382c34,0xa3c25f40,0x1d1672c3,0xe2bc0c25,0x3c288b49,0x0dff4195,0xa8397101,0x0c08deb3,0xb4d89ce4,0x566490c1,0xcb7b6184,0x32d570b6,0x6c48745c,0xb8d04257];final SH=[0x5150a7f4,0x7e536541,0x1ac3a417,0x3a965e27,0x3bcb6bab,0x1ff1459d,0xacab58fa,0x4b9303e3,0x2055fa30,0xadf66d76,0x889176cc,0xf5254c02,0x4ffcd7e5,0xc5d7cb2a,0x26804435,0xb58fa362,0xde495ab1,0x25671bba,0x45980eea,0x5de1c0fe,0xc302752f,0x8112f04c,0x8da39746,0x6bc6f9d3,0x03e75f8f,0x15959c92,0xbfeb7a6d,0x95da5952,0xd42d83be,0x58d32174,0x492969e0,0x8e44c8c9,0x756a89c2,0xf478798e,0x996b3e58,0x27dd71b9,0xbeb64fe1,0xf017ad88,0xc966ac20,0x7db43ace,0x63184adf,0xe582311a,0x97603351,0x62457f53,0xb1e07764,0xbb84ae6b,0xfe1ca081,0xf9942b08,0x70586848,0x8f19fd45,0x94876cde,0x52b7f87b,0xab23d373,0x72e2024b,0xe3578f1f,0x662aab55,0xb20728eb,0x2f03c2b5,0x869a7bc5,0xd3a50837,0x30f28728,0x23b2a5bf,0x02ba6a03,0xed5c8216,0x8a2b1ccf,0xa792b479,0xf3f0f207,0x4ea1e269,0x65cdf4da,0x06d5be05,0xd11f6234,0xc48afea6,0x349d532e,0xa2a055f3,0x0532e18a,0xa475ebf6,0x0b39ec83,0x40aaef60,0x5e069f71,0xbd51106e,0x3ef98a21,0x963d06dd,0xddae053e,0x4d46bde6,0x91b58d54,0x71055dc4,0x046fd406,0x60ff1550,0x1924fb98,0xd697e9bd,0x89cc4340,0x67779ed9,0xb0bd42e8,0x07888b89,0xe7385b19,0x79dbeec8,0xa1470a7c,0x7ce90f42,0xf8c91e84,0x00000000,0x09838680,0x3248ed2b,0x1eac7011,0x6c4e725a,0xfdfbff0e,0x0f563885,0x3d1ed5ae,0x3627392d,0x0a64d90f,0x6821a65c,0x9bd1545b,0x243a2e36,0x0cb1670a,0x930fe757,0xb4d296ee,0x1b9e919b,0x804fc5c0,0x61a220dc,0x5a694b77,0x1c161a12,0xe20aba93,0xc0e52aa0,0x3c43e022,0x121d171b,0x0e0b0d09,0xf2adc78b,0x2db9a8b6,0x14c8a91e,0x578519f1,0xaf4c0775,0xeebbdd99,0xa3fd607f,0xf79f2601,0x5cbcf572,0x44c53b66,0x5b347efb,0x8b762943,0xcbdcc623,0xb668fced,0xb863f1e4,0xd7cadc31,0x42108563,0x13402297,0x842011c6,0x857d244a,0xd2f83dbb,0xae1132f9,0xc76da129,0x1d4b2f9e,0xdcf330b2,0x0dec5286,0x77d0e3c1,0x2b6c16b3,0xa999b970,0x11fa4894,0x472264e9,0xa8c48cfc,0xa01a3ff0,0x56d82c7d,0x22ef9033,0x87c74e49,0xd9c1d138,0x8cfea2ca,0x98360bd4,0xa6cf81f5,0xa528de7a,0xda268eb7,0x3fa4bfad,0x2ce49d3a,0x500d9278,0x6a9bcc5f,0x5462467e,0xf6c2138d,0x90e8b8d8,0x2e5ef739,0x82f5afc3,0x9fbe805d,0x697c93d0,0x6fa92dd5,0xcfb31225,0xc83b99ac,0x10a77d18,0xe86e639c,0xdb7bbb3b,0xcd097826,0x6ef41859,0xec01b79a,0x83a89a4f,0xe6656e95,0xaa7ee6ff,0x2108cfbc,0xefe6e815,0xbad99be7,0x4ace366f,0xead4099f,0x29d67cb0,0x31afb2a4,0x2a31233f,0xc63094a5,0x35c066a2,0x7437bc4e,0xfca6ca82,0xe0b0d090,0x3315d8a7,0xf14a9804,0x41f7daec,0x7f0e50cd,0x172ff691,0x768dd64d,0x434db0ef,0xcc544daa,0xe4df0496,0x9ee3b5d1,0x4c1b886a,0xc1b81f2c,0x467f5165,0x9d04ea5e,0x015d358c,0xfa737487,0xfb2e410b,0xb35a1d67,0x9252d2db,0xe9335610,0x6d1347d6,0x9a8c61d7,0x377a0ca1,0x598e14f8,0xeb893c13,0xceee27a9,0xb735c961,0xe1ede51c,0x7a3cb147,0x9c59dfd2,0x553f73f2,0x1879ce14,0x73bf37c7,0x53eacdf7,0x5f5baafd,0xdf146f3d,0x7886db44,0xca81f3af,0xb93ec468,0x382c3424,0xc25f40a3,0x1672c31d,0xbc0c25e2,0x288b493c,0xff41950d,0x397101a8,0x08deb30c,0xd89ce4b4,0x6490c156,0x7b6184cb,0xd570b632,0x48745c6c,0xd04257b8];abstract class Lu implements ih{Uint8List process(Uint8List B){var A=new Uint8List(blockSize);var C=DR(B,0,A,0);return A.sublist(0,C);}}abstract class Mu implements hh{Uint8List process(Uint8List A){update(A,0,A.length);var B=new Uint8List(fq);var C=S8(B,0);return B.sublist(0,C);}}abstract class ph extends Mu{final CEB=new mG(0);final DEB=new Uint8List(4);int EEB;final Endianness FEB;final GEB;final state;final buffer;int eT;ph(this.FEB,int A,int C,[int B=null]):GEB=(B==null)?A:B,state=new List<int>(A),buffer=new List<int>(C){reset();}void ns();void DR();void reset(){CEB.set(0);EEB=0;DEB.fillRange(0,DEB.length,0);eT=0;buffer.fillRange(0,buffer.length,0);ns();}void yZ(int A){DEB[EEB++ ]=uh(A);HEB();CEB.sum(1);}void update(Uint8List D,int B,int C){var A;A=IEB(D,B,C);B+= A;C-= A;A=JEB(D,B,C);B+= A;C-= A;KEB(D,B,C);}int S8(Uint8List A,int B){var C=new mG(CEB)..XAB(3);LEB();MEB(C);NEB();OEB(A,B);reset();return fq;}void PEB(Uint8List A,int B){buffer[eT++ ]=nO(A,B,FEB);if(eT==16){NEB();}}void NEB(){DR();eT=0;buffer.fillRange(0,16,0);}void KEB(Uint8List C,int A,int B){while(B>0){yZ(C[A]);A++ ;B-- ;}}int JEB(Uint8List D,int A,int B){int C=0;while(B>DEB.length){PEB(D,A);A+= DEB.length;B-= DEB.length;CEB.sum(DEB.length);C+= 4;}return C;}int IEB(Uint8List D,int A,int B){var C=0;while((EEB!=0)&&(B>0)){yZ(D[A]);A++ ;B-- ;C++ ;}return C;}void HEB(){if(EEB==DEB.length){PEB(DEB,0);EEB=0;}}void LEB(){yZ(128);while(EEB!=0){yZ(0);}}void MEB(mG A){if(eT>14){NEB();}switch (FEB){case Endianness.LITTLE_ENDIAN:buffer[14]=A.dr;buffer[15]=A.Nr;break;case Endianness.BIG_ENDIAN:buffer[14]=A.Nr;buffer[15]=A.dr;break;default:throw new StateError("Invalid endianness: ${FEB}");}}void OEB(Uint8List B,int C){for(int A=0;A<GEB;A++ ){TR(state[A],B,(C+A*4),FEB);}}}class mM extends ph implements hh{static const Nu=32;mM():super(Endianness.BIG_ENDIAN,8,64);final rCB="SHA-256";final fq=Nu;void ns(){state[0]=0x6a09e667;state[1]=0xbb67ae85;state[2]=0x3c6ef372;state[3]=0xa54ff53a;state[4]=0x510e527f;state[5]=0x9b05688c;state[6]=0x1f83d9ab;state[7]=0x5be0cd19;}void DR(){for(var A=16;A<64;A++ ){buffer[A]=JC(QEB(buffer[A-2])+buffer[A-7]+REB(buffer[A-15])+buffer[A-16]);}var B=state[0];var C=state[1];var D=state[2];var G=state[3];var I=state[4];var J=state[5];var K=state[6];var N=state[7];var A=0;for(var P=0;P<8;P++ ){N=JC(N+SEB(I)+TEB(I,J,K)+GL[A]+buffer[A]);G=JC(G+N);N=JC(N+UEB(B)+VEB(B,C,D)); ++A;K=JC(K+SEB(G)+TEB(G,I,J)+GL[A]+buffer[A]);D=JC(D+K);K=JC(K+UEB(N)+VEB(N,B,C)); ++A;J=JC(J+SEB(D)+TEB(D,G,I)+GL[A]+buffer[A]);C=JC(C+J);J=JC(J+UEB(K)+VEB(K,N,B)); ++A;I=JC(I+SEB(C)+TEB(C,D,G)+GL[A]+buffer[A]);B=JC(B+I);I=JC(I+UEB(J)+VEB(J,K,N)); ++A;G=JC(G+SEB(B)+TEB(B,C,D)+GL[A]+buffer[A]);N=JC(N+G);G=JC(G+UEB(I)+VEB(I,J,K)); ++A;D=JC(D+SEB(N)+TEB(N,B,C)+GL[A]+buffer[A]);K=JC(K+D);D=JC(D+UEB(G)+VEB(G,I,J)); ++A;C=JC(C+SEB(K)+TEB(K,N,B)+GL[A]+buffer[A]);J=JC(J+C);C=JC(C+UEB(D)+VEB(D,G,I)); ++A;B=JC(B+SEB(J)+TEB(J,K,N)+GL[A]+buffer[A]);I=JC(I+B);B=JC(B+UEB(C)+VEB(C,D,G)); ++A;}state[0]=JC(state[0]+B);state[1]=JC(state[1]+C);state[2]=JC(state[2]+D);state[3]=JC(state[3]+G);state[4]=JC(state[4]+I);state[5]=JC(state[5]+J);state[6]=JC(state[6]+K);state[7]=JC(state[7]+N);}int TEB(int A,int B,int C)=>(A&B)^((~A)&C);int VEB(int A,int B,int C)=>(A&B)^(A&C)^(B&C);int UEB(int A)=>zH(A,2)^zH(A,13)^zH(A,22);int SEB(int A)=>zH(A,6)^zH(A,11)^zH(A,25);int REB(int A)=>zH(A,7)^zH(A,18)^Ya(A,3);int QEB(int A)=>zH(A,17)^zH(A,19)^Ya(A,10);static final GL=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0x0fc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x06ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2];}class qh implements qI{final String b8;final lh yF;final List<int> lU;final SR pd;final r Hg;r WEB;qh(this.b8,this.yF,this.pd,this.Hg,[this.WEB=null,this.lU=null]){if(WEB==null){WEB=r.tJ;}}}abstract class ME implements Eu{r HH();int get rT;int get h7=>((rT+7)~/8);ME operator+(ME A);ME operator-(ME A);ME operator*(ME A);ME operator/(ME A);ME operator-();ME qU();ME sqrt();String toString()=>HH().toString();}abstract class kD implements SR{final Sa yF;final ME x;final ME y;final bool vY;final Ou XEB;mO YEB;kD(this.yF,this.x,this.y,this.vY,[this.XEB=Pu]);bool get qK=>(x==null&&y==null);void set m$(mO A){YEB=A;}bool operator==(A){if(A is kD){if(qK){return A.qK;}return x==A.x&&y==A.y;}return false;}String toString()=>"(${x},${y})";int get hashCode{if(qK){return 0;}return x.hashCode^y.hashCode;}Uint8List ef([bool A=true]);kD operator+(kD A);kD operator-(kD A);kD operator-();kD xU();kD operator*(r A){if(A.fG()<0){throw new ArgumentError("The multiplicator cannot be negative");}if(qK){return this;}if(A.fG()==0){return yF.iQ;}return XEB(this,A,YEB);}}abstract class Sa implements lh{ME ZEB;ME aEB;Sa(r A,r B){this.ZEB=nK(A);this.aEB=nK(B);}ME get eE=>ZEB;ME get dD=>aEB;int get rT;kD get iQ;ME nK(r A);kD Tq(r A,r B,[bool C=false]);kD cq(int A,r B);kD Lf(List<int> A){kD C=null;int B=(rT+7)~/8;switch (A[0]){case 0x00:if(A.length!=1){throw new ArgumentError("Incorrect length for infinity encoding");}C=iQ;break;case 0x02:case 0x03:if(A.length!=(B+1)){throw new ArgumentError("Incorrect length for compressed encoding");}int G=A[0]&1;var D=bEB(A,1,B);C=cq(G,D);break;case 0x04:case 0x06:case 0x07:if(A.length!=(2*B+1)){throw new ArgumentError("Incorrect length for uncompressed/hybrid encoding");}r D=bEB(A,1,B);r I=bEB(A,1+B,B);C=Tq(D,I,false);break;default:throw new ArgumentError("Invalid point encoding 0x"+A[0].toRadixString(16));}return C;}r bEB(List<int> B,int A,int C){return new r.yBB(1,B.sublist(A,A+C));}}abstract class mO{}typedef kD Ou(kD _0,r _1,mO _2);kD Pu(kD C,r J,mO P){r D=J;r G=D*r.ah;kD K=-C;kD A=C;for(var B=G.bitLength()-2;B>0; --B){A=A.xU();var I=G.oI(B);var N=D.oI(B);if(I!=N){A+= (I?C:K);}}return A;}class tC extends ME{final r qB;final r x;tC(this.qB,this.x){if(x>=qB){throw new ArgumentError("Value x must be smaller than q");}}int get rT=>qB.bitLength();r HH()=>x;tC operator+(tC A)=>new tC(qB,(x+A.HH())%qB);tC operator-(tC A)=>new tC(qB,(x-A.HH())%qB);tC operator*(tC A)=>new tC(qB,(x*A.HH())%qB);tC operator/(tC A)=>new tC(qB,(x*A.HH().modInverse(qB))%qB);tC operator-()=>new tC(qB,-x%qB);tC qU()=>new tC(qB,x.modPow(r.La,qB));tC sqrt(){if(!qB.oI(0)){throw new UnimplementedError("Not implemented yet");}if(qB.oI(1)){var G=new tC(qB,x.modPow((qB>>2)+r.tJ,qB));return G.qU()==this?G:null;}var C=qB-r.tJ;var I=C>>1;if(x.modPow(I,qB)!=r.tJ){return null;}var P=C>>2;var R=(P<<1)+r.tJ;var J=x;var K=(J>>2)%qB;var D,A;var S=new FL();do{r B;do{B=S.nr(qB.bitLength());}while((B>=qB)||(((B*B)-K).modPow(I,qB)!=C));List<r> N=cEB(qB,B,J,R);D=N[0];A=N[1];if(((A*A)%qB)==K){if(A.oI(0)){A=A+qB;}A=(A>>1);return new tC(qB,A);}}while((D==r.tJ)||(D==C));return null;}List<r> cEB(r B,r K,r P,r N){var S=N.bitLength();var R=N.fr;r D=r.tJ;r C=r.La;r G=K;r A=r.tJ;r I=r.tJ;for(var J=S-1;J>=(R+1);J-- ){A=(A*I)%B;if(N.oI(J)){I=(A*P)%B;D=(D*G)%B;C=((G*C)-(K*A))%B;G=((G*G)-(I<<1))%B;}else{I=A;D=((D*C)-A)%B;G=((G*C)-(K*A))%B;C=((C*C)-(A<<1))%B;}}A=(A*I)%B;I=(A*P)%B;D=((D*C)-A)%B;C=((G*C)-(K*A))%B;A=(A*I)%B;for(var J=1;J<=R;J++ ){D=(D*C)%B;C=((C*C)-(A<<1))%B;A=(A*A)%B;}return [D,C];}bool operator==(A){if(A is tC){return (qB==A.qB)&&(x==A.x);}return false;}int get hashCode=>qB.hashCode^x.hashCode;}class ID extends kD{ID(JV C,tC A,tC B,[bool D=false]):super(C,A,B,D,Qu){if((A!=null&&B==null)||(A==null&&B!=null)){throw new ArgumentError("Exactly one of the field elements is null");}}Uint8List ef([bool I=true]){if(qK){return new Uint8List.fromList([1]);}var C=x.h7;if(I){int D;if(y.HH().oI(0)){D=0x03;}else{D=0x02;}Uint8List B=Ua(x.HH(),C);Uint8List A=new Uint8List(B.length+1);A[0]=D.toInt();A.setAll(1,B);return A;}else{Uint8List B=Ua(x.HH(),C);Uint8List G=Ua(y.HH(),C);Uint8List A=new Uint8List(B.length+G.length+1);A[0]=0x04;A.setAll(1,B);A.setAll(B.length+1,G);return A;}}ID operator+(ID A){if(qK){return A;}if(A.qK){return this;}if(x==A.x){if(y==A.y){return xU();}return yF.iQ;}var B=(A.y-y)/(A.x-x);var C=(B.qU()-x)-A.x;var D=(B*(x-C))-y;return new ID(yF,C,D,vY);}ID xU(){if(qK){return this;}if(y.HH()==0){return this.yF.iQ;}var A=yF.nK(r.La);var D=yF.nK(r.ah);var B=((x.qU()*D)+yF.eE)/(y*A);var C=B.qU()-(x*A);var G=(B*(x-C))-y;return new ID(yF,C,G,vY);}ID operator-(ID A){if(A.qK){return this;}return this+(-A);}ID operator-(){return new ID(yF,x,-y,vY);}}class JV extends Sa{final r qB;ID dEB;JV(this.qB,r A,r B):super(A,B){dEB=new ID(this,null,null);}int get rT=>qB.bitLength();ID get iQ=>dEB;tC nK(r A)=>new tC(this.qB,A);ID Tq(r A,r B,[bool C=false])=>new ID(this,nK(A),nK(B),C);ID cq(int D,r G){var A=nK(G);var I=(A*((A*A)+eE))+dD;tC B=I.sqrt();if(B==null){throw new ArgumentError("Invalid point compression");}var C=B.HH();var J=C.oI(0)?1:0;if(J!=D){B=nK(qB-C);}return new ID(this,A,B,true);}bool operator==(A){if(A is JV){return qB==A.qB&&eE==A.eE&&dD==A.dD;}return false;}int get hashCode=>eE.hashCode^dD.hashCode^qB.hashCode;}class Ta implements mO{List<ID> Ts;ID Mt;}ID Qu(ID N,r a,mO R){Ta G=R;if((R==null)&&(R is!Ta)){G=new Ta();}var I=a.bitLength();var D;var C;if(I<13){D=2;C=1;}else{if(I<41){D=3;C=2;}else{if(I<121){D=4;C=4;}else{if(I<337){D=5;C=8;}else{if(I<897){D=6;C=16;}else{if(I<2305){D=7;C=32;}else{D=8;C=127;}}}}}}var S=1;var A=G.Ts;var P=G.Mt;if(A==null){A=new List<ID>.filled(1,N);}else{S=A.length;}if(P==null){P=N.xU();}if(S<C){List<ID> j=A;A=new List<ID>(C);A.setAll(0,j);for(int B=S;B<C;B++ ){A[B]=P+(A[B-1]);}}var J=Ru(D,a);var q=J.length;var K=N.yF.iQ;for(int B=q-1;B>=0;B-- ){K=K.xU();if(J[B]!=0){if(J[B]>0){K+= A[(J[B]-1)~/2];}else{K-= A[(-J[B]-1)~/2];}}}G.Ts=A;G.Mt=P;N.m$=G;return K;}List<int> Ru(int I,r C){List<int> B=new List<int>(C.bitLength()+1);int J=(1<<I);r N=new r(J);int A=0;int D=0;while(C.fG()>0){if(C.oI(0)){r G=C.OU(N);if(G.oI(I-1)){B[A]=G.CU()-J;}else{B[A]=G.CU();}B[A]%=0x100;if((B[A]&0x80)!=0){B[A]=B[A]-256;}C=C-new r(B[A]);D=A;}else{B[A]=0;}C=C.jZ(1);A++ ;}D++ ;List<int> K=new List<int>(D);K.setAll(0,B.sublist(0,D));return K;}Uint8List Ua(r C,int B){Uint8List A=new Uint8List.fromList(C.vU());if(B<A.length){return A.sublist(A.length-B);}else if(B>A.length){return new Uint8List(B)..setAll(B-A.length,A);}return A;}class rh implements Du{qI eEB;FL fEB;void init(xH A){KV B;if(A is MV){fEB=A.FR;B=A.parameters;}else{fEB=new FL();B=A;}eEB=B.c8;}HV rq(){var B=eEB.Hg;var C=B.bitLength();var A;do{A=fEB.nr(C);}while(A==r.vt||(A>=B));var D=eEB.pd*A;return new HV(new lG(D,eEB),new yH(A,eEB));}}class KV extends sh{qI gEB;KV(qI A):super(A.Hg.bitLength()){gEB=A;}qI get c8=>gEB;}abstract class sh implements xH{final int d7;sh(this.d7);}class Va extends xH{final Uint8List key;Va(this.key);}class LV<qd extends xH> implements xH{final Uint8List Xr;final qd parameters;LV(this.parameters,this.Xr);}class MV<qd extends xH> implements xH{final qd parameters;final FL FR;MV(this.parameters,this.FR);}class Wa extends th implements FL{final ih gT;Uint8List hEB;Uint8List iEB;var jEB;Wa(this.gT){hEB=new Uint8List(gT.blockSize);iEB=new Uint8List(gT.blockSize);jEB=iEB.length;}void lU(LV<xH> A){jEB=iEB.length;hEB.setAll(0,A.Xr);gT.init(true,A.parameters);}int Ng(){if(jEB==iEB.length){gT.DR(hEB,0,iEB,0);jEB=0;kEB();}return uh(iEB[jEB++ ]);}void kEB(){int A=hEB.length;do{A-- ;hEB[A]+=1;}while(hEB[A]==0);}}abstract class th implements FL{r nr(int A){return new r.yBB(1,lEB(A));}List<int> lEB(int B){if(B<0){throw new ArgumentError("numBits must be non-negative");}var A=(B+7)~/8;var C=new Uint8List(A);if(A>0){for(var D=0;D<A;D++ ){C[D]=Ng();}int G=8*A-B;C[0]&=(1<<(8-G))-1;}return C;}}const Xa=0x1F;const Su=0x3F;const Tu=0xFF;const OF=0xFFFFFFFF;final Uu=[0xFFFFFFFF,0x7FFFFFFF,0x3FFFFFFF,0x1FFFFFFF,0x0FFFFFFF,0x07FFFFFF,0x03FFFFFF,0x01FFFFFF,0x00FFFFFF,0x007FFFFF,0x003FFFFF,0x001FFFFF,0x000FFFFF,0x0007FFFF,0x0003FFFF,0x0001FFFF,0x0000FFFF,0x00007FFF,0x00003FFF,0x00001FFF,0x00000FFF,0x000007FF,0x000003FF,0x000001FF,0x000000FF,0x0000007F,0x0000003F,0x0000001F,0x0000000F,0x00000007,0x00000003,0x00000001,0x00000000];int uh(int A)=>(A&Tu);int JC(int A)=>(A&OF);int NV(int A,int B){assert((A>=0)&&(A<=OF));B&= Xa;A&= Uu[B];return ((A<<B)&OF);}int Ya(int A,int B){assert((A>=0)&&(A<=OF));B&= Xa;return (A>>B);}int zH(int A,int B){assert(B>=0);assert((A>=0)&&(A<=OF));B&= Xa;return (A>>B)|NV(A,(32-B));}void TR(int B,dynamic A,int C,Endianness D){assert((B>=0)&&(B<=OF));if(A is!ByteData){A=new ByteData.view(A.buffer);}(A as ByteData).setUint32(C,B,D);}int nO(dynamic A,int B,Endianness C){if(A is!ByteData){A=new ByteData.view(A.buffer);}return (A as ByteData).getUint32(B,C);}class mG{int mEB;int nEB;mG([dynamic A=0,int B=null]){set(A,B);}int get dr=>nEB;int get Nr=>mEB;bool operator==(mG A)=>((mEB==A.mEB)&&(nEB==A.nEB));bool operator<(mG A)=>((mEB<A.mEB)||((mEB==A.mEB)&&(nEB<A.nEB)));bool operator<=(mG A)=>((this<A)||(this==A));bool operator>(mG A)=>((mEB>A.mEB)||((mEB==A.mEB)&&(nEB>A.nEB)));bool operator>=(mG A)=>((this>A)||(this==A));void set(dynamic A,[int B=null]){if(B==null){if(A is mG){mEB=A.mEB;nEB=A.nEB;}else{assert(A<=OF);mEB=0;nEB=A;}}else{assert(A<=OF);assert(B<=OF);mEB=A;nEB=B;}}void sum(dynamic A){if(A is int){A&= OF;int B=(nEB+A);nEB=(B&OF);if(B!=nEB){mEB++ ;mEB&= OF;}}else{int B=(nEB+A.nEB);nEB=(B&OF);int C=((B!=nEB)?1:0);mEB=(((mEB+A.mEB+C) as int)&OF);}}void RU(){mEB=(~mEB&OF);nEB=(~nEB&OF);}void KY(mG A){mEB&= A.mEB;nEB&= A.nEB;}void uD(mG A){mEB|= A.mEB;nEB|= A.nEB;}void Ia(mG A){mEB^= A.mEB;nEB^= A.nEB;}void XAB(int A){A&= Su;if(A==0){}else if(A>=32){mEB=NV(nEB,(A-32));nEB=0;}else{mEB=NV(mEB,A);mEB|= nEB>>(32-A);nEB=NV(nEB,A);}}String toString(){var A=new StringBuffer();oEB(A,mEB);oEB(A,nEB);return A.toString();}void oEB(StringBuffer A,int D){var B=D.toRadixString(16);for(var C=(8-B.length);C>0;C-- ){A.write("0");}A.write(B);}}abstract class oO{}class TH{static String ba(List<int> A){return Za.Vu(A);}static String pO(List<int> A,{bool urlSafe: false,bool addLineSeparator: false}){return Za.Xu(A,urlSafe,addLineSeparator);}static List<int> ea(String A){return Za.Zu(A);}}const da wh=const da();const List<int> aa=const[-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-1,-2,-2,-1,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,62,-2,62,-2,63,52,53,54,55,56,57,58,59,60,61,-2,-2,-2,0,-2,-2,-2,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-2,-2,-2,-2,63,-2,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2];const String cu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";const String du="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";const int eu=76;const int fu=13;const int gu=10;const List<int> yh=const[61];const List<int> pM=const[37,51,68];const String hu="=";const String ca="%3D";class da extends Codec<List<int>,String>{final bool pEB;final bool qEB;final bool rEB;const da({bool urlSafe: false,bool addLineSeparator: false,bool encodePaddingCharacter: false}):pEB=urlSafe,qEB=addLineSeparator,rEB=encodePaddingCharacter;String get name=>"base64";String encode(List<int> A,{bool urlSafe,bool addLineSeparator,bool encodePaddingCharacter}){if(urlSafe==null)urlSafe=pEB;if(addLineSeparator==null)addLineSeparator=qEB;if(encodePaddingCharacter==null){encodePaddingCharacter=rEB;}return new qO(urlSafe:urlSafe,addLineSeparator:addLineSeparator,encodePaddingCharacter:encodePaddingCharacter).convert(A);}qO get encoder=>new qO(urlSafe:pEB,addLineSeparator:qEB,encodePaddingCharacter:rEB);VR get decoder=>new VR();}class qO extends Converter<List<int>,String>{final bool pEB;final bool qEB;final bool rEB;final List<int> sEB;const qO({bool urlSafe: false,bool addLineSeparator: false,bool encodePaddingCharacter: false}):pEB=urlSafe,qEB=addLineSeparator,rEB=encodePaddingCharacter,sEB=encodePaddingCharacter==true?pM:yh;String convert(List<int> G,[int R=0,int K]){int a=G.length;RangeError.checkValidRange(R,K,a);if(K==null)K=a;int N=K-R;if(N==0){return "";}final String D=pEB?cu:du;final int J=N.remainder(3);final int BB=N-J;int HB=((N~/3)*4);int S;if(rEB){S=((J>0)?6:0);}else{S=((J>0)?4:0);}int P=HB+S;if(qEB){P+= ((P-1)~/eu)<<1;}List<int> B=new List<int>(P);int A=0,I=R,j=0;while(I<BB){int C=((G[I++ ]<<16)&0x00FFFFFF)|((G[I++ ]<<8)&0x00FFFFFF)|G[I++ ];B[A++ ]=D.codeUnitAt(C>>18);B[A++ ]=D.codeUnitAt((C>>12)&0x3F);B[A++ ]=D.codeUnitAt((C>>6)&0x3F);B[A++ ]=D.codeUnitAt(C&0x3F);if(qEB&& ++j==19&&A<P-2){B[A++ ]=fu;B[A++ ]=gu;j=0;}}if(J==1){int C=G[I];B[A++ ]=D.codeUnitAt(C>>2);B[A++ ]=D.codeUnitAt((C<<4)&0x3F);B.setRange(A,A+sEB.length,sEB);B.setRange(A+sEB.length,A+2*sEB.length,sEB);}else if(J==2){int C=G[I];int q=G[I+1];B[A++ ]=D.codeUnitAt(C>>2);B[A++ ]=D.codeUnitAt(((C<<4)|(q>>4))&0x3F);B[A++ ]=D.codeUnitAt((q<<2)&0x3F);B.setRange(A,A+sEB.length,sEB);}return new String.fromCharCodes(B);}fa startChunkedConversion(Sink<String> A){StringConversionSink B;if(A is StringConversionSink){B=A;}else{B=new StringConversionSink.from(A);}return new fa(B,pEB,qEB);}}class fa extends ChunkedConversionSink<List<int>>{final qO tEB;final ChunkedConversionSink<String> uEB;final List<int> vEB=new List<int>();int wEB=0;fa(this.uEB,A,B):tEB=new qO(urlSafe:A,addLineSeparator:B);void add(List<int> A){var B=(A.length+wEB)%3;int C=wEB+A.length-B;if(wEB+A.length>vEB.length){vEB.replaceRange(wEB,vEB.length,A.sublist(0,vEB.length-wEB));vEB.addAll(A.sublist(vEB.length-wEB));}else{vEB.replaceRange(wEB,wEB+A.length,A);}uEB.add(tEB.convert(vEB,0,C));vEB.removeRange(0,C);wEB=B;}void close(){if(wEB>0){uEB.add(tEB.convert(vEB.sublist(0,wEB)));}uEB.close();}}class VR extends Converter<String,List<int>>{const VR();List<int> convert(String B){int J=B.length;if(J==0){return new Uint8List(0);}int D=0;int A=0;while(A<J){int S=B.codeUnitAt(A);int G=aa[S];if(G==-2){if(S==pM[0]&&A<J-2&&B.codeUnitAt(A+1)==pM[1]&&B.codeUnitAt(A+2)==pM[2]){D++ ;A+= 2;}else{throw new FormatException('Invalid character',B,A);}}if(G>=0)D++ ;A++ ;}if(D%4!=0){throw new FormatException('''Size of Base 64 characters in Input
          must be a multiple of 4''',B,D);}int P=0;A=J-1;while(A>=0){int R=B.codeUnitAt(A);if(R==pM[2]&&A>=2&&B.codeUnitAt(A-1)==pM[1]&&B.codeUnitAt(A-2)==pM[0]){P++ ;A-= 2;}else if(aa[R]>0){break;}else if(R==yh[0]){P++ ;}A-- ;}int K=((D*6)>>3)-P;List<int> N=new Uint8List(K);for(int A=0,C=0;C<K;){int I=0;for(int a=4;a>0;){int G=aa[B.codeUnitAt(A++ )];if(G>=0){I=((I<<6)&0x00FFFFFF)|G;a-- ;}}N[C++ ]=I>>16;if(C<K){N[C++ ]=(I>>8)&0xFF;if(C<K)N[C++ ]=I&0xFF;}}return N;}ga startChunkedConversion(Sink<List<int>> A){if(A is!ByteConversionSink){A=new ByteConversionSink.from(A);}return new ga(A);}}class ga extends ChunkedConversionSink<String>{final VR xEB=new VR();final ChunkedConversionSink<List<int>> uEB;String yEB="";ga(this.uEB);void add(String A){if(A.isEmpty)return;if(yEB.isNotEmpty){A=yEB+A;}A=A.replaceAll(ca,hu);int B=A.length;if(A.length>3&&A.contains(ca[0],A.length-2)){B=A.lastIndexOf(ca[0]);}B-= B%4;yEB=A.substring(B);if(B>0){uEB.add(xEB.convert(A.substring(0,B)));}}void close(){if(yEB.isNotEmpty){uEB.add(xEB.convert(yEB));}uEB.close();}}abstract class Za{static String Vu(List<int> C){var A=new StringBuffer();for(var B in C){A.write('${B<16?'0':''}${B.toRadixString(16)}');}return A.toString();}static String Xu(List<int> A,[bool B=false,bool C=false]){return wh.encode(A,urlSafe:B,addLineSeparator:C);}static List<int> Zu(String A){return wh.decode(A);}}const nM=0xff;const AI=0xffffffff;const Wu=8;const UR=4;int QV(int A,int C){var B=C&31;return ((A<<B)&AI)|((A&AI)>>(32-B));}abstract class RV implements oO{final int zEB;final int AFB;final bool BFB;final Uint32List CFB;final Uint32List DFB;int EFB=0;List<int> FFB;bool GFB=false;RV(int A,int B,bool this.BFB):FFB=[] ,CFB=new Uint32List(A),DFB=new Uint32List(B),zEB=A,AFB=B;void add(List<int> A){if(GFB){throw new StateError('Hash update method called after digest was retrieved');}EFB+= A.length;FFB.addAll(A);HFB();}List<int> close(){if(GFB){return IFB();}GFB=true;JFB();HFB();assert(FFB.length==0);return IFB();}int get blockSize{return zEB*UR;}void KFB(Uint32List A);int LFB(A,B)=>(A+B)&AI;int MFB(B,A)=>(B+A-1)&-A;List<int> IFB(){var B=[] ;for(var A=0;A<DFB.length;A++ ){B.addAll(NFB(DFB[A]));}return B;}void OFB(List<int> B,int A){assert((B.length-A)>=(zEB*UR));for(var D=0;D<zEB;D++ ){var G=BFB?B[A]:B[A+3];var I=BFB?B[A+1]:B[A+2];var J=BFB?B[A+2]:B[A+1];var K=BFB?B[A+3]:B[A];A+= 4;var C=(G&0xff)<<24;C|= (I&nM)<<16;C|= (J&nM)<<8;C|= (K&nM);CFB[D]=C;}}List<int> NFB(int B){List A=new List<int>(UR);A[0]=(B>>(BFB?24:0))&nM;A[1]=(B>>(BFB?16:8))&nM;A[2]=(B>>(BFB?8:16))&nM;A[3]=(B>>(BFB?0:24))&nM;return A;}void HFB(){var B=FFB.length;var C=zEB*UR;if(B>=C){var A=0;for(;(B-A)>=C;A+= C){OFB(FFB,A);KFB(CFB);}FFB=FFB.sublist(A,B);}}void JFB(){FFB.add(0x80);var B=EFB+9;var D=zEB*UR;var G=MFB(B,D);var I=G-B;for(var C=0;C<I;C++ ){FFB.add(0);}var A=EFB*Wu;assert(A<pow(2,32));if(BFB){FFB.addAll(NFB(0));FFB.addAll(NFB(A&AI));}else{FFB.addAll(NFB(A&AI));FFB.addAll(NFB(0));}}}class xh{final List<int> PFB;oO QFB;List<int> RFB;bool SFB=false;xh(oO this.QFB,List<int> this.RFB):PFB=[] ;void add(List<int> A){if(SFB)throw new StateError("HMAC is closed");PFB.addAll(A);}List<int> get eq{var B=QFB.blockSize;if(RFB.length>B){QFB=QFB.newInstance();QFB.add(RFB);RFB=QFB.close();}if(RFB.length<B){var D=new List(B);D.setRange(0,RFB.length,RFB);for(var A=RFB.length;A<B;A++ ){D[A]=0;}RFB=D;}var C=new List(B);for(var A=0;A<B;A++ ){C[A]=0x36^RFB[A];}QFB=QFB.newInstance();QFB.add(C);QFB.add(PFB);var G=QFB.close();for(var A=0;A<B;A++ ){C[A]=0x5c^RFB[A];}QFB=QFB.newInstance();QFB.add(C);QFB.add(G);return QFB.close();}List<int> close(){SFB=true;return eq;}bool bt(List<int> A){var C=this.eq;if(A.length!=C.length){throw new ArgumentError('Invalid digest size: ${A.length} in HMAC.verify. ' 'Expected: ${QFB.blockSize}.');}int D=0;for(var B=0;B<A.length;B++ ){D|= A[B]^C[B];}return D==0;}}class PV extends RV{PV():super(16,4,false){DFB[0]=0x67452301;DFB[1]=0xefcdab89;DFB[2]=0x98badcfe;DFB[3]=0x10325476;}PV newInstance(){return new PV();}static const Yu=const[0xd76aa478,0xe8c7b756,0x242070db,0xc1bdceee,0xf57c0faf,0x4787c62a,0xa8304613,0xfd469501,0x698098d8,0x8b44f7af,0xffff5bb1,0x895cd7be,0x6b901122,0xfd987193,0xa679438e,0x49b40821,0xf61e2562,0xc040b340,0x265e5a51,0xe9b6c7aa,0xd62f105d,0x02441453,0xd8a1e681,0xe7d3fbc8,0x21e1cde6,0xc33707d6,0xf4d50d87,0x455a14ed,0xa9e3e905,0xfcefa3f8,0x676f02d9,0x8d2a4c8a,0xfffa3942,0x8771f681,0x6d9d6122,0xfde5380c,0xa4beea44,0x4bdecfa9,0xf6bb4b60,0xbebfbc70,0x289b7ec6,0xeaa127fa,0xd4ef3085,0x04881d05,0xd9d4d039,0xe6db99e5,0x1fa27cf8,0xc4ac5665,0xf4292244,0x432aff97,0xab9423a7,0xfc93a039,0x655b59c3,0x8f0ccc92,0xffeff47d,0x85845dd1,0x6fa87e4f,0xfe2ce6e0,0xa3014314,0x4e0811a1,0xf7537e82,0xbd3af235,0x2ad7d2bb,0xeb86d391];static const bu=const[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21];void KFB(Uint32List K){assert(K.length==16);var J=DFB[0];var B=DFB[1];var D=DFB[2];var C=DFB[3];var G;var I;for(var A=0;A<64;A++ ){if(A<16){G=(B&D)|((~B&AI)&C);I=A;}else if(A<32){G=(C&B)|((~C&AI)&D);I=((5*A)+1)%16;}else if(A<48){G=B^D^C;I=((3*A)+5)%16;}else{G=D^(B|(~C&AI));I=(7*A)%16;}var N=C;C=D;D=B;B=LFB(B,QV(LFB(LFB(J,G),LFB(Yu[A],K[I])),bu[A]));J=N;}DFB[0]=LFB(J,DFB[0]);DFB[1]=LFB(B,DFB[1]);DFB[2]=LFB(D,DFB[2]);DFB[3]=LFB(C,DFB[3]);}}class oM extends RV{final Uint32List TFB;oM():TFB=new Uint32List(80),super(16,5,true){DFB[0]=0x67452301;DFB[1]=0xEFCDAB89;DFB[2]=0x98BADCFE;DFB[3]=0x10325476;DFB[4]=0xC3D2E1F0;}oM newInstance(){return new oM();}void KFB(Uint32List K){assert(K.length==16);var I=DFB[0];var B=DFB[1];var D=DFB[2];var G=DFB[3];var J=DFB[4];for(var A=0;A<80;A++ ){if(A<16){TFB[A]=K[A];}else{var N=TFB[A-3]^TFB[A-8]^TFB[A-14]^TFB[A-16];TFB[A]=QV(N,1);}var C=LFB(LFB(QV(I,5),J),TFB[A]);if(A<20){C=LFB(LFB(C,(B&D)|(~B&G)),0x5A827999);}else if(A<40){C=LFB(LFB(C,(B^D^G)),0x6ED9EBA1);}else if(A<60){C=LFB(LFB(C,(B&D)|(B&G)|(D&G)),0x8F1BBCDC);}else{C=LFB(LFB(C,B^D^G),0xCA62C1D6);}J=G;G=D;D=QV(B,30);B=I;I=C&AI;}DFB[0]=LFB(I,DFB[0]);DFB[1]=LFB(B,DFB[1]);DFB[2]=LFB(D,DFB[2]);DFB[3]=LFB(G,DFB[3]);DFB[4]=LFB(J,DFB[4]);}}class OV extends RV{final Uint32List TFB;OV():TFB=new Uint32List(64),super(16,8,true){DFB[0]=0x6a09e667;DFB[1]=0xbb67ae85;DFB[2]=0x3c6ef372;DFB[3]=0xa54ff53a;DFB[4]=0x510e527f;DFB[5]=0x9b05688c;DFB[6]=0x1f83d9ab;DFB[7]=0x5be0cd19;}OV newInstance(){return new OV();}static const List<int> au=const[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0x0fc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x06ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2];UFB(A,B)=>(B>>A)|((B<<(32-A))&AI);VFB(A,B,C)=>(A&B)^((~A&AI)&C);WFB(A,B,C)=>(A&B)^(A&C)^(B&C);XFB(A)=>UFB(2,A)^UFB(13,A)^UFB(22,A);YFB(A)=>UFB(6,A)^UFB(11,A)^UFB(25,A);ZFB(A)=>UFB(7,A)^UFB(18,A)^(A>>3);aFB(A)=>UFB(17,A)^UFB(19,A)^(A>>10);void KFB(Uint32List R){assert(R.length==16);var A=0;for(;A<16;A++ ){TFB[A]=R[A];}for(;A<64;A++ ){TFB[A]=LFB(LFB(aFB(TFB[A-2]),TFB[A-7]),LFB(ZFB(TFB[A-15]),TFB[A-16]));}var B=DFB[0];var D=DFB[1];var G=DFB[2];var N=DFB[3];var C=DFB[4];var I=DFB[5];var J=DFB[6];var P=DFB[7];for(var K=0;K<64;K++ ){var S=LFB(LFB(P,YFB(C)),LFB(VFB(C,I,J),LFB(au[K],TFB[K])));var a=LFB(XFB(B),WFB(B,D,G));P=J;J=I;I=C;C=LFB(N,S);N=G;G=D;D=B;B=LFB(S,a);}DFB[0]=LFB(B,DFB[0]);DFB[1]=LFB(D,DFB[1]);DFB[2]=LFB(G,DFB[2]);DFB[3]=LFB(N,DFB[3]);DFB[4]=LFB(C,DFB[4]);DFB[5]=LFB(I,DFB[5]);DFB[6]=LFB(J,DFB[6]);DFB[7]=LFB(P,DFB[7]);}}var gn=new Nd('initializeDateFormatting(<locale>)',f4);var t4=new Nd('initializeDateFormatting(<locale>)',g4);class Gd{String NAME;List<String> ERAS;List<String> ERANAMES;List<String> NARROWMONTHS;List<String> STANDALONENARROWMONTHS;List<String> MONTHS;List<String> STANDALONEMONTHS;List<String> SHORTMONTHS;List<String> STANDALONESHORTMONTHS;List<String> WEEKDAYS;List<String> STANDALONEWEEKDAYS;List<String> SHORTWEEKDAYS;List<String> STANDALONESHORTWEEKDAYS;List<String> NARROWWEEKDAYS;List<String> STANDALONENARROWWEEKDAYS;List<String> SHORTQUARTERS;List<String> QUARTERS;List<String> AMPMS;List<String> DATEFORMATS;List<String> TIMEFORMATS;List<String> DATETIMEFORMATS;Map<String,String> AVAILABLEFORMATS;int FIRSTDAYOFWEEK;List<int> WEEKENDRANGE;int FIRSTWEEKCUTOFFDAY;Gd({this.NAME,this.ERAS,this.ERANAMES,this.NARROWMONTHS,this.STANDALONENARROWMONTHS,this.MONTHS,this.STANDALONEMONTHS,this.SHORTMONTHS,this.STANDALONESHORTMONTHS,this.WEEKDAYS,this.STANDALONEWEEKDAYS,this.SHORTWEEKDAYS,this.STANDALONESHORTWEEKDAYS,this.NARROWWEEKDAYS,this.STANDALONENARROWWEEKDAYS,this.SHORTQUARTERS,this.QUARTERS,this.AMPMS,this.DATEFORMATS,this.TIMEFORMATS,this.AVAILABLEFORMATS,this.FIRSTDAYOFWEEK,this.WEEKENDRANGE,this.FIRSTWEEKCUTOFFDAY,this.DATETIMEFORMATS});toString()=>NAME;}var f4=new Gd(NAME:"en_US",ERAS:const['BC','AD'],ERANAMES:const['Before Christ','Anno Domini'],NARROWMONTHS:const['J','F','M','A','M','J','J','A','S','O','N','D'],STANDALONENARROWMONTHS:const['J','F','M','A','M','J','J','A','S','O','N','D'],MONTHS:const['January','February','March','April','May','June','July','August','September','October','November','December'],STANDALONEMONTHS:const['January','February','March','April','May','June','July','August','September','October','November','December'],SHORTMONTHS:const['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],STANDALONESHORTMONTHS:const['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],WEEKDAYS:const['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],STANDALONEWEEKDAYS:const['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],SHORTWEEKDAYS:const['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],STANDALONESHORTWEEKDAYS:const['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],NARROWWEEKDAYS:const['S','M','T','W','T','F','S'],STANDALONENARROWWEEKDAYS:const['S','M','T','W','T','F','S'],SHORTQUARTERS:const['Q1','Q2','Q3','Q4'],QUARTERS:const['1st quarter','2nd quarter','3rd quarter','4th quarter'],AMPMS:const['AM','PM'],DATEFORMATS:const['EEEE, MMMM d, y','MMMM d, y','MMM d, y','M/d/yy'],TIMEFORMATS:const['h:mm:ss a zzzz','h:mm:ss a z','h:mm:ss a','h:mm a'],FIRSTDAYOFWEEK:6,WEEKENDRANGE:const[5,6],FIRSTWEEKCUTOFFDAY:5,DATETIMEFORMATS:const['{1} \'at\' {0}','{1} \'at\' {0}','{1}, {0}','{1}, {0}']);var g4=const{'d':'d','E':'EEE','EEEE':'EEEE','LLL':'LLL','LLLL':'LLLL','M':'L','Md':'M/d','MEd':'EEE, M/d','MMM':'LLL','MMMd':'MMM d','MMMEd':'EEE, MMM d','MMMM':'LLLL','MMMMd':'MMMM d','MMMMEEEEd':'EEEE, MMMM d','QQQ':'QQQ','QQQQ':'QQQQ','y':'y','yM':'M/y','yMd':'M/d/y','yMEd':'EEE, M/d/y','yMMM':'MMM y','yMMMd':'MMM d, y','yMMMEd':'EEE, MMM d, y','yMMMM':'MMMM y','yMMMMd':'MMMM d, y','yMMMMEEEEd':'EEEE, MMMM d, y','yQQQ':'QQQ y','yQQQQ':'QQQQ y','H':'HH','Hm':'HH:mm','Hms':'HH:mm:ss','j':'h a','jm':'h:mm a','jms':'h:mm:ss a','jmv':'h:mm a v','jmz':'h:mm a z','jz':'h a z','m':'m','ms':'mm:ss','s':'s','v':'v','z':'z','zzzz':'zzzz','ZZZZ':'ZZZZ'};class ha extends nB{lF jF;ha(this.jF):super('/createDataflow'){f[r'$invokable']='write';f[r'$params']=[{'name':'name','type':'string'}];}VU(Map<String,dynamic> A){if(A['name'] is String){jF.D8(A['name'],A['data']);}}}class ka extends nB{lF jF;String SM;ka(this.jF,String A):super(A){SM=A.split('/')[1];f[r'$invokable']='write';}VU(Map<String,dynamic> A){jF.J8(SM);}}class la extends nB{lF jF;String SM;la(this.jF,String A):super(A){SM=A.split('/')[1];f[r'$invokable']='write';f[r'$columns']=[{'name':'output','type':'dynamic','editor':'textarea'}];}VU(Map<String,dynamic> A){return new hc([[jF.n8(SM)]]);}}class ma extends nB{lF jF;String SM;ma(this.jF,String A):super(A){SM=A.split('/')[1];f[r'$invokable']='write';f[r'$params']=[{'name':'input','type':'string','editor':'textarea'}];}VU(Map<String,dynamic> A){jF.f9(SM,A['input']);return null;}}Map uJ={'string':'string','number':'number','bool':'bool','enum':'string','textarea':'string','path':'string','datapath':'string','color':'dynamic','object':'dynamic','tabledata':'tabledata'};class ja extends nB{final lF jF;ja(String A,this.jF):super(A);}class rO{Q gE;Map<String,nG> VC=new Map<String,nG>();rO(this.gE);SV nZ;QB Y9(List A,String B,lF C){if(nZ==null){nZ=new SV(B,this,C);}if(A.length==3){return nZ;}if(A.length==4){return nZ.KM(A[3]);}return nG.XR;}}class nG extends QB{static final QB XR=new nB('/')..load({r'$is':'node'});static final QB zh=new nB('/')..load({r'$is':'dglogik/df/dataflow'});static final Map<String,QB> TV={'string':new nB('/')..load({r'$is':'node',r'$type':'string'}),'number':new nB('/')..load({r'$is':'node',r'$type':'number'}),'bool':new nB('/')..load({r'$is':'node',r'$type':'bool'}),'dynamic':new nB('/')..load({r'$is':'node',r'$type':'dynamic'}),'tabledata':new nB('/')..load({r'$is':'node',r'$type':'dynamic',r'$editor':'tabledata'})};static final Map<String,QB> UV={'string':new nB('/')..load({r'$is':'node',r'$type':'string',r'$writable':'write'}),'number':new nB('/')..load({r'$is':'node',r'$type':'number',r'$writable':'write'}),'bool':new nB('/')..load({r'$is':'node',r'$type':'bool',r'$writable':'write'}),'dynamic':new nB('/')..load({r'$is':'node',r'$type':'dynamic',r'$writable':'write'}),'tabledata':new nB('/')..load({r'$is':'node',r'$type':'dynamic',r'$editor':'tabledata',r'$writable':'write'})};static QB VV(String A,bool B){if(B){if(TV.containsKey(A)){return TV[A];}else{return TV['string'];}}else{if(UV.containsKey(A)){return UV[A];}else{return UV['string'];}}}final lF provider;Q gE;qE source;String MO;bool tf;nG(String A,this.provider):super(A){tf=lF.iu(A);f[r'$writable']='write';bFB();}void bFB(){List A=path.split('/');String C=A[1];var B=provider.cFB[C];if(B!=null){B.VC[path]=this;gE=B.gE;if(gE!=null){if(A.length==2){f[r'$is']='dglogik/df/dataflow';MO='';source=gE.KU(MO,Rt);}else{MO=A.sublist(2).join('.');source=gE.KU(MO,Rt);}}}}void init(){}Object oC;void Rt(Object A,[bool G=false]){oC=A;Object B=lF.Ai(A,tf);if(dFB!=null&&dFB.isActive){Z C=source.vD;String D;if(C!=null)D=C.cQ();dFB.rB(new hB([B,D]));}if(A is List||A is Map){rB(A);}else{rB(B);}if(eFB){watch();}}bool fFB=false;void sZ(){fFB=false;if(!eFB){DB();}}bool eFB=false;void watch(){if(!eFB){eFB=true;if(source!=null){VAB(source.value);if(gFB==null){Z C=source.vD;if(C!=null&&C.hD.FD()!='dataflow'){var G=C.hD.nC();var A=G.firstWhere((H A)=>A.name==C.name,orElse:()=>null);if(A!=null){if(uJ.containsKey(A.type)){if(A.readOnly){TV[uJ[A.type]].f.forEach((B,D){f[B]=D;OD.add(B);});}else{UV[uJ[A.type]].f.forEach((B,D){f[B]=D;OD.add(B);});}}}}}}}}void rAB(){eFB=false;if(gFB!=null){gFB.XZ(Ha);gFB=null;}if(!fFB){DB();}}Q gFB;void VAB(Object A){if(A is!Q){A=null;}if(identical(gFB,A)){return;}if(gFB!=null){gFB.XZ(Ha);}gFB=A;if(gFB!=null){String B=gFB.FD();f[r'$is']='dglogik/df/${B}';f[r'$dgType']=B;f[r'$dgId']=gFB.tK;hFB=true;gFB.JY(Ha);Ha(null);if(gFB is ya){gFB.Ih(lBB);}}else{}}ka Nf;la Wf;ma kf;bool hFB=true;void Ha(Iterable<String> G){if(hFB||G==null){p.clear();if(gFB.FD()=='dataflow'){for(String A in gFB.ar()){Object C=gFB.L(A);if(A.startsWith('!')){if(path=='!label'||path=='!ps'||path=='!x'||path=='!y'||path=='!w'||path=='!var'||path=='!varList'||path=='!actProps'){String B=A.replaceFirst('!',r'$');f[B]=C;OD.add(B);}}else if(C is Q){p[A]=new WR(C);OD.add(A);}else if(p[A] is WR){p.remove(A);OD.add(A);}}if(Nf==null){Nf=provider.AG(path+'/deleteDataflow',false);}p['deleteDataflow']=Nf;OD.add('deleteDataflow');if(Wf==null){Wf=provider.AG(path+'/exportDataflow',false);}p['exportDataflow']=Wf;OD.add('exportDataflow');if(kf==null){kf=provider.AG(path+'/importDataflow',false);}p['importDataflow']=kf;OD.add('importDataflow');}else{List J=gFB.nC();iFB=[] ;for(H D in J){if(uJ.containsKey(D.type)){iFB.add(D.name);if(D.readOnly){p[D.name]=VV(uJ[D.type],true);}else{p[D.name]=VV(uJ[D.type],false);}OD.add(D.name);}}for(String A in gFB.ar()){if(A.startsWith('!')){if(A=='!label'||A=='!ps'||A=='!x'||A=='!y'||A=='!w'||A=='!var'||A=='!varList'||A=='!actProps'){Object C=gFB.L(A);String B=A.replaceFirst('!',r'$');f[B]=C;OD.add(B);}}}if(gFB is uC){f[r'$length']=(gFB as uC).fF();OD.add(r'$length');}}}else{if(gFB.FD()=='dataflow'){for(String A in G){Z I=gFB.wB(A);Object C=I.value;if(A.startsWith('!')){if(A=='!label'||A=='!ps'||A=='!x'||A=='!y'||A=='!w'||A=='!var'||A=='!varList'||A=='!actProps'){String B=A.replaceFirst('!',r'$');f[B]=I.value;OD.add(B);}}else if(C is Q){p[A]=new WR(C);OD.add(A);}else if(p[A] is WR){p.remove(A);OD.add(A);}}}else{for(String A in G){Z I=gFB.wB(A,true);if(A.startsWith('!')){if(A=='!label'||A=='!ps'||A=='!x'||A=='!y'||A=='!w'||A=='!var'||A=='!varList'||A=='!actProps'){String B=A.replaceFirst('!',r'$');f[B]=I.value;OD.add(B);}}}if(G.contains('@length')){f[r'$length']=(gFB as uC).fF();OD.add(r'$length');}}}hFB=false;}List iFB;void lBB(){if(gFB==null){return;}List D=gFB.nC();List B=[] ;if(eFB){for(H A in D){if(uJ.containsKey(A.type)){B.add(A.name);if(A.readOnly){p[A.name]=VV(uJ[A.type],true);}else{p[A.name]=VV(uJ[A.type],false);}OD.add(A.name);}}if(iFB!=null){for(String C in iFB){if(!B.contains(C)){p.remove(C);OD.add(C);}}}}iFB=B;}bool jFB=false;bool get br=>jFB;void LZ(){jFB=true;watch();}void Og(){jFB=false;rAB();Hf();}void CL(A(ValueUpdate)){if(TC.containsKey(A)){TC.remove(A);}if(TC.length==0){Hf();}}dB o(Object A,OC G,dB C,[int I=iB.iC]){if(source==null){return C..close();}Z B=source.vD;if(B==null||B.hU){return C..close();}bool D=false;if(A is Map){if((A as Map)['@type']=='invoke'){A=new KL(UB((A as Map)['temp']));if((A as KL).Wr){B.rB(A);D=true;}}else if(this.f[r'$editor']=='tabledata'){A=new U.NCB(A);B.rB(A);D=true;}}if(!D){B.o(A);}Hf();return C..close();}dB ZO(String A,Object B,OC D,dB C){if(oC is Q&&(A==r'$label'||A==r'$ps'||A==r'$x'||A==r'$y'||A==r'$w'||A==r'$var'||A==r'$varList'||A==r'$actProps')){(oC as Q).o(A.replaceFirst(r'$','!'),B);}return C..close();}void Hf(){if(!TC.isEmpty&&!jFB&&(dFB==null||!dFB.isActive)){DB();}}void DB(){}WV dFB;WV wq(String A){if(dFB==null){dFB=new WV(A,this);}return dFB;}RC KM(String A){if(A.startsWith('_@')){if(A=='_@bv'){return wq('${path}/_@bv');}else{return new ia('${path}/${A}',provider);}}return super.KM(A);}}class WV extends QB{final nG parent;FJ get provider=>parent.provider;WV(String A,this.parent):super(A);bool get isActive{return TC.isNotEmpty;}bool kFB=false;bool get Yt=>kFB;JN nI(A(ValueUpdate),[int D=0]){TC[A]=D;var G=new JN(this,A);if(parent!=null&&parent.source!=null){Object I=lF.Ai(parent.source.value,parent.tf);Z B=parent.source.vD;String C;if(B!=null){C=B.cQ();}rB(new hB([I,C]));}return G;}void CL(A(ValueUpdate)){if(TC.containsKey(A)){TC.remove(A);}if(TC.isEmpty){kFB=false;}}void rB(hB A,{bool force: false}){super.rB(A,force:force);kFB=true;}}class lF implements FJ{Map<String,QB> VC=new Map<String,QB>();sW kJ=new zm();QB UE(String A){if(A.startsWith('/defs/')){return nG.XR;}return VC['/defs'];}QB AG(String A,[bool J=true]){if(J==true){throw 'not implemented';}if(A.startsWith('/defs/')){return nG.XR;}int K=A.indexOf('/__@symbols@__');if(K>0){List C=A.split('/');String D=C[1];if(cFB.containsKey(D)){var G=cFB[D];if(G!=null){return G.Y9(C,A,this);}}return nG.XR;}int B=A.lastIndexOf('/');if(B+2<A.length&&A.substring(B,B+3)=='/_@'){if(A.substring(B)=='/_@bv'){QB I=AG(A.substring(0,B),false);if(I is nG){VC[A]=I.wq(A);return VC[A];}else{return nG.XR;}}return new ia(A,this);}if(!VC.containsKey(A)){if(A.endsWith('/deleteDataflow')){return new ka(this,A);}if(A.endsWith('/exportDataflow')){return new la(this,A);}if(A.endsWith('/importDataflow')){return new ma(this,A);}VC[A]=new nG(A,this);}return VC[A];}QB operator[](String A){return UE(A);}Map<String,rO> cFB=new Map<String,rO>();Random UDB;ja YM;ha PY;lF(){YM=new ja('/',this);PY=new ha(this);VC[PY.path]=PY;YM.p['createDataflow']=PY;VC['/']=YM;}void U8(){EK.X2('mSessions').listen((AN A){if(A.name.endsWith('.df5')){print('DslinkServer loaded ${A.name}');String B=A.name.substring(0,A.name.length-4);YM.p[B]=nG.zh;cFB[B]=new rO(BP(tG.EN(A.data),checkVersion:true)..nU('exists',true));}});}void D8(String A,String C){if(A==''||A=='createDataflow'||cFB.containsKey(A)){return;}Map B={'@type':'dataflow'};;if(C!=null&&C.length>2){try {B=tG.EN(C);B['@type']='dataflow';}catch (D){B={'@type':'dataflow'};}}cFB[A]=new rO(BP(B)..nU('exists',true));YM.p[A]=nG.zh;YM.iG(A);}void J8(String A){if(cFB.containsKey(A)){cFB[A].gE.DB();cFB[A].VC.forEach((B,C){VC.remove(B);C.DB();});cFB.remove(A);YM.p.remove(A);YM.iG(A);EK.Hm('mSessions/${A}.df5',null);}}Object n8(String A){if(cFB.containsKey(A)){return tV(cFB[A].gE);}return null;}void f9(String C,Object A){if(cFB.containsKey(C)&&A is String&&A.length>2){Map B;try {B=tG.EN(A);B['@type']='dataflow';sx(cFB[C].gE,B);}catch (D){}}}static bool iu(String A){int B=A.lastIndexOf('/')+1;if(B<A.length){return A.codeUnitAt(B)==33;}return false;}static Object Ai(Object A,bool B){if(A==null||A is String||A is num||A is bool){return A;}if(B){if(A is Map||A is List){return A;}}else{if(A is Q){return {'@type':A.FD(),'@id':A.tK};}if(A is U){return {'@type':'tabledata','@id':A.tK};}if(A is KL){return A.zB();}if(A is Map||A is List){return {'@type':'raw','@val':A};}}return null;}QB operator~()=>this["/"];}class ia extends QB{final lF provider;String Dg;Q gE;Z iE;String MO;String lC;ia(String B,this.provider):super(B){List A=B.split('/');f[r'$invokable']='write';Dg=A[1];gE=provider.cFB[Dg].gE;if(gE!=null&&A.length>2){List C=A.sublist(2);lC=C.removeLast();MO=C.join('.');iE=WB.ER(gE,MO);}}rF BG(Map A,OC R,rF I,QB S,[int a=iB.iC]){if(gE!=null){if(lC=='_@bind'){if(iE!=null){if(A['bind'] is String){iE.ZC(A['bind']);}else{iE.ZC(null);}}}else if(lC=='_@addObject'){String C=b(A['name']);Object J=A['data'];if(iE.value is Q&&J is Map){WB.IY(iE.value,WB.z9(J),null,C);}}else if(lC=='_@removeObject'){String C=b(A['name']);if(iE.value is Q){WB.WZ(iE.value,C);}}else if(lC=='_@addInputAt'){int G=A['pos'];Object B=iE.value;if(B is sO){List K=WB.AF(B,G);}}else if(lC=='_@removeInputAt'){int G=A['pos'];Object B=iE.value;if(B is sO){List K=WB.HF(B,G);}}else if(lC=='_@addCustomParam'){String C=A['name'];String N=A['type'];Map P=A['meta'];Object B=iE.value;if(B is sI){WB.te(B,C,N,P);}}else if(lC=='_@removeCustomParam'){String C=A['name'];Object B=iE.value;if(B is sI){WB.pg(B,C);}}else if(lC=='_@readTable'){if(iE.value is U){Map D=(iE.value as U).zB();if(D['cols'] is List&&D['cols'].length>0&&D['cols'][0] is Map){D['cols'][0]['@id']=(iE.value as U).tK;}I.LR(D['rows'],columns:D['cols'],streamStatus:jB.jC);}}else if(lC=='_@saveDataflow'){EK.Hm('mSessions/${Dg}.df5',tG.MS(tV(gE)));}else if(lC=='_@updateRenderer'){if(iE.value is kR){(iE.value as kR).VO=(iE.value as kR).L('renderer');}}}return I..close();}}class WR extends nB{String type;String Ws;int id;WR(Q A):super('/'){type=A.FD();Ws='dglogik/df/${type}';id=A.tK;}Map xT(){return {r'$is':Ws,r'$dgType':type,r'$dgId':id};}}class SV extends QB{rO controller;lF jF;FJ get provider=>jF;tI TQ;SV(String A,this.controller,this.jF):super(A){TQ=controller.gE.UC().SE;}Map<String,HL> JB={};HL KM(String A){if(JB.containsKey(A)){return JB[A];}HL B=new HL('${path}/${A}',this,A);JB[A]=B;return B;}void LZ(){TQ.mZ=k_;for(String A in TQ.yT()){Wq(A);}}void Og(){TQ.mZ=null;s7();}void k_(String A,Map B){if(B==null){w$(A);}else{Wq(A);}}void Wq(String A){if(!p.containsKey(A)){HL B=KM(A);p[A]=B;B.YAB();OD.add(A);}}void w$(String A){if(p.containsKey(A)){HL B=p[A];B.zs();p.remove(A);OD.add(A);}}void s7(){p.forEach((String B,HL A){A.zs();});p.clear();}}class HL extends QB{final SV parent;final String dM;FJ get provider=>parent.provider;HL(String A,this.parent,this.dM):super(A){}void Dt(lD A){if(A.data!=null&&A.data['@params'] is Map){rB((A.data['@params'] as Map)['!var']);}else{rB(null);}}void YAB(){parent.TQ.UO(dM,Dt);}void zs(){parent.TQ.gM(dM,Dt);rB(null);}}class O2{static List<List<String>> P2(String B,[String K=',']){if(B==null)return [] ;int N=44;if(K!=null&&K.length>0){N=K.codeUnitAt(0);}List P=[] ;List A=[] ;int I=0;int R=0;int J=-1;int C=-1;int S=0;for(int D=0;D<B.length; ++D){int G=B.codeUnitAt(D);if(G==34){I++ ;J=D;if(C<0){C=D+1;S=I;}}else if((I&1)==0){if(G==N||G==10||G==13){if(C>=0){if(I-S>1){A.add(B.substring(C,J).replaceAll('""','"'));}else{A.add(B.substring(C,J));}}else{A.add(B.substring(R,D));}if(G!=N){P.add(A);A=[] ;}if(G==13&&B.codeUnitAt(D+1)==10){ ++D;}R=D+1;C=-1;}}}if(C>=0){if(I-S>1){A.add(B.substring(C,J).replaceAll('""','"'));}else{A.add(B.substring(C,J));}}else{A.add(B.substring(R));}if(A.length>1||A[0].length>0){P.add(A);}return P;}}abstract class Q2{}class Gm{static Q2 eW;static void R2(String A){if(eW!=null){eW.oQ(A);}}static void S2(String A){if(eW!=null){eW.error(A);}}}class pa{Map<String,String> lFB=new MB<String,String>();Map<String,String> get VC=>lFB;void load(String A){try {lFB=JSON.decode(A);}catch (B){};}String bAB(String A){var B=lFB[A];return B!=null?B:A;}}pa qa;pa get nu=>qa;Future ou(String A,Future<String> B(String path)){qa=new pa();if(B==null){return null;}var C=".json";return B("lang/locales/${A}${C}").then(qa.load,onError:(D){A="en_US";});}class tO extends AB{void mFB(){nFB=false;if(vT()){e();}}}class xO extends AB implements QD{static List<H> nV=[new H('invoke',type:'trigger',serializable:false),new H('enabled',type:'bool',nullValue:true,meta:{'trueLabel':'','falseLabel':'','editorTooltip':O('Enabled')})];Z eF(String A){if(A=='invoke'){return new YB(this,A);}return new Z(this,A);}bool RB(YB A){if(A.name=='invoke'&&!TB.YE(A.oFB)){return false;}if(!UB(L('enabled'),true)){return false;}if(!nFB){XE.wJ(this);}return true;}void mFB(){nFB=false;if(vT()){e();}}}abstract class JG extends AB implements QD{static List<H> wM=[new H('invoke',type:'trigger',serializable:false),new H('enabled',type:'bool',nullValue:true,showInBlock:false,meta:{'trueLabel':'true','falseLabel':'false','editorTooltip':O('Enabled')}),new H('interval',type:'number',nullValue:0,showInBlock:false),new H('autoRun',type:'bool',showInBlock:false),new H('timeout',type:'number',nullValue:60,showInBlock:false,help:O('timer will wait for timeout if previous loading is not finished, timeout is ignored when new request is invoked by trigger')),new H('loading',type:'bool',showInBlock:false,readOnly:true)];Timer pFB;int qFB=60000;Timer rFB;void YU(){rFB=null;HC();}void HC(){if(rFB!=null){rFB.cancel();rFB=null;}if(!sFB&&L('loading')==true){M('loading',false);}}bool tFB=true;void set enabled(bool A){if(A==tFB)return;tFB=A;uFB=true;}num vFB=0;void set pf(num A){if(A==vFB)return;vFB=A;uFB=true;}bool uFB=false;bool Lh(){if(pFB!=null){pFB.cancel();}if(tFB&&vFB>0){pFB=new Timer.periodic(new Duration(milliseconds:(vFB*1000).toInt()),hJ);return true;}else{pFB=null;}return false;}bool aM();void hJ(Timer A){if(aM()&&qFB>0){return;}wFB=true;XE.wJ(this);}bool xFB=false;List<String> get dT=>null;bool RB(YB A){if(A.yFB=='timeout'){int B=(YH(L('timeout'),60.0)*1000).toInt();if(B!=qFB){qFB=B;if(rFB!=null){rFB=new Timer(new Duration(milliseconds:qFB),YU);}}return false;}else if(A.yFB=='enabled'){enabled=UB(L("enabled"),true);if(!tFB){HC();}}else if(A.yFB=='interval'){pf=W(L("interval"),0);}else if(A.yFB=='invoke'){if(TB.YE(A.oFB)){wFB=true;}}else{if(A.yFB=='autoRun'){xFB=UB(A.value);if(xFB){wFB=true;}}else if(xFB){if(dT==null||dT.contains(A.yFB)){wFB=true;}}}return super.RB(A);}bool wFB=false;void e(){if(uFB){uFB=false;Lh();}if(wFB){if(tFB&&vT()){HC();if(zL()){if(qFB>0){rFB=new Timer(new Duration(milliseconds:qFB),YU);}M('loading',true);}}wFB=false;}}bool zL();void DB(){super.DB();HC();if(pFB!=null){pFB.cancel();pFB=null;}}}class bV extends fB implements QD{static int wi=0;static bool Iw=true;static List<H> Mw=[new H('invoke',type:'trigger',serializable:false),new H('revert',type:'trigger',serializable:false,meta:{'label':'Revert'}),new H('enabled',type:'bool',nullValue:true,meta:{'trueLabel':'','falseLabel':'','editorTooltip':O('Enabled')}),new H('duration',type:'number',nullValue:0),new H('durationBack',type:'number',nullValue:'same')];static H kw(int A){int C=A%2;int B=A~/2;if(C==0){return new H('${A}',label:'path ${B}',type:'modelPath');}return new H('${A}',label:'change ${B}',type:'subEditor',noBinding:true,readOnly:true);}static List<H> tw=[new H('onFinished',type:'event',readOnly:true,showInBlock:false),new H('onReverted',type:'event',readOnly:true,showInBlock:false)];int get SQ=>0;List<int> AF(int B){int A=B-(B%2);NC(A,'');NC(A+1,new jV());return [A,A+1];}List<int> HF(int B){int A=B-(B%2);remove(A);remove(A);return [A,A+1];}String get type=>'changeState';List<Z> get VB=>zFB;Object IE(int A){return null;}Z eF(String A){if(A=='invoke'||A=='revert'){return new YB(this,A);}return new Z(this,A);}Z CM(String A){return new Z(this,A);}bool AGB=false;bool RB(YB A){if(!TB.YE(A.oFB)){return false;}if(!UB(L('enabled'),true)){return false;}AGB=(A.yFB=='revert');if(!nFB){XE.wJ(this);}return true;}int tH;int YQ;double mI=0.0;bool WO=false;bool eM=false;void e(){if(AGB&&PM==null){}if(uY){if(AGB){if(WO)return;WO=true;}else{if(!WO)return;WO=false;}double A;eM=!eM;if(eM){A=wH.min(YH(L('duration'),0.0),YH(L('durationBack'),3600.0));}else{if(AGB){A=YH(L('durationBack'));if(!A.isFinite){A=YH(L('duration'),0.0);}}else{A=YH(L('duration'),0.0);}}int B=(new DateTime.now()).millisecondsSinceEpoch;double C=(B-tH)/(YQ-tH);tH=B;if(eM){mI=mI+(1.0-mI)*C;YQ=tH+(A*mI*1000.0).round();}else{mI=(1.0-C)*mI;YQ=tH+(A*(1.0-mI)*1000.0).round();}}else{double A;if(AGB){A=YH(L('durationBack'));if(!A.isFinite){A=YH(L('duration'),0.0);}}else{A=YH(L('duration'),0.0);if(lH!=null){for(RD D in lH){D.ug();}lH=null;dO=null;yL=null;XQ=null;}}eM=false;mI=0.0;tH=(new DateTime.now()).millisecondsSinceEpoch;YQ=tH+(A*1000).round();startTimer();}}void i8(){uY=false;if(WO){if(PM!=null&&!eM){PM=null;}if(lH!=null){for(RD A in lH){A.ug();}lH=null;dO=null;yL=null;XQ=null;}M('onReverted',new TB('onReverted'));}else{if(lH!=null){for(RD A in lH){A.aQ();}lH=null;dO=null;yL=null;XQ=null;}M('onFinished',new TB('onFinished'));}}bool BGB=false;void set uY(bool A){if(BGB==A)return;BGB=A;if(BGB){wi++ ;}else{wi-- ;}}bool get uY=>BGB;List<Object> PM;List<RD> lH;List<RD> dO;List<RD> yL;List<RD> XQ;void startTimer(){uY=true;WO=AGB;if(lH==null){lH=[] ;dO=[] ;yL=[] ;XQ=[] ;bool G=false;;if(PM==null&&!AGB){PM=new List(CGB>>1);G=true;}for(int B=0;B<CGB-1;B+= 2){String C=b(s(B),'');Object D=s(B+1);if(C!=''&&D is jV){RD A;if(WO){if(PM!=null){A=D.bf(C,true,PM[B>>1]);}else{A=D.bf(C,true,null);}}else{A=D.bf(C,false,null);}if(A!=null){String I=A.lK;if(I=='start'){dO.add(A);}else if(I=='end'){XQ.add(A);}else{yL.add(A);}lH.add(A);if(G){PM[B>>1]=A.CG;}}}}for(RD A in dO){if(EU(A,A.EF)){WB.SO(this,A.path,A.EF);}else{WB.lI(this,A.path,A.EF);}}}hJ();}void hJ(){if(sFB){return;}int B=(new DateTime.now()).millisecondsSinceEpoch;if(B<YQ){double A=(B-tH)/(YQ-tH);if(eM){A=(1.0-A)*mI;}else{A=mI+(1.0-mI)*A;}for(RD C in yL){Object D=C.R9(A);if(D!=null){WB.lI(this,C.path,D);}}zD.Mj(hJ);}else{j8();}}void j8(){if(eM){for(RD A in yL){if(EU(A,A.CG)){WB.SO(this,A.path,A.CG);}else{WB.lI(this,A.path,A.CG);}}for(RD A in dO){if(EU(A,A.CG)){WB.SO(this,A.path,A.CG);}else{WB.lI(this,A.path,A.CG);}}}else{for(RD A in yL){if(EU(A,A.EF)){WB.SO(this,A.path,A.EF);}else{WB.lI(this,A.path,A.EF);}}for(RD A in XQ){if(EU(A,A.EF)){WB.SO(this,A.path,A.EF);}else{WB.lI(this,A.path,A.EF);}}}i8();}bool EU(RD A,Object B){if(!Iw)return false;if(!A.ws)return false;if(B is TB)return false;return true;}}class jV extends Q{static List<H> Gb=[new H('value',type:'object'),new H('original',type:'object',showInBlock:false),new H('easing',type:'enum',nullValue:'linear',meta:{'enums':const['start','end','linear','easeIn','easeOut','easeInOut','cubicIn','cubicOut','cubicInOut','elasticIn','elasticOut','elasticInOut','bounce'],'enumLabels':[O('Start'),O('End'),O('Linear'),O('Ease In'),O('Ease Out'),O('Ease In Out'),O('Cubic In'),O('Cubic Out'),O('Cubic In Out'),O('Elastic In'),O('Elastic Out'),O('Elastic In Out'),O('Bounce')]},showInBlock:false),new H('strength',type:'number',nullValue:0.5,showInBlock:false),new H('easingBack',type:'enum',nullValue:'same',meta:{'enums':const['same','revert','start','end','linear','easeIn','easeOut','easeInOut','cubicIn','cubicOut','cubicInOut','elasticIn','elasticOut','elasticInOut','bounce'],'enumLabels':[O('Same'),O('Revert'),O('Start'),O('End'),O('Linear'),O('Ease In'),O('Ease Out'),O('Ease In Out'),O('Cubic In'),O('Cubic Out'),O('Cubic In Out'),O('Elastic In'),O('Elastic Out'),O('Elastic In Out'),O('Bounce')]},showInBlock:false),new H('strengthBack',type:'number',nullValue:'auto',showInBlock:false)];static const Map Gx=const{'start':'end','end':'start','linear':'linear','easeIn':'easeOut','easeOut':'easeIn','easeInOut':'easeInOut','cubicIn':'cubicOut','cubicOut':'cubicIn','cubicInOut':'cubicInOut','elasticIn':'elasticOut','elasticOut':'elasticIn','elasticInOut':'elasticInOut','bounce':'bounce'};String get type=>'stateItem';RD bf(String I,bool N,Object P){Object A;Object B;String C=b(L('easing'),'linear');num J=sG(L('strength'),0.5);H D=Hr(I);if(N){if(P!=null){A=P;B=WB.ng(DGB,I);}else{A=L('original');B=L('value');if(B==null){if(D!=null&&DGB!=null){B=D.nullValue;}}if(A==null&&DGB!=null){A=WB.ng(DGB,I);if(D!=null&&A==null){A=D.nullValue;}}}String K=b(L('easingBack'),'same');if(K=='revert'){C=Gx[C];}else if(K=='same'){}else{C=K;}J=sG(L('strengthBack'),J);}else{A=L('value');B=L('original');if(A==null){if(D!=null&&DGB!=null){A=D.nullValue;}}if(B==null&&DGB!=null){B=WB.ng(DGB,I);if(D!=null&&B==null){B=D.nullValue;}}}Object R=A;Object S=B;if(C!='start'&&C!='end'){if(B is String){num a=W(B);if(a.isFinite){B=a;}}if(A is String){num j=W(A);if(j.isFinite){A=j;}}}RD G;if(D!=null&&D.type=='color'){G=new uk(bB(B,0),bB(A,0));}else if(B is AE&&A is AE&&B.FD()=='fill'&&A.FD()=='fill'&&B.L('fillType')=='solid'&&A.L('fillType')=='solid'){G=new vk(B,A);}else if(B is num&&A is num){G=new sk(S,R);}else{bool q=(B is String)&&B.endsWith('%');bool BB=(A is String)&&A.endsWith('%');if(q&&BB){G=new tk(B,A);}else if(q&&A is num){G=new hb(B,A.toDouble());}else if(BB&&B is num){G=new hb(B.toDouble(),A);}else{G=new qk(S,R);if(N){if(C!='end'){C='start';}}else{if(C!='start'){C='end';}}}}G.path=I;G.OAB(C,J);return G;}bool EGB=false;H Hr(String A){if(A==null||A==''||EGB){return null;}Z B=WB.ER(DGB,A);if(B!=null){EGB=true;H C=xV(B);EGB=false;return C;}return null;}List<H> nC(){if(DGB is uC){int G=RF(yFB);if(G>0){String I=b((DGB as uC).s(G-1));H C=Hr(I);if(C!=null){List<H> D=Gb.toList();H A=new H.CCB(C);A.name='value';if(A.label==null){A.label=C.name;}A.readOnly=false;A.serializable=true;D[0]=A;H B=new H.CCB(C);B.nullValue='auto';B.name='original';B.label='original';B.readOnly=false;B.serializable=true;D[1]=B;return D;}}}return Gb;}}abstract class RD{static double qy(double A,String D,num G){if(D=='linear'){return A;}if(D=='easeIn'){double K=G*4.0+1.0;return pow(A,K);}else if(D=='easeOut'){double K=G*4.0+1.0;return 1.0-pow(1.0-A,K);}else if(D=='easeInOut'){double K=G*4.0+1.0;if(A<0.5){return pow(A*2.0,K)*0.5;}else{return 1.0-pow(2.0-A*2.0,K)*0.5;}}else if(D=='cubicIn'){double C=-G*2.0;double B=1.0-A;return B*A*A*C+A*A*A;}else if(D=='cubicOut'){double C=-G*2.0;double B=1.0-A;return 1-B*B*A*C-B*B*B;}else if(D=='cubicInOut'){double C=-G*2.0;if(A<0.5){double I=A*2.0;double B=1.0-I;return (B*I*I*C+I*I*I)*0.5;}else{double I=(A-0.5)*2.0;double B=1.0-I;return (1-B*B*I*C-B*B*B)*0.5+0.5;}}else if(D=='elasticIn'){double J=0.25/G;double N=J/4;return -(pow(2,10*(A-= 1))*sin((A-N)*(2*PI)/J));}else if(D=='elasticOut'){double J=0.25/G;double N=J/4;return pow(2,-10*A)*sin((A-N)*(2*PI)/J)+1.0;}else if(D=='elasticInOut'){double J=0.25/G;double N=J/4;A*= 2;if(A<1)return -.5*(pow(2,10*(A-= 1))*sin((A*1.0-N)*(2*PI)/J));return pow(2,-10*(A-= 1))*sin((A*1.0-N)*(2*PI)/J)*.5+1.0;}else if(D=='bounce'){double C=15.125*G;if(A<(1/2.75)){return (7.5625*A*A);}else if(A<(2/2.75)){double P=C*0.5*0.5/(2.75*2.75);double R=1-P;return C*(A-= (1.5/2.75))*A+R;}else if(A<(2.5/2.75)){double P=C*0.25*0.25/(2.75*2.75);double R=1-P;return C*(A-= (2.25/2.75))*A+R;}else{double P=C*0.125*0.125/(2.75*2.75);double R=1-P;return C*(A-= (2.625/2.75))*A+R;}}return A;}bool ws=true;String path;num JR;String lK;num ZDB;String vCB;void OAB(String A,num B){lK=A;JR=B;if(lK=='easeIn'||lK=='easeOut'||lK=='easeInOut'){if(!(JR>-1.0)){JR=-1.0;}}if(lK=='elasticIn'||lK=='elasticOut'||lK=='elasticInOut'){if(!(JR>0.0)){JR=0.01;}}}Object get CG;Object get EF;Object EO(double A);Object R9(double A){double B=qy(A,lK,JR);return EO(B);}void aQ(){}void ug(){}}class qk extends RD{Object HD;Object get CG{if(HD is TB){return (HD as TB).fI();}if(HD is AE){return pE((HD as AE).zB(),root:(HD as AE).sH);}return HD;}Object GD;Object get EF{if(GD is TB){return (GD as TB).fI();}if(GD is AE){return pE((GD as AE).zB(),root:(GD as AE).sH);}return GD;}qk(this.HD,this.GD);Object EO(double A){return null;}}class sk extends RD{double jI;Object CG;double uK;Object EF;double WG;sk(this.CG,this.EF){jI=sG(CG);uK=sG(EF);WG=uK-jI;}Object EO(double A){return WG*A+jI;}}class tk extends RD{String HD;Object get CG=>HD;String GD;Object get EF=>GD;double jI;double uK;double WG;tk(this.HD,this.GD){jI=sG(HD.substring(0,HD.length-1));uK=sG(GD.substring(0,GD.length-1));WG=uK-jI;}Object EO(double A){return '${WG*A+jI}%';}}class hb extends RD{Object HD;Object get CG=>HD;Object GD;Object get EF=>GD;double JZ;double Mg;double IZ;double Lg;double Rf;double Qf;hb(this.HD,this.GD){if(HD is num&&GD is String){JZ=HD;Mg=0.0;IZ=0.0;Lg=sG((GD as String).substring(0,(GD as String).length-1));}else if(GD is num&&HD is String){JZ=0.0;Mg=GD;IZ=sG((HD as String).substring(0,(HD as String).length-1));Lg=0.0;}Rf=Mg-JZ;Qf=Lg-IZ;}Object EO(double A){return 'calc(${Qf*A+IZ}% + ${Rf*A+JZ}px)';}}class uk extends RD{int jI;Object get CG=>jI;int uK;Object get EF=>uK;uk(this.jI,this.uK){}Object EO(double A){return Ic(jI,uK,A);}}class vk extends RD{AE HD;Object get CG{return pE(HD.zB());}AE GD;Object get EF{return pE(GD.zB());}AE BH;int Hq;int Gq;double As;double zr;double Rf;double Qf;vk(this.HD,this.GD){Hq=OP(HD.L('color'));Gq=OP(GD.L('color'));As=sG(HD.L('opacity'),1.0);zr=sG(GD.L('opacity'),1.0);}Object EO(double A){if(BH!=null){BH.DB();}BH=new AE('fill');BH.o('fillType','solid');BH.o('color',Ic(Hq,Gq,A));BH.o('opacity',Ym(As,zr,A));return BH;}void aQ(){if(BH!=null){BH.DB();BH=null;}}void ug(){if(BH!=null){BH.DB();BH=null;}}}class Db extends fB{static List<H> Hb=[new H('invoke',type:'trigger',serializable:false),new H('revert',type:'trigger',serializable:false,meta:{'label':'Revert'}),new H('enabled',type:'bool',nullValue:true,meta:{'trueLabel':'','falseLabel':'','editorTooltip':O('Enabled')})];static H Xw(int A){int C=A%3;int B=A~/3;if(C==0){return new H('${A}',label:'path ${B}',type:'modelPath');}if(C==1){return new H('${A}',label:'value ${B}',type:'object');}return new H('${A}',label:'original ${B}',type:'object',showInBlock:false);}List<int> AF(int B){int A=B-(B%3);NC(A,'');NC(A+1,null);NC(A+2,null);return [A,A+1,A+2];}List<int> HF(int B){int A=B-(B%3);remove(A);remove(A);remove(A);return [A,A+1,A+2];}String get type=>'setState';List<Z> get VB=>zFB;Object IE(int A){return null;}Z eF(String A){if(A=='invoke'||A=='revert'){return new YB(this,A);}return new Z(this,A);}Z CM(String A){return new Z(this,A);}bool FGB=false;bool RB(YB A){if(!TB.YE(A.oFB)){return false;}if(!UB(L('enabled'),true)){return false;}FGB=(A.yFB=='revert');if(!nFB){XE.wJ(this);}return true;}void e(){int B=1;if(FGB){B=2;}for(int A=0;A<CGB-2;A+= 3){String C=b(s(A),'');if(C!=''){Object D=s(A+B);W7(C,D);}}}void W7(String B,Object A){if(A!=A){WB.lI(this,B,A);}if(A is String||A is num||A is bool||A==null){WB.SO(this,B,A);}else{if(A is TB){WB.lI(this,B,A.fI());}else if(A is Q&&A.FD()=='fill'){WB.SO(this,B,pE(A.zB()));}else{WB.lI(this,B,A);}}}bool EGB=false;List<H> nC(){if(EGB){return Hb;}EGB=true;List<H> D=[] ..addAll(Hb);for(int A=0;A<CGB-2;A+= 3){int G=A~/3;D.add(new H('${A}',label:'path ${G}',type:'modelPath'));String J=b(s(A),'');if(J!=''){Z K=WB.ER(this,J);if(K!=null){H I=xV(K);if(I!=null){H B=new H.CCB(I);B.name='${A+1}';if(B.label==null){B.label=I.name;}B.showInBlock=true;B.showInPI=true;B.readOnly=false;B.serializable=true;D.add(B);H C=new H.CCB(I);C.name='${A+2}';C.label='original ${G}';C.showInBlock=false;C.showInPI=true;C.readOnly=false;C.serializable=true;D.add(C);continue;}}}D.add(new H('${A+1}',label:'value ${G}',type:'object'));D.add(new H('${A+2}',label:'original ${G}',type:'object',showInBlock:false));}EGB=false;return D;}}class Gi extends xO{static List<H> Iv=[] ..addAll(xO.nV)..addAll([new H('path',type:'file'),new H('data',type:'textarea'),new H('deleteEmptyFile',type:'bool'),new H('onComplete',type:'event',readOnly:true,showInBlock:false),new H('onError',type:'event',readOnly:true,showInBlock:false),new H('error',type:'string',readOnly:true,showInBlock:false)]);String get type=>'strUploader';GC GGB;void e(){String A=b(L('path'));bool G=UB(L('deleteEmptyFile'));String C=HI.aW(A);if(GGB!=null){GGB.cancel();GGB=null;}if(C!=null){M('error',C);M('onError',new TB('onError'));return;}Object B=L('data');if(B is List<int>){GGB=nF.Cc(Tg,A,B,onError:Sg);}else{String D=b(B);if(D==''&&G){nF.J2(Tg,A,onError:Sg);}else{GGB=nF.Cc(Tg,A,D,onError:Sg);}}}void Tg(){M('onComplete',new TB('onComplete'));M('error',null);}void Sg(String A){M('error',A);M('onError',new TB('onError'));}}class gi extends IL with KG implements qG{static List<H> Ej=[new H('service',type:'service',showInBlock:false),new H('path',type:'datapath'),new H('enabled',type:'bool',nullValue:true,showInBlock:false),new H('expression',type:'string',showInBlock:false),new H('mode',type:'enum',showInBlock:false,nullValue:'formatted',meta:{'enums':const['value','formatted','expression','offset','scale','gradient']}),IL.Aj,new H('offsetVal',label:'Offset Value',type:'number'),new H('scaleInputMin',label:'input min',type:'number'),new H('scaleInputMax',label:'input max',type:'number'),new H('scaleOutputMin',label:'output min',type:'number'),new H('scaleOutputMax',label:'output max',type:'number'),new H('gradient',type:'gradient'),new H('mapping',type:'enum',showInBlock:false,nullValue:'none',meta:{'enums':const['none','number','string','enum','bool']})];List<H> get Aq=>Ej;String get type=>'queryBinding';gB fD;String tD;void e(){Object A=L('service');Object C=b(L('path'));if(UB(L('enabled'),true)!=true){C=null;}gB B;if(A is gB){B=A;}else if(A is String||A==null){B=MG.rG(A);}if(fD==B&&C==tD){NQ();return;}if(fD!=null&&tD!=null){fD.nJ(this,tD);}fD=B;tD=C;if(fD!=null&&tD!=null){fD.xL(this,tD);}else{NQ();}}void NQ(){Object A;if(fE!=null){QE=W(fE['value']);Object B=L('mode');if(B=='formatted'){A=zq();}else if(B=='expression'){A=xq();}else if(B=='offset'){A=Dr();}else if(B=='scale'){A=Ir();}else if(B=='gradient'){A=Ar();}else{A=fE['value'];}M('value',fE['value']);}else{M('value',null);}M('output',hr(A));}void yU(Map A){fE=A;NQ();}void DB(){super.DB();if(fD!=null&&tD!=null){fD.nJ(this,tD);}}}class IL extends fB{static H Aj=new H('offset',type:'enum',showInBlock:false,nullValue:'add',meta:{'enums':const['add','substract','multiply','divide','modulo','divide(int)']});static String Pw=O('examples:\n[value] : raw value\n' '[0.00] : formatted number with 2 decimal point\n' '[,000] : formatted number with thousand separator');static List<H> Kj=[new H('value',type:'object'),new H('expression',type:'string',showInBlock:false,help:Pw),new H('mode',type:'enum',showInBlock:false,nullValue:'formatted',meta:{'enums':const['value','formatted','expression','offset','scale','gradient']}),Aj,new H('offsetVal',label:'Offset Value',type:'number'),new H('scaleInputMin',label:'input min',type:'number'),new H('scaleInputMax',label:'input max',type:'number'),new H('scaleOutputMin',label:'output min',type:'number'),new H('scaleOutputMax',label:'output max',type:'number'),new H('gradient',type:'gradient'),new H('mapping',type:'enum',showInBlock:false,nullValue:'none',meta:{'enums':const['none','number','string','enum','bool']})];static List<H> mj=[new H('default',type:'object'),new H('output',type:'object',readOnly:true)];static H pj(int A){if((A&1)==1){return new H('${A}',label:'then ${A>>1}',type:'object');}return new H('${A}',label:'case ${A>>1}',type:'object');}List<H> get Aq=>Kj;Z eF(String A){if(A=='output'){return new zj(this,A);}return super.eF(A);}Object IE(int B){Object A=L('op');if(A=='regexp'||A=='contains'||A=='startsWith'||A=='endsWith'){return '';}return 0;}List<int> AF(int B){int A=(B|1)-1;NC(A,IE(A));NC(A+1,null);return [A,A+1];}List<int> HF(int B){int A=(B|1)-1;remove(A);remove(A);return [A,A+1];}String get type=>'valueBinding';void e(){Object A=L('value');fE={'value':A};QE=W(A);NQ();}Map fE;num QE=double.NAN;void NQ(){Object A;if(fE!=null){Object B=L('mode');if(B=='formatted'){A=zq();}else if(B=='expression'){A=xq();}else if(B=='offset'){A=Dr();}else if(B=='scale'){A=Ir();}else if(B=='gradient'){A=Ar();}else{A=fE['value'];}}M('output',hr(A));}Object hr(Object B){Object C=L('mapping');if(C=='number'){num D=W(B);for(int A=1;A<CGB;A+= 2){if(D<=W(s(A-1))){return AZ(s(A));}}return L('default');}else if(C=='string'||C=='enum'){for(int A=1;A<CGB;A+= 2){if(QL(B,s(A-1))){return AZ(s(A));}}return L('default');}else if(C=='bool'){for(int A=1;A<CGB;A+= 2){if(UB(B)==UB(s(A-1))){return AZ(s(A));}}return AZ(L('default'));}else{return B;}}Object AZ(Object A){if(A is KL&&!A.Wr){return new KL(true);}return A;}static RegExp Qy=new RegExp(r'\[([^\]]*)\]');static List AW=['0','0.0','0.00','0.000','0.0000','0.00000'];String zq(){if(fE==null){return '';}if(fE.containsKey('formatted')){return fE['formatted'];}else{if(QE.isFinite){int B=nD(fE['precision'],2);if(B>=AW.length){String C='0.';int A=0;for(;A<AW.length; ++A){C+= '0';}for(;A<=B; ++A){AW.add(C);C+= '0';}}String G=QS(QE,AW[B]);String D=fE['unit'];if(D!=null&&D!=''){return '${G} ${D}';}return G;}else{return fE['value'].toString();}}}String BAB(Match B){String A=B.group(1);if(A=='['||A==''){return A;}if(A.startsWith('value.')){return b(eR.xR(fE['value'],A.split('.').sublist(1)));}if(fE.containsKey(A)){return fE[A].toString();}if(QE.isFinite&&(A.contains('0')||A.contains('#'))){return QS(QE,A);}return '';}Object xq(){Object A=L('expression');if(A is String){if(A.startsWith('[value.')&&A.indexOf(']')==A.length-1){return eR.xR(fE['value'],A.substring(1,A.length-1).split('.').sublist(1));}return A.replaceAllMapped(Qy,BAB);}else{return '';}}num Dr(){Object B=L('offset');Object A=W(L('offsetVal'));if(B=='substract'){return QE-A;}else if(B=='multiply'){return QE*A;}else if(B=='divide'){return QE/A;}else if(B=='modulo'){return QE.remainder(A);}else if(B=='divide(int)'){if((A as num).isFinite&&QE.isFinite){return QE~/A;}return 0;}else{return QE+A;}}num Ir(){num B=W(L('scaleInputMin'));num C=W(L('scaleInputMax'));num A=W(L('scaleOutputMin'));num D=W(L('scaleOutputMax'));if(QE.isFinite&&B.isFinite&&C.isFinite&&A.isFinite&&D.isFinite){if(B>C){num G=B;B=C;C=G;G=A;A=D;D=G;}if(QE<B)return A;if(QE>C)return D;num I=C-B;if(I==0){return A;}return (QE-B)*(D-A)/I+A;}else{return A;}}String Ar(){Object A=L('gradient');A=Nx(A);if(A is UH){num B=W(L('scaleInputMin'));num C=W(L('scaleInputMax'));if(QE.isFinite&&B.isFinite&&C.isFinite){return A.dQ((QE-B)*100/(C-B));}else{return A.dQ(0);}}else{return '';}}bool wT=false;List<H> nC(){if(wT){return const[] ;}Z P=wB('output');H B;if(P==null){NQ();P=wB('output');}for(Object A in P.HGB){if(A is Z){wT=true;B=xV(A);wT=false;if(B!=null){break;}}}for(Object A in P.HGB){if(A is YB){String a=A.name;Q G=A.IGB;pV I;do{if(G!=null){if(G.GO("view") is pV){I=G.GO("view");break;}G=G.parent;}}while(G!=null);if(I!=null&&I.dM!=null&&I.dM!=""){lD C=I.UC().nH(I.dM);if(C!=null&&C.data!=null){Map<String,H> D=C.nC();if(D!=null&&D.containsKey(a)){B=new H('default',type:D[a].type);break;}}}}if(A is Z){if(A.tT()!=null&&A.tT().hD!=null&&A.tT().hD.uT()=="map"){String j=A.name;Q R=A.tT().hD.parent;String S=R!=null?b(R.parent.L('symbol'),''):null;if(S!=null&&S!=""){lD C=R.UC().nH(S);if(C!=null&&C.data!=null){Map<String,H> D=C.nC();if(D!=null&&D.containsKey(j)){B=new H('default',type:D[j].type);break;}}}}wT=true;String q=Eb.Jz(A);wT=false;if(q!="object"){B=new H('default',type:q);break;}}}if(B==null){B=new H('default',type:'object');}List<H> J=new List<H>();J.addAll(Aq);for(int K=1;K<CGB;K+= 2){J.add(new H('${K-1}',label:'case ${K>>1}',type:b(L('mapping'),'string')));H N=new H.CCB(B);N.name=K.toString();N.label='then ${K>>1}';N.serializable=true;N.showInBlock=false;J.add(N);}H BB=new H.CCB(B)..name='default'..label=null..serializable=true..showInBlock=false;J.add(BB);H HB=new H.CCB(B)..name='output'..label=null..readOnly=true;J.add(HB);return J;}}abstract class qu implements Q,Bb{}class Rj extends uR with Bb implements qu{String get type=>'calloutSymbol';Rj(bool A):super(A){}List<H> nC(){List<H> A=[] ..addAll(super.nC());wp(A);return A;}}abstract class uw{}class Rb extends Q implements uw{}abstract class qx{}class tx extends uV implements Rb,qx{}class aR{final Z K9;final Z It;aR(this.K9,this.It);}class Eb{static ListQueue<String> Kb(Q A){if(A.JGB==null){return null;}if(A.JGB==A){return new ListQueue<String>();}ListQueue<String> B=new ListQueue<String>();while(A!=A.JGB){B.addFirst(A.yFB);A=A.DGB;}return B;}static List<String> Lj(Q I,Q C,[String J]){if(C.JGB==null){return null;}if(I.JGB!=C.JGB){if(I.JGB==PD.gR){List<String> K=['@lib']..addAll(Kb(I));String P=C.UC().KR.VE;if(P!=''&&P!='lib/${nF.Bc()}/'){K[0]='@project';}if(J!=null){K.addAll(J.split('.'));}return K;}else if(C.JGB!=null&&C.JGB.KGB!=null){List<String> D=['@stage','@parent'];List<String> A=Lj(I,C.JGB.KGB,J);if(D==null||A==null){return null;}return D..addAll(A);}return null;}List<String> D=Kb(C).toList();List<String> A=Kb(I).toList();if(J!=null){A.addAll(J.split('.'));}int B;for(B=0;B<D.length&&B<A.length&&D[B]==A[B]; ++B){};List<String> N=[] ;for(int G=B;G<D.length; ++G){N.add('@parent');}for(int G=B;G<A.length; ++G){N.add(A[G]);}return N;}static String Xx(Q B,Q C,[String D]){List<String> A=Lj(B,C,D);if(A!=null){return A.join('.');}return null;}static bool bx(Q B,Q A){if(B.JGB==null||B.JGB!=A.JGB){return false;}while(A!=null){if(A==B){return true;}A=A.DGB;}return false;}static List<aR> Dy(List<Q> B){List<aR> C=new List<aR>();B.forEach((Q G){G.LGB.forEach((I,D){if(I=='@page'){return;}D.HGB.forEach((A){if(A is Z){Q J=A.IGB;if(B.firstWhere((K){return bx(K,J);},orElse:Sw)==null){C.add(new aR(D,A));}}});});});return C;}static String Jz(Z B){H C=xV(B);if(C!=null){return C.type;}else{Object A=B.value;if(A is bool){return "bool";}else if(A is num){return "number";}else if(A is String){return "string";}else if(A is Q){return A.type;}}return "object";}}class uC extends Q implements pF{String FD(){if(type!=null){return type;}return 'array';}List<Z> zFB=new List<Z>();uC([bool A=false,String B]):super(A,B);int CGB=0;Z MGB;void LE(int A){CGB=A;if(zFB.length<CGB){zFB.length=A;}if(MGB==null){MGB=NGB('@length');MGB.value=CGB;LGB['@length']=MGB;}if(OGB){VM('@length',MGB);}}int fF()=>CGB;Map zB(){Map<String,Object> B=super.zB();List C=new List(CGB);for(int A=0;A<CGB; ++A){Z D=zFB[A];if(D!=null){C[A]=D.zB();}}B['@array']=C;return B;}EW PGB;Z QGB(int A,[bool D=false]){if(A<0){return null;}String B=A.toString();if(LGB.containsKey(B)){return LGB[B];}else if(D){Z C=Gf(A.toString());LGB[B]=C;return C;}return null;}Z NGB(String A){if(A=='@last'){EW C=new EW(this,A);PGB=C;if(CGB>0){Z D=QGB(CGB-1);if(D!=null){PGB.LY(D);}}return C;}gC B=super.NGB(A);if(A=='@length'){MGB=B;B.oFB=CGB;}return B;}Z CM(String A){return new Z(this,A);}Z Gf(String B){int A=RF(B);if(A>-1&&A.toString()==B){if(zFB.length<=A){zFB.length=A+1;}Z C=CM(B);zFB[A]=C;if(PGB!=null&&A==CGB-1){PGB.LY(C);}return C;}else{return new ib(this,B);}}void qJ(int A,Object B){if(CGB<=A){LE(A+1);}Z C=QGB(A,true);C.o(B);}Object s(int A){if(A<CGB){Z B=zFB[A];if(B!=null){return B.oFB;}}return null;}num Kr(Object C){for(var A=0;A<CGB;A++ ){Z B=zFB[A];if(B!=null&&identical(B.oFB,C)){return A;}}return -1;}void fZ(int A,String B){if(CGB<=A){LE(A+1);}Z C=QGB(A,true);C.ZC(B);}String vq(int A){if(A<CGB){Z B=zFB[A];if(B!=null){return B.RGB;}}return null;}int dI(Object B){Z A=QGB(CGB,true);LE(CGB+1);A.o(B);if(PGB!=null){PGB.LY(A);}return CGB-1;}int J7(String B){Z A=QGB(CGB,true);LE(CGB+1);A.ZC(B);if(PGB!=null){PGB.LY(A);}return CGB-1;}Object remove(int D){Object I;if(D>-1&&D<CGB){Z A=zFB[D];if(A!=null){I=A.SGB;}for(int G=D+1;G<CGB; ++G){Z B=zFB[G];if(B!=null){if(A==null){A=QGB(G-1,true);}if(B.RGB!=null){A.ZC(B.RGB);}else{Object C=B.SGB;if(C!=null){if(C is Q&&C.TGB==B){C.TGB=null;}A.o(C);}else{A.ZC(null);A.value=B.oFB;}}}else if(A!=null){A.o(null);}A=B;}LE(CGB-1);}return I;}void NC(int A,Object B){UGB(A,B,null);}void K7(int A,String B){UGB(A,null,B);}void UGB(int D,Object J,String I){if(D>-1&&D<=CGB){LE(CGB+1);Z B=zFB[CGB-1];Z A;for(int G=CGB-2;G>=D; --G){A=zFB[G];if(A!=null){if(B==null){B=QGB(G+1,true);}if(A.RGB!=null){B.ZC(A.RGB);}else{Object C=A.SGB;if(C!=null){if(C is Q&&C.TGB==A){C.TGB=null;}B.o(C);}else{B.ZC(null);B.value=A.oFB;}}}else if(B!=null){B.o(null);}B=A;}if(A==null){A=QGB(D,true);}if(I!=null){A.ZC(I);}else{A.o(J);}}}List rJ(){List B=new List(CGB);for(int A=0;A<CGB; ++A){Z C=zFB[A];if(C!=null){B[A]=C.oFB;}}return B;}void forEach(void B(Object val)){for(int A=0;A<CGB; ++A){Z C=zFB[A];if(C!=null){B(C.oFB);}else{B(null);}}}List<H> nC(){if(tR.containsKey(type)){return tR[type].fY(CGB);}if(sM.containsKey(type)){return sM[type];}return const[] ;}void JU(List B){LE(B.length);for(int A=0;A<B.length; ++A){Object C=B[A];if(C!=null){QGB(A,true).JE(C);}}}void JE(Map<String,Object> A){if(A.containsKey('@array')&&A['@array'] is List){JU(A['@array']);}super.JE(A);}void LU(List B){LE(B.length);for(int A=0;A<B.length; ++A){QGB(A,true).WD(B[A]);}}void WD(Map<String,Object> A){if(A.containsKey('@array')&&A['@array'] is List){LU(A['@array']);}super.WD(A);}void DB(){super.DB();if(OS){zFB=null;}}}class su{}abstract class Qv{}class Jw{Set<CN> VGB=new HashSet<CN>();bool OGB=false;List<String> WGB=new List<String>();void JY(CN A){if(!VGB.contains(A)){VGB.add(A);OGB=true;}}void XZ(CN A){VGB.remove(A);if(VGB.isEmpty){OGB=false;}}bool XGB=false;int YGB=0;void VM(String B,Z A){if(A==null||A.YGB==YGB)return;A.YGB=YGB;WGB.add(B);if(!XGB){XGB=true;XE.Ux(this);}}void ABB(){XGB=false;for(CN A in VGB){try {A(WGB);}catch (B){print('error in watcher update: ${B}');}}WGB.clear(); ++YGB;ZGB=null;}Map<String,Object> aGB;Object GO(String A){if(aGB!=null&&aGB.containsKey(A)){return aGB[A];}return null;}LP SDB;void nU(String B,Object C){if(aGB==null){aGB=new MB<String,Object>();}if(aGB.containsKey(B)){Object A=aGB[B];if(A==C){return;}if(A is Qv){A.VDB(this,B,C);}else if(A is LP){A.DB();}else if(A==null||A is String||A is num||A is bool){}else if(OS){throw 'DGWatchableBase.setCustomData can not have mutiple custom data with same key : ${B}';}}aGB[B]=C;}gC bGB;List<su> ZGB;Map<String,yR> cGB;}class Q extends Jw implements hC,LP,zI{final int tK= ++hC.gW;String dGB=null;String get type=>dGB;String FD()=>type;String toString(){return '${FD()}${tK}';}Map<String,Z> LGB=new MB<String,Z>();Map<String,Z> eGB=new MB<String,Z>();Iterable<String> ar(){return eGB.keys;}Q([bool A=false,this.dGB]){if(A){JGB=this;TGB=wB('');}}String eQ(){if(LGB.containsKey('!label')){Object A=LGB['!label'].oFB;if(A is String&&A!=''){return A;}}return yFB;}String yFB;gC fGB;String uT()=>yFB;Q DGB;Q get parent=>DGB;gC gGB;gC hGB;zR iGB;Q JGB;Q get sH=>JGB;gC jGB;void kGB(Q A){JGB=A;if(jGB!=null){jGB.lGB(JGB);}if(LGB.containsKey('@page')){if(JGB!=null&&JGB!=this){(LGB['@page'] as zR).ue(JGB);}}for(Z B in LGB.values.toList()){if(B.SGB is Q){(B.SGB as Q).kGB(A);}};}Z TGB;Z get vD=>TGB;void set vD(Z A){if(identical(TGB,A)){return;}Z B=TGB;TGB=A;if(B!=null){B.o(null);}if(TGB!=null){yFB=TGB.yFB;DGB=TGB.IGB;if(DGB.JGB!=JGB){kGB(DGB.JGB);}}else{yFB='';DGB=null;}if(fGB!=null){fGB.lGB(yFB);}if(gGB!=null){gGB.lGB(DGB);}}Q KGB;void mGB(Q A,[bool B=true]){if(KGB!=A){KGB=A;lGB('@parent',KGB);if(B&&JGB==this){(wB('@page',true) as zR).ue(A);}}}Z wB(String A,[bool C=false]){if(sFB){if(C){return GW.wk;}return null;}if(LGB.containsKey(A)){return LGB[A];}else if(A==''){if(hGB==null){hGB=new gC(this,'');hGB.lGB(this);LGB['']=hGB;}return hGB;}else if(C){Z B;int D=A.codeUnitAt(0);if(D>47&&D<58){B=Gf(A);}else if(A.startsWith('@')){B=NGB(A);}else if(A.startsWith('!')){B=Sq(A);eGB[A]=B;}else{B=eF(A);eGB[A]=B;}LGB[A]=B;return B;}return null;}Z eF(String A){return new Z(this,A);}Z Gf(String A){return new ib(this,A);}Z NGB(String A){if(A=='@page'){iGB=new zR(this,A);return iGB;}if(A.startsWith('@on')){if(cGB==null){cGB=new MB<String,yR>();}yR C=new yR(this,A);cGB[A]=C;return C;}gC B=new gC(this,A);if(A=='@stage'){jGB=B;jGB.lGB(JGB);}else if(A=='@parent'){gGB=B;B.lGB(DGB);}else if(A=='@name'){fGB=B;B.lGB(yFB);}else if(A=='@project'){B.lGB(PD.pi);}else if(A=='@lib'){B.lGB(PD.AP(ZR.fv(this),false));}else if(A=='@signals'){bGB=B;B.lGB(ZGB);}return B;}Z Sq(String A){return new DW(this,A);}Object L(String A){Z B=LGB[A];if(B==null){if(A.startsWith("@")&&!A.startsWith("@on")){B=wB(A,true);}}if(B!=null){return B.oFB;}else{return null;}}void o(String A,Object B){Z C=wB(A,true);C.o(B);}void rB(String A,Object B){Z C=wB(A,true);C(B,false);}String cQ(String B){var A=LGB[B];if(A!=null){return A.RGB;}return null;}void ZC(String A,String B){Z C=wB(A,true);C.ZC(B);}bool aO(String C,Object B){Z A=wB(C,true);if(A.RGB==null){A.o(B);return true;}else{A.rB(B);return false;}}void lGB(String C,Object A){gC B=wB(C,A!=null) as gC;if(B!=null){B.lGB(A);}}void ZM(Object C,[hC B]){gC A=wB('@inputs',C!=null) as gC;if(A!=null){A.nGB(C);}A=wB('@data',B!=null) as gC;if(A!=null){if(B==A.oFB){A.iF(false);}else{A.nGB(B);}}}Map<String,DP> AM;qE KU(String A,DE C){if(sFB)return GW.wk;int D=A.lastIndexOf('.');if(D<0){Z G=wB(A,true);G.kH(C);return G;}if(AM==null){AM=new MB<String,DP>();}else if(AM.containsKey(A)){DP I=AM[A];I.kH(C);return I;}DP B=new DP(this,A);AM[A]=B;String J=A.substring(0,D);qE K=KU(J,B.Vt);B.DGB=K;B.kH(C);return B;}String MM([String C='.']){if(JGB==null){return null;}if(JGB==this){return '';}Q A=this;ListQueue<String> B=new ListQueue<String>();while(A!=JGB){if(A==null){B.addFirst('@init@');break;}B.addFirst(A.yFB);A=A.DGB;}return B.join(C);}List<H> nC(){if(sM.containsKey(type)){return sM[type];}return const[] ;}H OM(String B){List<H> C=nC();for(H A in C){if(A.name==B){return A;}}return null;}int oGB=-1;void C_(Map<String,Map> B){if(JGB==this){DI D=pGB();if(D.KR==D){B.forEach((A,C){if(A.contains(':')){print('warning, non-local symbol is serialized ${A}');return;}if(A=='@df'){return;}qGB.kF(A,C);});if(B['@df'] is Map){tI G=qGB.SE;B['@df'].forEach((A,C){if(A.contains(':')){print('warning, non-local symbol is serialized ${A}');return;}G.kF(A,C);});}}}}void jr(Map<String,Map> B){if(JGB==this){DI G=pGB();if(G.KR==G){List<String> K=G.yT();B.forEach((C,I){if(C=='@df'){return;}qGB.kF(C,I);});for(String A in K){if(!B.containsKey(A)){qGB.kF(A,null);}}tI D=qGB.SE;List<String> J=D.yT();if(B['@df'] is Map){B['@df'].forEach((C,I){D.kF(C,I);});for(String A in J){if(!B['@df'].containsKey(A)){D.kF(A,null);}}}else{for(String A in J){D.kF(A,null);}}}}}CP kY([bool B=false]){Object A=L('@params');if(A is!CP&&B){A=new CP();(wB('@params',true) as gC).nGB(A);}return A;}DI qGB;DI pGB(){if(qGB==null){qGB=new DI(this);}return qGB;}DI UC(){if(JGB!=null){return JGB.pGB();}return null;}zC oH(){return UC();}bool vT(){DI A=UC();return (A==null||A.enabled);}bool sFB=false;bool get hU=>sFB;void DB(){if(sFB){return;}Object A=GO("view");if(A is LP){A.DB();}sFB=true;if(aGB!=null){aGB.clear();aGB=null;}VGB.clear();WGB.clear();WGB=null;if(AM!=null){AM.forEach((B,C){C.DB();});AM=null;}LGB.forEach((B,D){D.DB();});if(OS){LGB=null;eGB=null;}if(qGB!=null){qGB.DB();qGB=null;}DGB=null;JGB=null;fGB=null;gGB=null;hGB=null;iGB=null;TGB=null;yFB=null;dGB=null;}void ZZ(){throw 'not allowed';}Map zB(){Map<String,Object> A=new MB<String,Object>();if(type!=null){A['@type']=type;}eGB.forEach((C,D){Object B=D.zB();if(B!=null){A[C]=B;}});return A;}void JE(Map<String,Object> A){if(A.containsKey('@df')){o('!df',A['@df']);}else if(A.containsKey('@ws')){o('!df',A['@ws']);}A.forEach((B,C){if(!B.startsWith('@')){wB(B,true).JE(C);}});}void WD(Map<String,Object> B){B.forEach((A,C){if(!A.startsWith('@')){wB(A,true).WD(C);}});eGB.forEach((A,D){if(!B.containsKey(A)){D.WD(null);}});}void Ih(Function A){}}class bR{bool tFB=true;bool get enabled=>tFB;void set enabled(bool A){tFB=A;}Q IGB;Q get hD=>IGB;bR(this.IGB);void set Or(bool A){if(A){if(rGB==null){rGB=new List<Map>();zN();}}else{rGB=null;}}List<Map> rGB;int sGB=0;int tGB=-1;bool uGB=false;void zN(){if(rGB==null){return;}if(IGB.hU){print("Attempt to write history for a recycled page");return;}if(rGB.length>tGB+1){rGB.length=tGB+1;}if(tGB!=rGB.length-1){tGB==rGB.length-1;print('dg_symbol_manager: invalid history state');}Map A=tV(IGB);if(rGB.length<1||!NS(A,rGB.last)){rGB.add(A); ++tGB;}if(rGB.length>150&&!uGB){rGB.removeRange(0,50);tGB-= 50;sGB+= 50;}}}class PD extends Q{static PD gR;static PD get pi{if(gR==null){gR=new PD.FCB(rR);print('warning, project dataflow accessed before initialized');}return gR;}static Map<String,PD> Lb={};static PD AP(String A,[bool C=false]){if(!Lb.containsKey(A)){Lb[A]=new PD.FCB(A);pw(A);if(!C){print('warning, ${A} lib dataflow accessed before initialized');}}PD B=Lb[A];if(A==rR){gR=B;}if(B.IU==null){B.IU=A;print('warning, ${A} lib dataflow accessed before initialized');}return B;}static String rR;static void pw(String A){void B(String I){Map J=tG.Jc(I);PD C=BP(J,checkVersion:true,addLibId:A);C.WU();if(rR==A){C.UC().Or=true;}}void D(String K){PD G=AP(A,true);G.WU();if(rR==A){G.UC().Or=true;}}if(A==rR){nF.dW(B,'project.df5',onError:D);}else{nF.dW(B,'lib/${A}/project.df5',onError:D);}}static List<H> Yx=[] ;String get type=>'project';bool nQ=false;List<Function> Qg=[] ;void WU(){nQ=true;for(Function A in Qg){A();}Qg.clear();}void O7(void A()){if(nQ){A();}else{Qg.add(A);}}String IU;PD.FCB(this.IU):super(true){if(IU!=null){UC().VE='lib/${IU}/';}}}typedef void DE(Object _0,bool _1);class qE{Q IGB;Q get hD=>IGB;qE(this.IGB);Z get vD=>null;Object oFB;Object get value=>oFB;void set value(Object A){if(A==oFB)return;oFB=A;iF(false);}static List<DE> Pj=new List<DE>();List<DE> HGB=new List<DE>();bool vGB=false;Set<DE> wGB;Set<DE> xGB;void kH(DE A){if(IGB.sFB)return;if(yGB){if(xGB!=null){xGB.remove(A);}if(!HGB.contains(A)){if(wGB==null){wGB=new Set<DE>();}wGB.add(A);}return;}if(!HGB.contains(A)){HGB.add(A);vGB=true;A(oFB,false);}}void IF(DE A){if(yGB){if(wGB!=null){wGB.remove(A);}if(HGB.contains(A)){if(xGB==null){xGB=new Set<DE>();}xGB.add(A);}return;}HGB.remove(A);if(HGB.isEmpty){vGB=false;}}bool yGB=false;void iF(bool B){if(!yGB){yGB=true;HGB.forEach((DE C){C(oFB,B);});yGB=false;if(xGB!=null){xGB.forEach((A){IF(A);});xGB=null;}if(wGB!=null){wGB.forEach((A){kH(A);});wGB=null;}}else{print('Error: DGLinkSource.set value, dead loop at ${MM('.')}');}}String MM([String A='.']){return null;}}class Z extends qE{String yFB;String get name=>yFB;Z get vD=>this;Z(Q A,this.yFB):super(A);bool sFB=false;bool get hU=>sFB;void set value(Object A){if(A==oFB)return;oFB=A;if(IGB.OGB){IGB.VM(yFB,this);}iF(zGB);}int YGB=-1;bool zGB=false;bool tQ=false;void iF(bool A){super.iF(A);tQ=false;zGB=false;}void call(Object A,bool B){if(B&&oFB==A){oFB=null;zGB=true;}value=A;}void rB(Object A){call(A,false);}bool AHB=false;Object BHB;zI CHB;Object zB(){if(AHB){Object A=SGB;if(A is zI){CHB=A;A=(A as zI).zB();}else{CHB=null;}if(RGB!=null){if(A!=null){BHB=[A,RGB];}else{BHB=[RGB];}}else{BHB=A;}AHB=false;}else if(CHB!=null){if(BHB is Map){return CHB.zB();}else if(BHB is List){List C=BHB;int G=C.length;List D=new List(G);for(int B=0;B<G; ++B){if(C[B] is Map){D[B]=CHB.zB();}else{D[B]=C[B];}}BHB=D;}}return BHB;}void JE(Object A){if(A is Map<String,Object>){o(pE(A,root:IGB.JGB));}else if(A is List){int B=A.length;if(B==1){if(A[0] is String){ZC(A[0]);}}else if(B==2){ZC(A[1]);if(A[0] is Map){SGB=pE(A[0],root:IGB.JGB);(SGB as Q).TGB=this;}else{SGB=A[0];}value=A[0];}}else{o(A);}AHB=true;}void WD(Object A){if(A is Map<String,Object>){if(SGB is Q){String D=A['@type'];if((SGB as Q).type!=D){o(pE(A,root:IGB.JGB));}else{(SGB as Q).WD(A);}}else{o(pE(A,root:IGB.JGB));}}else if(A is List){int C=A.length;if(C==1){if(A[0]!=RGB){ZC(A[0]);}}else if(C==2){if(A[1]!=RGB||A[0]!=SGB){ZC(A[1]);Object B=A[0];if(B is Map){if(SGB is Q){(SGB as Q).WD(B);}else{SGB=pE(B,root:IGB.JGB);(SGB as Q).TGB=this;}}else{SGB=B;}value=A[0];}}}else{if(A!=SGB||RGB!=null)o(A);}AHB=true;}Object SGB;String RGB;qE DHB;String cQ()=>RGB;qE tT()=>DHB;void o(Object A){if(RGB!=null){EHB();tQ=true;AHB=true;}else if(A!=SGB||A!=oFB){AHB=true;}else{return;}if(A is Q){A.vD=this;}if(!identical(A,SGB)&&SGB is Q&&(SGB as Q).TGB==this){if(SGB is Rb){zD.Mj((SGB as Q).DB);}else{(SGB as Q).DB();}}SGB=A;value=A;if(tQ){iF(false);}}void ZC(String A){if(A==RGB)return;AHB=true;if(DHB!=null){DHB.IF(this);}SGB=null;RGB=A;tQ=true;if(RGB!=null){DHB=IGB.KU(RGB,this);}else{DHB=null;if(oFB is!num&&oFB is!String&&oFB is!bool){value=null;}}if(tQ){iF(false);}}void Eq(){if(DHB!=null){value=DHB.value;}else if(SGB!=null){value=SGB;}else{value=null;}}void sZ(){ZC(null);o(oFB);}void EHB(){RGB=null;if(DHB!=null){DHB.IF(this);DHB=null;}}void DB(){if(sFB)return;sFB=true;if(SGB is Q&&(SGB as Q).TGB==this){(SGB as Q).DB();}if(DHB is Z&&!((DHB as Z).IGB==null)&&!(DHB as Z).IGB.sFB){DHB.IF(this);}HGB=qE.Pj;IGB=null;oFB=null;DHB=null;}String MM([String B='.']){if(IGB==null){return null;}String A=IGB.MM(B);if(A==null){return null;}if(A!=''){return A+B+yFB;}return yFB;}}class ib extends Z{ib(Q A,String B):super(A,B);Object zB(){return null;}}class gC extends Z{gC(Q A,String B):super(A,B);void o(Object A){if(A!=SGB){print('Error, DGSysProperty.setValue() not allowed');}}void ZC(String A){print('Error, DGSysProperty.setBinding() not allowed');}void lGB(Object A){value=A;}void nGB(hC A){if(A==SGB){return;}if(A is KP&&SGB is KP){if(kW(A.GH,(SGB as KP).GH)){return;}}if(SGB is Q){(SGB as Q).TGB=null;(SGB as Q).DGB=null;(SGB as Q).JGB=null;if(!(SGB as Q).sFB){(SGB as Q).kGB(null);if((SGB as Q).gGB!=null){(SGB as Q).gGB.lGB(null);}}}if(A is Q&&A.TGB==null){A.vD=this;SGB=A;}else{SGB=null;}value=A;}Object zB(){return null;}}class yR extends gC{yR(Q A,String B):super(A,B);bool FHB=false;void kH(DE A){super.kH(A);if(!FHB&&A is Z){FHB=true;if(IGB.OGB){IGB.VM(yFB,this);}}}void IF(DE A){super.IF(A);if(FHB&&A is Z){bool B=false;for(var C in HGB){if(C is Z){B=true;break;}}if(!B&&!XE.yv){FHB=false;IGB.VM(yFB,this);}}}}class DW extends Z{DW(Q A,String B):super(A,B);void JE(Object A){o(A);}void WD(Object A){if(!I3(SGB,A)){o(A);}}Object zB(){return SGB;}void ZC(String A){return;}}class EW extends Z{EW(Q A,String B):super(A,B);void LY(qE A){if(identical(A,DHB)){return;}if(DHB!=null){DHB.IF(this);}A.kH(this);DHB=A;}Object zB(){return null;}}class zR extends gC{zR(Q A,String B):super(A,B){if(IGB.JGB!=null&&IGB.JGB!=IGB){ue(A.JGB);}}Q GHB;void ue(Q A){if(GHB!=null&&!GHB.sFB){GHB.wB('@page',true).IF(this);}if(A!=null&&!A.sFB&&A!=IGB){GHB=A;GHB.wB('@page',true).kH(this);}else{GHB=null;}}void DB(){if(GHB!=null&&!GHB.sFB){GHB.wB('@page',true).IF(this);}super.DB();}void sZ(){}}class DP extends qE implements LP{String yFB;String HHB;hC IHB;Object get target=>IHB;qE DGB;qE get parent=>DGB;Z JHB;Z get vD=>JHB;Object get value{if(JHB!=null){return JHB.oFB;}return oFB;}DP(Q A,this.HHB):super(A){int B=HHB.lastIndexOf('.');yFB=HHB.substring(B+1);}void Vt(Object A,bool B){if(identical(A,IHB))return;if(JHB!=null){Ot();}if(A is hC){IHB=A;}else{IHB=null;}if(IHB!=null){if(IHB is Q){JHB=(IHB as Q).wB(yFB,true);t9();}else{JHB=null;oFB=IHB.L(yFB);iF(B);}}else{JHB=null;oFB=null;iF(B);}}void kH(DE A){if(IGB.sFB)return;if(!HGB.contains(A)){HGB.add(A);vGB=true;if(JHB!=null){JHB.kH(A);}else{A(oFB,false);}}}void IF(DE A){HGB.remove(A);if(JHB!=null){JHB.IF(A);}if(HGB.isEmpty){vGB=false;}}void t9(){if(JHB!=null){HGB.forEach((A){JHB.kH(A);});}}void Ot(){if(JHB!=null){HGB.forEach((A){JHB.IF(A);});}}void DB(){if(JHB!=null&&!(JHB.hD==null)&&!JHB.hD.sFB){Ot();}JHB=null;if(DGB!=null&&!DGB.hD.sFB){DGB.IF(Vt);}DGB=null;HGB=qE.Pj;}void ZZ(){throw 'not allowed';}String MM([String A='.']){return '${IGB.MM()}.${HHB}';}}class GW implements Z{static final GW wk=new GW();String RGB;bool sFB=false;bool get hU=>false;qE DHB;void EHB(){}Object BHB;bool AHB=false;Object SGB;bool vGB=false;List<DE> HGB;bool zGB=false;int YGB=-1;Q IGB;Set<DE> wGB;Set<DE> xGB;bool yGB=false;zI CHB;Object oFB;void kH(void A(Object obj,bool noCache)){}void call(Object A,bool B){}void Eq(){}String cQ()=>null;qE tT()=>null;Object zB()=>null;String MM([String A='.'])=>null;void JE(Object A){}void WD(Object A){}String get name=>yFB;bool tQ=false;Q get hD=>IGB;Z get vD=>null;void DB(){}void IF(void A(Object obj,bool noCache)){}void ZC(String A){}void o(Object A){}void sZ(){}void rB(Object A){}Object value;String yFB;void iF(bool A){}}class XE{static bool vJ=false;static bool kV=false;static bool mR=false;static bool get yv=>mR;static int yO=0;static Map<oE,int> vM=new MB<oE,int>();static ListQueue<oE> oR=new ListQueue<oE>();static ListQueue<oE> qR=new ListQueue<oE>();static Map<Q,int> Ob=new MB<Q,int>();static List<Q> Pb=new List<Q>();static void wJ(oE A){if(A.sFB){return;}if(mR){if(OS){throw "Error: watcher shouldn't affect model during updating";}else{return;}}if(A is QD){if(vM.containsKey(A)){}else{if(!vJ){vJ=true;zD.Mb();}A.nFB=true;if(kV){qR.addLast(A);}else{qR.addFirst(A);}vM[A]=1;}}else{if(vM.containsKey(A)){}else{if(!vJ){vJ=true;zD.Mb();}A.nFB=true;if(kV){oR.addLast(A);}else{oR.addFirst(A);}vM[A]=1;}}}static void Ux(Q A){if(mR){A.XGB=false;print("Error: watcher shouldn't affect model during updating ${A} ${A.WGB}");return;}if(!Ob.containsKey(A)){if(!vJ){vJ=true;zD.Mb();}Pb.add(A);Ob[A]=1;}}static void cx(){oE A=oR.last;if(A.nFB&&!A.sFB){A.mFB();}else{vM.remove(oR.removeLast());}}static void kx(){oE A=qR.last;if(A.nFB&&!A.sFB){A.mFB();}else{vM.remove(qR.removeLast());}}static void rx(){if(!vJ){return;}vJ=false;kV=true;while(true){if(oR.isNotEmpty){cx();}else if(qR.isNotEmpty){kx();}else{break;}}vM=new MB<oE,int>();mR=true;zx();Pb.clear();Ob.clear();mR=false;kV=false;yO++ ;}static void zx(){for(Q A in Pb){if(!A.hU)A.ABB();}}}class Cb{static bool gw=true;static vu Vj;}abstract class vu{}bool Rk=false;void Ny(){if(!Rk){tu();Rk=true;}}Function Tk;typedef bool uu(_0);String ni(Object A){return A.toString();}class yi{bool o(Object A,String B,Object C){if(A is Q){A.o(B,C);return true;}else{return false;}}Q z9(Map A){return pE(A);}Z ER(Object A,String D){List B=D.split('.');String G=B.removeLast();B.forEach((String C){if(C!=''){if(A is hC){A=(A as hC).L(C);}else{return null;}}});if(A is Q){return (A as Q).wB(G,true);}return null;}Object ng(Object B,String C){Z A=ER(B,C);if(A!=null){return A.oFB;}return null;}bool SO(Object D,String G,Object B){Z A=ER(D,G);if(A!=null){if(B is U){if(A is vV){List C=[] ;for(List I in B.m){C.add(I.toList());}A.o(new U(C,B.g,-1,A.hD));}else{A.call(B,false);}}else{A.o(B);}return true;}return false;}bool lI(Object B,String C,Object D,[bool G=false]){Z A=ER(B,C);if(A!=null){A.call(D,G);return true;}return false;}static RegExp wy=new RegExp(r'\d+$');Z B8(Q C,String A,[bool K=false]){int G=RF(A);if(G>-1){A='input${G}';}else{A=A.replaceAll(nk,'_');}List N=C.nC();Map<String,H> D={};for(H I in N){D[I.name]=I;}Z B=C.wB(A,true);if(B.SGB!=null||B.RGB!=null||D.containsKey(A)){if(K){String P=A.replaceAll(wy,'');for(int J=1;; ++J){A='${P}${J}';if(D.containsKey(A)){continue;}B=C.wB(A,true);if(B.SGB==null&&B.RGB==null){break;}}}else{return null;}}return B;}static final RegExp nk=new RegExp(r'(^[^a-zA-Z]|[^\w]+)');String fixName(String A){return A.replaceAll(nk,'_');}Q IY(Q J,Q C,String B,String D,[bool K=false,int G=-1]){if(D==null){if(B!=null){D=B;}else if(C!=null){D=C.FD();}else{return null;}}Z I=B8(J,D,K);if(I==null){return null;}Q A;if(C!=null){A=C;}else if(zO.containsKey(B)){A=zO[B](false);}else{A=new Q(false,B);if(G>-1&&A is uC){A.LE(G);}}I.o(A);return A;}Q L7(uC B,Q C,String D,String G,[bool I=false,int J=-1]){Q A=IY(B,C,D,G,I,J);if(A==null){return null;}B.J7(A.yFB);return A;}Q FY(uC C,int I,Q D,String B,String J,[bool K=false,int G=-1]){int N=RF(J);if(N>-1){Q A;if(D!=null){A=D;}else if(zO.containsKey(B)){A=zO[B](false);}else{A=new Q(false,B);if(G>-1&&A is uC){A.LE(G);}}C.NC(I,A);return A;}else{Q A=IY(C,D,B,J,K,G);if(A==null){return null;}C.K7(I,A.yFB);return A;}}Object WZ(Q B,String C,[bool G=true,bool I=true]){Z D=B.wB(C,false);Object A;if(D!=null){if(D.oFB==null){return null;}A=D.SGB;}if(A is Q){if(I){var J=Eb.Dy([A]);J.forEach((K){K.It.sZ();});}if(G){B.o(C,null);}else{A.vD=null;}}else{B.o(C,null);}return A;}Object SZ(uC A,String B,[bool C=true]){int J=A.CGB;bool G=false;for(int D=0;D<J; ++D){if(A.vq(D)==B){G=true;A.remove(D);break;}}if(G){return WZ(A,B,C,C);}else{int I=RF(B);if(I>-1){return A.remove(I);}else{return WZ(A,B,C,C);}}return null;}Object TZ(uC A,int B,[bool G=true]){String D=A.vq(B);if(D!=null){return SZ(A,D,G);}else{Object C=A.s(B);if(C is Q){C.vD=null;}A.remove(B);return C;}}void zN(Q A){if(A==null||A.UC()==null){print("addHistory - Error!");}else{zD.Uj((){A.UC().zN();if(Cb.Vj!=null){Cb.Vj.bDB(A.sH);}});}}List<int> AF(sO B,int C){List<int> A=B.AF(C);if(A.isNotEmpty){tp(B,A.map(ni));}return A;}List<int> HF(sO B,int C){List<int> A=B.HF(C);if(A.isNotEmpty){js(B,A.map(ni));}return A;}bool te(sI A,String B,[String C,Map D]){if(A.te(B,C,D)){tp(A,[B]);return true;}return false;}bool pg(sI A,String B){if(A.pg(B)){js(A,[B]);return true;}return false;}void tp(Q A,Iterable<String> B){Object C=A.L('!ps');if(C is List){List G=A.nC().map((I)=>I.name).where((String D)=>B.contains(D)||C.contains(D)).toList();A.o('!ps',G);}else{A.o('!ps',B.toList());}}void js(Q A,Iterable<String> C){Object B=A.L('!ps');if(B is List){List D=B.where((String G)=>!C.contains(G)).toList();;A.o('!ps',D);}}void uf(Q B,uu C,{bool iterateIndexed: true,bool iterateNamed: true,bool runOnSelf: true}){if(runOnSelf){if(!C(B)){return;}}if(iterateNamed){B.eGB.forEach((D,A){if(A.value is Q&&A.value.TGB==A){uf(A.value,C,iterateIndexed:iterateIndexed,iterateNamed:iterateNamed);}});}if(iterateIndexed&&B is uC){for(Z A in B.zFB){if(A!=null&&A.value is Q&&(A.value as Q).TGB==A){uf(A.value,C,iterateIndexed:iterateIndexed,iterateNamed:iterateNamed);}}}}Map<int,Q> MZ(List<Q> B){uC I=B[0].parent;Q C;for(int A=1;A<B.length;A++ ){C=B[A];if(C.parent!=I)return null;}Map<int,Q> G=new Map();for(int A=0;A<B.length;A++ ){Q C=B[A];var D=I.Kr(C);G[D]=C;}List K=G.keys.toList()..sort();Map<int,Q> J=new Map();K.forEach((int D){J[D]=G[D];});return J;}void O_(List<Q> I){Map<int,Q> B=MZ(I);if(B==null)return;uC A=I[0].parent;Q C;var J=B.keys.toList()..sort((K,N){return N-K;});int D=A.fF()-1;for(int G in J){C=B[G];if(G<D){var P=C.uT();WB.TZ(A,G,false);WB.FY(A,D,C,null,P,true);} --D;}WB.zN(A);}void M_(List<Q> G){Map<int,Q> C=MZ(G);if(C==null)return;uC B=G[0].parent;Q D;var J=C.keys.toList()..sort((K,N){return N-K;});int I=B.fF()-1;for(int A in J){D=C[A];if(A<I){var P=D.uT();WB.TZ(B,A,false);A++ ;WB.FY(B,A,D,null,P,true);} --I;}WB.zN(B);}void L_(List<Q> G){Map<int,Q> B=MZ(G);if(B==null)return;uC C=G[0].parent;Q D;var J=B.keys.toList()..sort((K,N){return K-N;});int I=0;for(int A in J){D=B[A];if(A>I){var P=D.uT();WB.TZ(C,A,false);A-- ;WB.FY(C,A,D,null,P,true);}I++ ;}WB.zN(C);}void N_(List<Q> I){Map<int,Q> A=MZ(I);if(A==null)return;uC B=I[0].parent;Q C;var J=A.keys.toList()..sort((K,N){return K-N;});int D=0;for(int G in J){C=A[G];if(G>D){var P=C.uT();WB.TZ(B,G,false);WB.FY(B,D,C,null,P,true);}D++ ;}WB.zN(B);}}yi WB=new yi();typedef zI fV(bool _0);Map<String,fV> wO={};Map<String,fV> wv={};Map<String,fV> zO={}..addAll(wO)..addAll({'array':([bool A=false]){return new uC(A);},'object':([bool A=false]){return new Q(A);}});bool X(String A,fV C,List<H> B,[List<H> G,Nb D,int I=1,int J=0,int K=64]){if(zO.containsKey(A)){print('Error: dgRegisterModelType: type already exists: '+A);return false;}else{wO[A]=C;zO[A]=C;}if(D!=null){Dx(A,B,G,D,I,J,K);}else if(B!=null){jv(A,B);}return true;}bool px(String A){return wv.containsKey(A);}Object pE(Map<String,Object> A,{bool isRoot: false,String type,bool checkVersion: false,Q root}){if(checkVersion&&A['@ver']!=null){int C=bB(A['@ver'],0);if(C<jW){A=hV(A,C);}}zI B;if(type==null){type=A['@type'];}if(type=='tabledata'){return new U.NCB(A);}if(A!=null&&wO.containsKey(type)){B=wO[type](isRoot);}else if(A.containsKey('@array')){B=new uC(isRoot,type);}else{B=new Q(isRoot,type);}if(B is Q){if(root!=null){B.JGB=root;}else if(isRoot){B.JGB=B;}}B.JE(A);return B;}Map<String,Object> tV(Q A,[bool G=false]){Map B=A.zB();if(A.JGB==A||G){Object C=A.L('@params');if(C is Q){B['@params']=C.zB();};if(A.qGB!=null){Object D=A.qGB.lY();if(D!=null){B['@symbols']=D;}}B['@ver']=jW;}return B;}Q BP(Map<String,Object> B,{zC rootmanager,bool enabled: true,bool checkVersion: false,String addLibId,String projRootPath}){if(checkVersion){int D=bB(B['@ver'],0);if(D<jW){B=hV(B,D);}}Q A;if(addLibId!=null){A=PD.AP(addLibId,true);(A as PD).nQ=true;}else{String C=B['@type'];if(C!=null&&wO.containsKey(C)){A=wO[C](true);}else if(B.containsKey('@array')){A=new uC(true);if(C!=null){(A as uC).dGB=C;}}else{A=new Q(true);if(C!=null){A.dGB=C;}}}if(rootmanager!=null){A.qGB=new rk(A,rootmanager);}if(projRootPath!=null){A.UC().VE=projRootPath;}A.UC().tFB=enabled;A.JE(B);if(B.containsKey('@symbols')&&(B['@symbols'] is Map<String,Object>)){A.C_(B['@symbols']);}if(B.containsKey('@params')&&(B['@params'] is Map<String,Object>)){(A.wB('@params',true) as gC).nGB(pE(B['@params'],type:'params',root:A) as Q);}return A;}void sx(Q B,Map<String,Object> A){Object C=B.L('@params');if(A.containsKey('@params')&&(A['@params'] is Map<String,Object>)){if(C is Q){C.WD(A['@params']);}else{(B.wB('@params',true) as gC).nGB(pE(A['@params'],type:'params',root:B) as Q);}}else if(C is Q){C.WD(const{});}if(A.containsKey('@symbols')&&(A['@symbols'] is Map<String,Object>)){B.jr(A['@symbols']);}else{B.jr(const{});}B.WD(A);}Object Sw(){return null;}class uR extends Q{uR(bool A):super(A);}class Tb extends uC{Tb(bool A):super(A);}UH Nx(Object A){if(A is UH)return A;Object B;Object C;if(A is hC){Object G=A.L('fillType');if(G=='gradient'){Object I=A.L('gradient');if(I is UH){return I;}return null;}if(G=='solid'){B=A.L('color');C=A.L('opacity');}}else{B=NP(A);}if(B!=null){UH D=new UH();if(C is num){D.dI(new BE.BCB(B,C,0));}else{D.dI(new BE.BCB(B,1,0));}return D;}return null;}class Lk{}class Xb extends Q{static List<H> By=[new H('value',type:'object',showInBlock:false)];Xb([bool A=true]):super(A,"findReplaceColor"){JY(x7);}String FD()=>'findReplaceColor';String type;List<Lk> k8=new List();Object oFB;Object get value=>oFB;void set value(Object A){if(oFB==A)return;oFB=A;zD.Uj((){k8.forEach((Lk B){B.target.o(B.TDB,A);});});}void x7(Iterable<String> A){if(A==null||A.contains("value")){value=L("value");}}}abstract class sO extends pF implements Q{}class fB extends uV implements sO{int get SQ=>2;fB(){CGB=SQ;zFB.length=SQ;}static H CI(int A){return new H('${A}',label:'input ${A}',type:'number');}static H ew(int A){return new H('${A}',label:'input ${A}',type:'string');}static H rV(int A){return new H('${A}',label:'input ${A}',type:'object');}Object IE(int A){return null;}List<int> AF(int A){NC(A,IE(A));return [A];}List<int> HF(int A){remove(A);return [A];}}class bj extends fB{bj();String get type=>'add';void e(){num A=0;forEach((B){A+= W(B,0);});M('output',A);}}class fj extends fB{fj();String get type=>'multiply';void e(){num A=1;forEach((B){A*= W(B,1);});M('output',A);}}class kj extends fB{kj();String get type=>'subtract';void e(){num B=W(s(0));for(int A=1;A<CGB; ++A){B-= W(s(A),0);}M('output',B);}}class qj extends fB{qj();String get type=>'divide';void e(){num B=W(s(0));for(int A=1;A<CGB; ++A){B/= W(s(A),1);}M('output',B);}}class wj extends fB{wj();String get type=>'max';void e(){num A=double.NEGATIVE_INFINITY;forEach((C){num B=W(C);if(B>A){A=B;}});if(A==double.NEGATIVE_INFINITY){M('output',0);}else{M('output',A);}}}class Ck extends fB{Ck();String get type=>'min';void e(){num A=double.INFINITY;forEach((C){num B=W(C);if(B<A){A=B;}});if(A==double.NEGATIVE_INFINITY){M('output',0);}else{M('output',A);}}}class Vb extends AB{Vb(){XE.wJ(this);}static List<H> ux=[new H('input',type:'bool'),new H('output',type:'bool',readOnly:true)];String get type=>'not';void e(){M('output',!UB(L('input')));}}class rI extends AB{static Map<String,HashSet<rI>> tM=new Map<String,HashSet<rI>>();static lR(Q C,Object B){Object A=C.L('errorGroup');if(A is String&&B!=null&&tM.containsKey(A)){for(var D in tM[A]){D.M('output',B);}}}static List<H> Uw=[new H('errorGroup',type:'string'),new H('output',type:'string',readOnly:true)];String get type=>'catchError';String group;bool RB(YB A){if(A.name=='errorGroup'){if(group!=null){tM[group].remove(this);}if(A.value is String&&A.value!=''){group=A.value;if(!tM.containsKey(group)){tM[group]=new HashSet<rI>();}tM[group].add(this);}else{group=null;}}return false;}void DB(){if(group!=null){tM[group].remove(this);group=null;}super.DB();}}class ta extends fB{static List<H> Hv=[new H('op',type:'enum',nullValue:'=',meta:{'enums':const['=','>','<','>=','<=','!=','and','or','contains','startsWith','endsWith']})];static List<H> Lw=[new H('then',type:'object'),new H('else',type:'object'),new H('output',type:'object',readOnly:true)];String get type=>'if';Object IE(int B){Object A=L('op');if(A=='and'){return true;}if(A=='or'){return false;}return 0;}void e(){if(CGB<2){return;}Object B=L('op');if(B=='='||B==null){Object G=s(0);for(int A=1;A<CGB; ++A){if(!QL(G,s(A))){M('output',L('else'));return;}}M('output',L('then'));}else if(B=='and'){for(int A=0;A<CGB; ++A){if(!UB(s(A))){M('output',L('else'));return;}}M('output',L('then'));}else if(B=='or'){for(int A=0;A<CGB; ++A){if(UB(s(A))){M('output',L('then'));return;}}M('output',L('else'));}else if(B=='>'){num C=W(s(0));for(int A=1;A<CGB; ++A){num D=W(s(A));if(!(C>D)){M('output',L('else'));return;}C=D;}M('output',L('then'));}else if(B=='<'){num C=W(s(0));for(int A=1;A<CGB; ++A){num D=W(s(A));if(!(C<D)){M('output',L('else'));return;}C=D;}M('output',L('then'));}else if(B=='>='){num C=W(s(0));for(int A=1;A<CGB; ++A){num D=W(s(A));if(!(C>=D)){M('output',L('else'));return;}C=D;}M('output',L('then'));}else if(B=='<='){num C=W(s(0));for(int A=1;A<CGB; ++A){num D=W(s(A));if(!(C<=D)){M('output',L('else'));return;}C=D;}M('output',L('then'));}else if(B=='!='){Object G=s(0);for(int A=1;A<CGB; ++A){if(QL(G,s(A))){M('output',L('else'));return;}}M('output',L('then'));}else if(B=='contains'){String G=b(s(0),'');for(int A=1;A<CGB; ++A){if(G.contains(b(s(A)))){M('output',L('then'));return;}}M('output',L('else'));}else if(B=='startsWith'){String G=b(s(0));for(int A=1;A<CGB; ++A){if(G.startsWith(b(s(A)))){M('output',L('then'));return;}}M('output',L('else'));}else if(B=='endsWith'){String G=b(s(0));for(int A=1;A<CGB; ++A){if(G.endsWith(b(s(A)))){M('output',L('then'));return;}}M('output',L('else'));}}}class yV extends fB{static List<H> Iy=[new H('op',type:'enum',meta:{'enums':const['=','>','<','>=','<=','contains','startsWith','endsWith','regexp']}),new H('input',type:'objet')];static List<H> Oy=[new H('else',type:'object'),new H('output',type:'object',readOnly:true)];static H Sy(int A){if((A&1)==1){return new H('${A}',label:'then ${A>>1}',type:'object');}return new H('${A}',label:'case ${A>>1}',type:'object');}Object IE(int B){Object A=L('op');if(A=='regexp'||A=='contains'||A=='startsWith'||A=='endsWith'){return '';}return 0;}List<int> AF(int B){int A=(B|1)-1;NC(A,IE(A));NC(A+1,null);return [A,A+1];}List<int> HF(int B){int A=(B|1)-1;remove(A);remove(A);return [A,A+1];}static Map<String,RegExp> ab=new MB<String,RegExp>();String get type=>'case';void e(){Object C=L('op');Object D=L('input');if(C=='='){for(int A=0;A<CGB;A+= 2){if(QL(D,s(A))){M('output',s(A+1));return;}}}else if(C=='>'){num G=W(D);for(int A=0;A<CGB;A+= 2){if(G>W(s(A))){M('output',s(A+1));return;}}}else if(C=='<'){num G=W(D);for(int A=0;A<CGB;A+= 2){if(G<W(s(A))){M('output',s(A+1));return;}}}else if(C=='>='){num G=W(D);for(int A=0;A<CGB;A+= 2){if(G>=W(s(A))){M('output',s(A+1));return;}}}else if(C=='<='){num G=W(D);for(int A=0;A<CGB;A+= 2){if(G<=W(s(A))){M('output',s(A+1));return;}}}else if(C=='contains'){String B=b(D);if(B!=null){for(int A=0;A<CGB;A+= 2){String J=b(s(A),'');if(J!=''&&B.contains(J)){M('output',s(A+1));return;}}}}else if(C=='startsWith'){String B=b(D);if(B!=null){for(int A=0;A<CGB;A+= 2){if(B.startsWith(b(s(A)))){M('output',s(A+1));return;}}}}else if(C=='endsWith'){String B=b(D);if(B!=null){for(int A=0;A<CGB;A+= 2){if(B.endsWith(b(s(A)))){M('output',s(A+1));return;}}}}else if(C=='regexp'){String B=b(D);if(B!=null){for(int A=0;A<CGB;A+= 2){String I=b(s(A));if(I!=null){if(!ab.containsKey(I)){ab[I]=new RegExp(I);}if(B.contains(ab[I])){M('output',s(A+1));return;}}}}}M('output',L('else'));}}class CW extends fB{static List<H> Cz=[new H('reset',type:'trigger',serializable:false),new H('logOrder',nullValue:'none',type:'enum',meta:{'enums':const['none','firstOccurance','lastOccurance','all']})];static List<H> Ez=[new H('onFinish',type:'event',readOnly:true),new H('order',type:'string',readOnly:true)];String get type=>'eventGate';Object IE(int A){return null;}Z CM(String A){return new gb(this,A);}CW(){KHB=XE.yO;}int KHB;String LHB='none';Set<String> MHB=new HashSet<String>();List NHB=[] ;bool OHB=false;bool RB(YB A){if(sFB){return false;}if(A.yFB=='reset'){if(TB.YE(A.oFB)){NHB=[] ;MHB=new HashSet<String>();OHB=false;M('order',null);}}else if(A.yFB=='logOrder'){String B=CJ(A.oFB,const['none','firstOccurance','lastOccurance','all'],'none');if(B!=LHB){LHB=B;NHB=[] ;}}else if(XE.yO!=KHB){if(!OHB&&zFB.contains(A)){MHB.add(A.yFB);if(LHB=='lastOccurance'){if(NHB.contains(A.yFB)){NHB.remove(A.yFB);}NHB.add(A.yFB);}else if(LHB=='firstOccurance'){if(!NHB.contains(A.yFB)){NHB.add(A.yFB);}}else if(LHB=='all'){if(NHB.length>10000){NHB=[] ;}NHB.add(A.yFB);}return super.RB(A);}}return false;}void e(){if(!OHB&&MHB.length==fF()){M('onFinish',new TB('onFinish'));M('order',NHB.join(','));OHB=true;}}}class fb extends fB{static List<H> Kz=[new H('index',type:'object',readOnly:true),new H('output',type:'object',readOnly:true),new H('onChange',type:'event',readOnly:true)];String get type=>'hub';Object IE(int A){return null;}Z CM(String A){return new gb(this,A);}fb(){KHB=XE.yO;}int KHB;String PHB;bool RB(YB A){if(sFB){return false;}if(XE.yO==KHB){if(A.name=='index'){PHB=A.oFB;return super.RB(A);}if(A.name==PHB){return super.RB(A);}}else{if(zFB.contains(A)){PHB=A.name;return super.RB(A);}}return false;}void e(){if(PHB!=null){if(XE.yO==KHB){M('output',L(PHB));}else{o('index',PHB);M('output',L(PHB));M('onChange',new TB('onChange'));}}}}class gb extends YB{gb(oE A,String B):super(A,B);void set value(Object A){if(A==oFB){QHB.RB(this);}else{super.value=A;}}}abstract class pu implements sO{}abstract class sI implements Q{bool te(String A,[String C,Map G]){if(A==null||A==''||A.startsWith(r'@')){return false;}if(C==null){C=Q9();}List<H> J=nC();for(H K in J){if(K.name==A){return false;}}Object I=L('!var');List D=[] ;if(I is List){D.addAll(I);}Map B={};if(G!=null){G.forEach((N,P){B[N]=P;});}B['n']=A;B['t']=C;D.add(B);o('!var',D);return true;}bool tAB(String G,Map A){if(G==null){return false;}Object B=L('!var');if(B is List){for(int C=0;C<B.length; ++C){Object D=B[C];if(D is Map){if(D['n']==G){B[C]=A;if(A.containsKey('n')){A['n']=D['n'];}if(A.containsKey('t')){A['t']=D['t'];}List I=B.toList();o('!var',I);return true;}}}}return false;}bool pg(String C){if(C==null){return false;}Object A=L('!var');if(A is List){for(Object B in A){if(B is Map){if(B['n']==C){List D=A.toList();D.remove(B);o('!var',D);return true;}}}}return false;}bool l9(String C){Object A=L('!var');if(A is List){for(Object B in A){if(B is Map){if(B['n']==C){return true;}}}}return false;}String Q9(){return 'object';}void cT(List<H> G){Object C=L('!var');if(C is List){for(Object A in C){if(A is Map){Object D=A['n'];if(D is String){Object B=A['t'];if(B is!String){B='object';}G.add(new H(D,type:B,meta:A));}}}}}H OM(String G){Object C=L('!var');if(C is List){for(Object A in C){if(A is Map){Object D=A['n'];if(D==G){Object B=A['t'];if(B is!String){B='object';}return new H(D,type:B,meta:A);}}}}return null;}}class Oi extends AB{static List<H> Gv=[new H('input',type:'object'),new H('time',type:'number',readOnly:true),new H('year',type:'number',readOnly:true),new H('month',type:'number',readOnly:true),new H('day',type:'number',readOnly:true),new H('hour',type:'number',readOnly:true),new H('minute',type:'number',readOnly:true),new H('second',type:'number',readOnly:true),new H('millisecond',type:'number',readOnly:true),new H('weekday',type:'number',readOnly:true)];String get type=>'parseDateTime';void e(){DateTime A=tE(L('input'));if(A!=null){M('time',A.millisecondsSinceEpoch);M('year',A.year);M('month',A.month);M('day',A.day);M('hour',A.hour);M('minute',A.minute);M('second',A.second);M('millisecond',A.millisecond);M('weekday',A.weekday);}else{M('time',null);M('year',null);M('month',null);M('day',null);M('hour',null);M('minute',null);M('second',null);M('millisecond',null);M('weekday',null);}}}class tj extends AB{static List<H> Tx=[new H('input',type:'object'),new H('format',type:'string'),new H('output',type:'string',readOnly:true)];String get type=>'dateFormat';void e(){DateTime A=tE(L('input'));String B=b(L('format'),'');if(A!=null&&B!=''){M('output',PS(A,B));}else{M('output',null);}}}class Dk extends AB{static List<H> fx=[new H('year',type:'number'),new H('month',type:'number'),new H('day',type:'number'),new H('hour',type:'number'),new H('minute',type:'number'),new H('second',type:'number'),new H('millisecond',type:'number'),new H('isUTC',type:'bool'),new H('output',type:'datetime',readOnly:true)];String get type=>'datetime';void e(){num A=W(L('year'));num B=W(L('month'),1);num C=W(L('day'),1);num D=W(L('hour'),0);num G=W(L('minute'),0);num I=W(L('second'),0);num J=W(('millisecond'),0);bool K=UB(L('isUTC'));if(A is num&&A+1>A){if(K){M('output',(new DateTime.utc(A,B,C,D,G,I,J)).millisecondsSinceEpoch);}else{M('output',(new DateTime(A,B,C,D,G,I,J)).millisecondsSinceEpoch);}}else{M('output',null);}}}class Nk extends AB{static List<H> Ey=[new H('input',type:'datetime'),new H('op',type:'enum',meta:{'enums':const['after','before'],'enumLabels':[O('After'),O('Before')]}),new H('year',type:'number'),new H('month',type:'number'),new H('day',type:'number'),new H('hour',type:'number'),new H('minute',type:'number'),new H('second',type:'number'),new H('millisecond',type:'number'),new H('output',type:'datetime',readOnly:true)];String get type=>'dateMath';void e(){DateTime A=tE(L('input'));if(A!=null){int B=bB(L('year'),0);int C=bB(L('month'),0);int D=bB(L('day'),0);int G=bB(L('hour'),0);int I=bB(L('minute'),0);int J=bB(L('second'),0);int K=bB(('millisecond'),0);if(L('op')=='before'){B=-B;C=-C;D=-D;G=-G;I=-I;J=-J;K=-K;}if(B!=0||C!=0){A=new DateTime(A.year+B,A.month+C,A.day,A.hour,A.minute,A.second,A.millisecond);}A=A.add(new Duration(days:D,hours:G,minutes:I,seconds:J,milliseconds:K));M('output',A.millisecondsSinceEpoch);}else{M('output',null);}}}class Zk extends AB{static List<H> fy=[new H('input',type:'daterange'),new H('formatted',type:'string',readOnly:true,showInBlock:false),new H('nextRange',type:'daterange',readOnly:true,showInBlock:false),new H('thisRange',type:'daterange',readOnly:true,showInBlock:false),new H('previousRange',type:'daterange',readOnly:true,showInBlock:false),new H('next',type:'trigger',serializable:false),new H('previous',type:'trigger',serializable:false),new H('format',type:'string',showInBlock:false),new H('rangeDelimiter',type:'string',showInBlock:false),new H('keepSpecial',type:'enum',showInBlock:false,nullValue:'none',meta:{'enums':const['none','raw','formatted','formatClean'],'enumLabels':[O('None'),O('Raw'),O('Formatted'),O('Format Clean')]}),new H('duration',type:'number',readOnly:true,showInBlock:false)];String get type=>'dateRange';String RHB;bool RB(YB A){if(A.yFB=='next'&&TB.YE(A.oFB)){RHB='next';}else if(A.yFB=='previous'&&TB.YE(A.oFB)){RHB='previous';}else if(A.yFB=='input'){RHB=null;}else if(A.yFB=='format'||A.yFB=='rangeDelimiter'||A.yFB=='keepSpecial'){RHB=null;}else{return false;}return super.RB(A);}void e(){PB A=PB.w2(b(L('input')));if(A!=null){if(RHB=='next'){A=A.Cr();o('input',A.data);}else if(RHB=='previous'){A=A.Gr();o('input',A.data);}PB R=A.Gr();M('previousRange',R.data);PB S=A.Cr();M('nextRange',S.data);List<DateTime> K=A.DH();M('thisRange','${PB.hW(K[0])}/${PB.hW(K[1])}');int C=-1;void J(){String G=b(L('format'),'yyyy-MM-ddTHH:mm:ss');List<DateTime> B=A.DH();if(G!=''){String a=MP(L('rangeDelimiter'),'/');String I=PS(B[0],G);String N=PS(B[1],G);String D=L('keepSpecial');if(I==N&&(D=='formatted'||D=='formatClean')){M('formatted',I);}else{M('formatted','${I}${a}${N}');}}else{M('formatted',b(L('input')));}C=B[1].millisecondsSinceEpoch-B[0].millisecondsSinceEpoch+1;}bool P=CJ(L('keepSpecial'),const['none','raw','formatted','formatClean'],'none')!='none';String D=L('keepSpecial');if(A.mode==PB.IP&&P){if(D=='formatted'||D=='formatClean'){J();}else{M('formatted',A.data);if(A.relativeUnit!=PB.Pm&&A.relativeUnit!=PB.Om){C=PB.v2[A.relativeUnit]*A.relativeCount;}}}else if(A.FU&&P){if(D=='formatted'||D=='formatClean'){if(A.data=='thisWeek'||A.data=='lastWeek'){J();}else{String G=MP(L('format'),'yyyy-MM-ddTHH:mm:ss');if(D=='formatClean'){G=hAB(G,A);}List<DateTime> B=A.DH();String I=PS(B[0],G);M('formatted',I);C=B[1].millisecondsSinceEpoch-B[0].millisecondsSinceEpoch+1;}}else{M('formatted',A.data);if(A.mode==PB.JP){C=3600*1000*24;}else if(A.mode==PB.fW){C=3600*1000*24*7;}}}else{J();}if(C<0){List<DateTime> B=A.DH();C=B[1].millisecondsSinceEpoch-B[0].millisecondsSinceEpoch+1;}M('duration',C);}else{M('nextRange',null);M('previousRange',null);M('formatted',null);M('duration',null);}RHB=null;}String hAB(String B,PB C){String A;if(C.mode==PB.KS){A='MLdchHmsSEDakKzZvQ';}else if(C.mode==PB.JS){A='dchHmsSEDakKzZvQ';}else if(C.mode==PB.JP){A='hHmsSEDakKzZvQ';}if(A!=null){B=aAB(B,A);}return B;}String aAB(String C,String N){const String P='GyMLdchHmsSEDakKzZvQ';String B="";int A=0;int I=C.length;int J="'".codeUnitAt(0);String D;int G=-1;int K=-1;while(A<I){if(C.codeUnitAt(A)==J){B+= "'";do{A++ ;if(A<I){B+= C.substring(A,A+1);}}while(A<I&&C.codeUnitAt(A)!=J);A++ ;continue;}D=C.substring(A,A+1);if(P.contains(D)){if(!N.contains(D)){B+= D;if(G<0){G=B.length-1;}K=B.length-1;}}else{B+= D;}A++ ;}if(G>=0){B=iAB(B,G,K);}return B;}String iAB(String B,int J,int K){const String N=r''' +-.,!@#%^&*(){};|<>"/\'`$:T?''';String C='';int A=0;int G=B.length;int I="'".codeUnitAt(0);String D;while(A<G){D=B.substring(A,A+1);if(A>=J&&A<=K){C+= D;A++ ;continue;}if(B.codeUnitAt(A)==I){C+= "'";do{A++ ;if(A<G){C+= B.substring(A,A+1);}}while(A<G&&B.codeUnitAt(A)!=I);A++ ;continue;}if(!N.contains(D)){C+= D;}A++ ;}return C.trim();}}class BI{static Object yu(Object A){if(A is TB){return A.fI();}return A;}int BU;Object value;BI(this.value,this.BU);}class Jb extends fB{static const List Dj=const['delay','window','wait'];static List<H> Nw=[new H('delay',type:'number',nullValue:1.0),new H('mode',type:'enum',nullValue:'delay',meta:{'enums':Dj})];static H cw(int A){if((A&1)==1){return new H('${A}',label:'output ${A>>1}',type:'object',readOnly:true);}return new H('${A}',label:'input ${A>>1}',type:'object');}List<int> AF(int B){int A=(B|1)-1;NC(A,IE(A));NC(A+1,null);return [A,A+1];}List<int> HF(int B){int A=(B|1)-1;remove(A);remove(A);return [A,A+1];}String get type=>'delay';Map<int,BI> changed=new Map<int,BI>();Map<int,BI> sQ=new Map<int,BI>();ListQueue<Map> eg=new ListQueue<Map>();ListQueue<int> fg=new ListQueue<int>();bool RB(YB B){int A=RF(B.name);if(A>-1&&A&1==0){A=A>>1;changed[A]=new BI(B.oFB,A);return super.RB(B);}return false;}Timer pFB;void e(){num A=W(L('delay'),1.0);if(!(A>0.0)){A=0.0;}String D=CJ(L('mode'),Dj,'delay');if(D=='window'){changed.forEach((int B,BI C){sQ[B]=C;});changed.clear();if(pFB==null){pFB=new Timer(new Duration(milliseconds:(A*1000.0).ceil()),hJ);}}else if(D=='wait'){changed.forEach((int B,BI C){sQ[B]=C;});changed.clear();if(pFB!=null){pFB.cancel();}pFB=new Timer(new Duration(milliseconds:(A*1000.0).ceil()),hJ);}else{int G=new DateTime.now().millisecondsSinceEpoch;int I=G+(A*1000.0).ceil();fg.add(I);eg.add(changed);changed=new Map<int,BI>();if(pFB==null){sp(G);}}}void sp(int A){while(fg.isNotEmpty){int B=fg.removeFirst();Map C=eg.removeFirst();if(B<=A){ss(C);}else{sQ=C;pFB=new Timer(new Duration(milliseconds:B-A),hJ);return;}}}void hJ(){pFB=null;if(sQ.isNotEmpty){ss(sQ);sQ.clear();}if(eg.isNotEmpty){sp(new DateTime.now().millisecondsSinceEpoch);}}void ss(Map<int,BI> A){A.forEach((B,C){M(((B<<1)+1).toString(),BI.yu(C.value));});}void DB(){if(pFB!=null){pFB.cancel();pFB=null;}}}abstract class oE implements Q{void M(String A,Object B);bool nFB=false;bool RB(YB A){if(!nFB){XE.wJ(this);}return true;}void mFB(){nFB=false;e();}void e(){}}abstract class QD{}class AB extends uR with oE{AB():super(false);Z eF(String A){return new YB(this,A);}void M(String D,Object A){bool C=A is XV;Z B=wB(D,true);if(B is YB){B.M(A,C);}else{B.call(A,C);}}}class uV extends Tb with oE{uV([bool A=false]):super(A);Z eF(String A){return new YB(this,A);}Z CM(String A){return new YB(this,A);}void M(String D,Object A){bool C=A is XV;Z B=wB(D,true);if(B is YB){B.M(A,C);}else{B.call(A,C);}}}class YB extends Z{oE QHB;YB(oE A,String B):super(A,B){QHB=A;}void iF(bool A){QHB.RB(this);super.iF(A);}void M(Object A,bool B){if(SGB!=null){SGB=null;AHB=true;}if(A==oFB&&!B)return;oFB=A;if(IGB.OGB){IGB.VM(yFB,this);}super.iF(B);}}class zj extends YB{zj(Q A,String B):super(A,B);void IF(DE A){super.IF(A);if(!vGB&&!sFB&&IGB!=null&&IGB.DGB!=null){IGB.DGB.o(IGB.yFB,null);}}}class xa extends Tb with sI implements pu{static List<H> vi=[new H('customType',type:'string',showInBlock:false)];xa():super(false);int get SQ{Object A=L('!varList');if(A is List){return A.length;}return 0;}String get type=>'dynamic';List<int> AF(int A){Object B=L('!varList');if(B is List&&B.length>0){var C=B.length;int D=(A~/C)*C;List G=[] ;for(int A=0;A<C; ++A){NC(D+A,null);G.add(D+A);}return G;}return [] ;}List<int> HF(int A){Object B=L('!varList');if(B is List&&B.length>0){var C=B.length;int D=(A~/C)*C;List G=[] ;for(int A=0;A<C; ++A){remove(D);G.add(D+A);}return G;}return [] ;}void S7(List<H> J){Object B=L('!varList');if(B is List){var C=B.length;if(C>0){for(int A=0;A<CGB; ++A){Map D=B[A%C];Object I=D['n'];if(I is String){Object G=D['t'];if(G is!String){G='object';}J.add(new H(A.toString(),label:'${I} ${A~/C}',type:G,meta:D));}}}}}List<H> nC(){List<H> A=<H>[] ..addAll(vi);S7(A);cT(A);return A;}}class Fi extends AB{static List<H> Ev=[new H('input',type:'string'),new H('output',type:'number',readOnly:true)];String get type=>'parseNumber';void e(){Object A=L('input');if(A is String){M('output',Sl(this,[A]));}else if(A is num){M('output',A);}else{M('output',double.NAN);}}}class Jj extends AB{static List<H> fw=[new H('input',type:'object'),new H('format',type:'string'),new H('output',type:'string',readOnly:true)];String get type=>'formatDate';void e(){Object A=L('input');String B=L('format');M('output',ak(this,[A,B]));}}class Yj extends AB{static List<H> qw=[new H('input',type:'number'),new H('format',type:'string'),new H('output',type:'string',readOnly:true)];String get type=>'formatNumber';void e(){Object A=L('input');String B=L('format');M('output',dk(this,[A,B]));}}class jj extends AB{static List<H> Ex=[new H('input',type:'string'),new H('output',type:'string',readOnly:true)];String get type=>'encodeBase64str';void e(){Object A=L('input');M('output',sl(A,[A]));}}class sj extends AB{static List<H> Sx=[new H('input',type:'string'),new H('output',type:'string',readOnly:true)];String get type=>'decodeBase64str';void e(){Object A=L('input');M('output',tl(A,[A]));}}class xj extends AB{static List<H> Zx=[new H('input',type:'string'),new H('output',type:'string',readOnly:true)];String get type=>'encodeUriComponent';void e(){Object A=L('input');M('output',ul(A,[A]));}}class Fk extends AB{static List<H> lx=[new H('input',type:'string'),new H('output',type:'string',readOnly:true)];String get type=>'decodeUriComponent';void e(){Object A=L('input');M('output',vl(A,[A]));}}class Ik extends AB{static List<H> vx=[new H('input',type:'string'),new H('output',type:'string',readOnly:true)];String get type=>'encodeCamelCase';void e(){Object A=L('input');M('output',wl(A,[A]));}}class Mk extends AB{static List<H> Ay=[new H('input',type:'string'),new H('output',type:'string',readOnly:true)];String get type=>'decodeCamelCase';void e(){Object A=L('input');M('output',xl(A,[A]));}}class Ok extends AB{static List<H> Hy=[new H('input',type:'string'),new H('output',type:'string',readOnly:true)];String get type=>'md5str';void e(){Object A=L('input');M('output',yl(A,[A]));}}class Qk extends AB{static List<H> Ky=[new H('input',type:'string'),new H('output',type:'string',readOnly:true)];String get type=>'sha1str';void e(){Object A=L('input');M('output',zl(A,[A]));}}class Sk extends AB{static List<H> Ry=[new H('input',type:'string'),new H('output',type:'string',readOnly:true)];String get type=>'sha256str';void e(){Object A=L('input');M('output',Am(A,[A]));}}class Di extends JG{static List<H> Nv=[] ..addAll(JG.wM)..addAll([new H('url',type:'string'),new H('callback',type:'string'),new H('output',type:'textarea',readOnly:true),new H('onComplete',type:'event',readOnly:true,showInBlock:false),new H('error',type:'string',readOnly:true,showInBlock:false)]);String get type=>'jsonpLoader';List<String> get dT=>const['autoRun','url','callback'];StreamSubscription<Object> SHB;bool aM(){return SHB!=null;}void HC(){if(SHB!=null){SHB.cancel();SHB=null;}super.HC();}bool zL(){Object A=L('url');Object B=L('callback');if(A is String&&B is String&&B!=''&&A!=''){SHB=EK.Y2(A,B).asStream().listen(onData,onError:onError);return true;}else{M('output',null);}return false;}void onData(Object A){if(A is String){M('output',A);}else{M('output',null);}M('onComplete',new TB('onComplete'));M('error',null);HC();}void onError(Object A,[Object B]){M('error','${A}');M('output',null);HC();}void DB(){super.DB();HC();}}class Wi extends JG{static List<H> Mv=[] ..addAll(JG.wM)..addAll([new H('path',type:'file'),new H('filter',type:'string'),new H('mode',type:'enum',nullValue:'all',meta:{'enums':const['all','file','directory'],'enumLabels':[O('All'),O('File'),O('Directory')]}),new H('output',type:'tabledata',readOnly:true),new H('onComplete',type:'event',readOnly:true,showInBlock:false),new H('error',type:'string',readOnly:true,showInBlock:false)]);String get type=>'listFiles';List<String> get dT=>const['autoRun','path','filter','mode'];bool aM(){return SHB!=null;}void HC(){if(SHB!=null){SHB.cancel();SHB=null;}super.HC();}GC SHB;bool zL(){String A=b(L('path'));String B=b(L('filter'));SHB=nF.I2(onData,A,filter:B,onError:onError);return true;}static List<V> Ax=[new V('row')..type='number',new V('name'),new V('path'),new V('isDirectory')..type='bool',new V('created')..type='number',new V('modified')..type='number'];void onData(List<yb> G){String C=CJ(L('mode'),const['all','file','directory'],'all');List D=[] ;for(yb A in G){if(A.isDirectory){if(C=='file'){continue;}}else if(C=='directory'){continue;}List B=new List(7);B[1]=A.name;B[2]=A.path;B[3]=A.isDirectory;B[4]=A.QY;B[5]=A.modified;D.add(B);}M('output',new U(D,Ax));M('onComplete',new TB('onComplete'));M('error',null);HC();}void onError(Object A,[Object B]){M('error','${A}');M('output',null);HC();}void DB(){super.DB();HC();}}class Si extends JG{static RegExp Cv=new RegExp(r'\.(gif|png|jpg|jpeg|bin|zip)$');static List<H> rv=[] ..addAll(JG.wM)..addAll([new H('method',type:'enum',meta:{'enums':const['GET','POST','HEAD','PUT','DELETE','TRACE','OPTIONS','CONNECT','PATCH'],'enumLabels':[O('GET'),O('POST'),O('HEAD'),O('PUT'),O('DELETE'),O('TRACE'),O('OPTIONS'),O('CONNECT'),O('PATCH')]},nullValue:'GET',showInBlock:false),new H('headers',type:'textarea',showInBlock:false),new H('sendCookies',type:'bool',showInBlock:false),new H('path',type:'file'),new H('data',type:'textarea',showInBlock:false),new H('respHeaders',type:'textarea',showInBlock:false,readOnly:true),new H('status',type:'string',readOnly:true),new H('output',type:'textarea',readOnly:true),new H('onComplete',type:'event',readOnly:true,showInBlock:false),new H('onError',type:'event',readOnly:true,showInBlock:false),new H('errorGroup',type:'string',showInBlock:false),new H('error',type:'string',readOnly:true,showInBlock:false)]);String get type=>'strLoader';List<String> get dT=>const['autoRun','path','headers','sendCookies','data','method'];RL SHB;bool aM(){return SHB!=null;}void HC(){if(SHB!=null){SHB.cancel();SHB=null;}super.HC();}bool RB(YB A){if(A.yFB=='timeout'){int B=(YH(L('timeout'),60.0)*1000).toInt();if(B!=qFB){qFB=B;if(rFB!=null){rFB=new Timer(new Duration(milliseconds:qFB),YU);}}return false;}else{return super.RB(A);}}void e(){super.e();}bool zL(){Object C=L('path');if(C is String){Map D;Object G=L('headers');if(G is String){D=Uri.splitQueryString(G);}String A=ZR.rw(C,this);if(Tk!=null){A=Tk(A);}if(A==null){M('output',null);return false;}Object B=L('data');List I;String J;if(B is List<int>){I=B;}else{J=b(B);}bool K=!A.contains(Cv);SHB=new RL(EK.Jm(A,K,method:b(L('method')),headers:D,sendCookies:UB(L('sendCookies')),query:J,bytes:I));SHB.then(onData,onError:onError);return true;}else{M('output',null);}return false;}void onData(BN B){Object C=B.data;if(C is String){M('output',C);}else{M('output',C);}if(B.headers!=null){Map D={};B.headers.forEach((String G,Object A){if(A is List&&A[0] is String){D[G]=A[0];}else if(A is String){D[G]=A;}});M('respHeaders',new Uri.http('','',D).toString().substring(6));}else{M('respHeaders',null);}M('status',B.statusCode);M('onComplete',new TB('onComplete'));M('error',null);HC();}void onError(Object A,[Object B]){if(A is String){if(A==''){A='error';}M('error',A);rI.lR(this,A);M('status',0);}else if(A is Fc){M('error',A.data);rI.lR(this,A.data);M('status',A.statusCode);}M('respHeaders',null);M('output',null);M('onError',new TB('onError'));HC();}}class oi extends uR with sI{String get type=>'logics';List<H> nC(){List<H> A=<H>[] ;cT(A);return A;}oi():super(false);}class Li extends AB{static List<H> Av=[new H('input',type:'number'),new H('modulo',type:'number'),new H('quotient',type:'number',readOnly:true),new H('remainder',type:'number',readOnly:true)];String get type=>'modulo';void e(){num C=W(L('input'));num D=W(L('modulo'));num A;num B;try {B=C.remainder(D);A=(C-B)/D;if(A+1>A){A=A.round();}}catch (G){A=double.NAN;B=double.NAN;}M('quotient',A);M('remainder',B);}}class Qj extends AB{static List<H> lw=[new H('input',type:'number'),new H('power',type:'number'),new H('output',type:'number',readOnly:true)];String get type=>'power';void e(){num A=W(L('input'));num B=W(L('power'));M('output',pow(A,B));}}class dj extends AB{static List<H> vw=[new H('input',type:'number'),new H('root',type:'number'),new H('output',type:'number',readOnly:true)];String get type=>'root';void e(){num A=W(L('input'));num B=1.0/W(L('root'));M('output',pow(A,B));}}class lj extends AB{static List<H> Hx=[new H('input',type:'number'),new H('base',type:'number',showInBlock:false,nullValue:10),new H('output',type:'number',readOnly:true)];String get type=>'log';void e(){num A=W(L('input'));num B=W(L('base'),10.0);M('output',log(A)/log(B));}}class vj extends AB{static List<H> Wx=[new H('input',type:'number'),new H('output',type:'number',readOnly:true)];String get type=>'factorial';void e(){double A=bB(L('input'),1).toDouble();double B=1.0;if(A<100000.0){while(A>1){B*= A;A-- ;}}else{B=double.INFINITY;}M('output',B);}}class hx extends fB{String get type=>'average';void e(){double B=0.0;double C=0.0;forEach((D){num A=W(D);if(A==A){B+= A;C++ ;}});M('output',B/C);}}class ox extends fB{String get type=>'median';void e(){List<num> A=new List<num>();forEach((B){num C=W(B);if(C==C){A.add(B);}});A.sort();if(A.length>0){M('output',A[A.length>>1]);}else{M('output',double.NAN);}}}class wx extends fB{String get type=>'mode';void e(){Map<String,int> C=new MB<String,int>();int B=0;String D;forEach((I){String A=b(I);if(A!=null&&A!=''){if(C.containsKey(A)){int G=( ++C[A]);if(G>B){D=A;B=G;}}else{C[A]=1;if(B==0){D=A;B=1;}}}});M('output',D);}}class Gy extends fB{String get type=>'variance';void e(){double C=0.0;double D=0.0;double B=0.0;forEach((I){double A=W(I).toDouble();if(A==A){C+= A;D+= A*A;B++ ;}});if(B>0){double G=C/B;M('output',D/B-G*G);}else{M('output',double.NAN);}}}class Ly extends fB{String get type=>'stdDeviation';void e(){double C=0.0;double D=0.0;double B=0.0;forEach((I){double A=W(I).toDouble();if(A==A){C+= A;D+= A*A;B++ ;}});if(B>0){double G=C/B;M('output',wH.sqrt(D/B-G*G));}else{M('output',double.NAN);}}}class Wk extends AB{static List<H> Yy=[new H('input',type:'number'),new H('output',type:'number',readOnly:true)];String get type=>'abs';void e(){num A=W(L('input'));if(A.isFinite){A=A.abs();}M('output',A);}}class Yk extends AB{static List<H> ey=[new H('input',type:'number'),new H('precision',type:'number',showInBlock:false),new H('minPrecision',type:'number',showInBlock:false),new H('output',type:'number',readOnly:true)];String get type=>'round';void e(){num D=W(L('input'));int B=nD(L('precision'),0);if(D.isFinite){if(B>0){num I=(D*pow(10,B)).round()/pow(10,B);String A=I.toStringAsFixed(B);int G=nD(L('minPrecision'),B);if(G<B){int J=A.length-(B-G);int C=A.length-1;for(;C>=J; --C){if(A.codeUnitAt(C)!=48){break;}}if(C<A.length-1){if(A.codeUnitAt(C)==46){A=A.substring(0,C);}else{A=A.substring(0,C+1);}}}M('output',A);}else{M('output',D.round());}}else{M('output',D);}}}class ek extends AB{static List<H> oy=[new H('input',type:'number'),new H('precision',type:'number',showInBlock:false),new H('output',type:'number',readOnly:true)];String get type=>'roundUp';void e(){num A=W(L('input'));int B=nD(L('precision'),0);if(A.isFinite){if(B>0){M('output',((A*pow(10,B)).ceil()/pow(10,B)).toStringAsFixed(B));}else{M('output',A.ceil());}}else{M('output',A);}}}class hk extends AB{static List<H> uy=[new H('input',type:'number'),new H('precision',type:'number',showInBlock:false),new H('output',type:'number',readOnly:true)];String get type=>'roundDown';void e(){num A=W(L('input'));int B=nD(L('precision'),0);if(A.isFinite){if(B>0){M('output',((A*pow(10,B)).floor()/pow(10,B)).toStringAsFixed(B));}else{M('output',A.floor());}}else{M('output',A);}}}class kk extends AB{static List<H> zy=[new H('input',type:'number'),new H('min',type:'number'),new H('max',type:'number'),new H('inputOutOfRange',type:'bool',readOnly:true),new H('output',type:'number',readOnly:true)];String get type=>'bound';void e(){num A=W(L('input'));num B=W(L('min'));num C=W(L('max'));if(A<B||A>C){M('inputOutOfRange',true);}else{M('inputOutOfRange',false);}if(A>C){A=C;}if(A<B){A=B;}M('output',A);}}class ok extends AB{static List<H> Gz=[new H('input',type:'number'),new H('inputMin',type:'number'),new H('inputMax',type:'number'),new H('outputMin',type:'number'),new H('outputMax',type:'number'),new H('inputOutOfRange',type:'bool',readOnly:true),new H('output',type:'number',readOnly:true)];String get type=>'scale';void e(){num G=W(L('input'));num D=W(L('inputMin'));num I=W(L('inputMax'));num B=W(L('outputMin'));num C=W(L('outputMax'));if(G<D||G>I){M('inputOutOfRange',true);}else{M('inputOutOfRange',false);}if(I==D){if(G<D){M('output',B);}else{M('output',C);}return;}num A=(G-D)*(C-B)/(I-D)+B;if(C<B){if(A<C){A=C;}else if(A>B){A=B;}}else{if(A>C){A=C;}else if(A<B){A=B;}}M('output',A);}}class YR extends AB with sI implements QD{static Object Tv(Object A,List B){return null;}static List<H> Ib=[new H('invoke',type:'trigger',serializable:false),new H('autoRun',type:'bool',showInBlock:false),new H('script',type:'script'),new H('output',type:'object',readOnly:true),new H('print',type:'string',readOnly:true),new H('_running',type:'bool',showInBlock:false,showInPI:false)];String get type=>'script';SD qC;bool zp=false;bool RB(YB A){if(A.name=='_running'){ps=UB(A.oFB);return false;}if(ps){return false;}if(A.name=='autoRun'){zp=UB(A.oFB);}if(A.name=='script'){try {qC=EP(b(A.oFB));}catch (B){qC=null;M('print','${B}');}}if(zp||(A.name=='invoke'&&TB.YE(A.oFB))){return super.RB(A);}return false;}bool ps=false;void e(){if(qC!=null){StringBuffer A=new StringBuffer();Object C(Object J,List D){for(Object G in D){A.write(G);}return null;}try {Map B=vO();B['print']=C;M('output',qC.XO(B,this));M('print',A.toString());}catch (I){M('output',null);M('print','${I}');}}}Object call(Object B,List C){if(qC!=null){try {Map A=vO();A[r'$']=B;A[r'$params']=C;A['print']=Tv;return qC.XO(A,this);}catch (D){}}return null;}List<H> nC(){List A=[] ..addAll(Ib);cT(A);return A;}H OM(String B){H A=super.OM(B);if(A!=null){return A;}for(H A in Ib){if(A.name==B){return A;}}return null;}void DB(){super.DB();qC=null;}}MB Ab;Map wu={};MB vO(){if(Ab==null){Map A=new MB();A['dgGetViewValue']=Uy;A['dgSetViewValue']=Zy;A['dateParse']=dy;A['dateFormat']=ak;A['dateNow']=my;A['dateTimeZoneOffset']=ny;A['numberFormat']=dk;A['tableGetRows']=py;A['tableGetColumns']=vy;A['tableSet']=Az;A['tableAddRows']=Lz;A['tableRemoveRows']=Mz;A['tableClear']=Nz;A['scriptRun']=qz;A['modelLoad']=Oz;A['modelSave']=Qz;A['modelToString']=Rz;A['modelFromString']=Sz;A['modelGetType']=Tz;A['modelGetBinding']=Uz;A['modelDestroy']=Xz;A['modelIsDestroyed']=Yz;A['modelIsComponent']=Wz;A['modelFindPath']=Zz;A['modelAddComponent']=az;A['modelAddObject']=bz;A['modelRemoveComponent']=cz;A['modelRemoveObject']=dz;A['modelGetRepeaterChildren']=ez;A['modelMoveForward']=fz;A['modelMoveBackward']=gz;A['modelMoveToFront']=hz;A['modelMoveToBack']=iz;A['modelAddArray']=jz;A['modelRemoveArray']=kz;A['modelFindParent']=lz;A['modelFindChild']=mz;A['modelFindChildren']=nz;A['modelIterateChildren']=oz;A['modelGetFields']=pz;A['printConsole']=rz;A['paramGetEnum']=sz;A['paramSetEnum']=vz;A['sha1Hmac']=wz;A['binaryUriEncode']=yx;A['fetchHttpUrl']=Cy;A.addAll(wu);Ab=A;}return new MB.PCB(Ab);}Object yx(Object G,List B){if(B.length!=2){return null;}var A=B[0];var C=B[1];if(A is ByteData){A=A.buffer.asUint8List();}if(A is!List){return null;}var D=TH.pO(A);return "data:${C};base64,${D}";}Object Cy(Object P,List B){if(B.length==0){return null;}String K=b(B[0]);Map A=B.length>=2?B[1]:{};if(A is!Map){return null;}bool N=A["binary"]==true?false:true;Map G={};String I="GET";if(A["headers"] is Map){G.addAll(A["headers"]);}if(A["method"] is String){I=A["method"];}List<int> C;if(A["data"] is List){C=A["data"];}else if(A["data"] is String){C=const Utf8Encoder().convert(A["data"]);}else if(A["data"] is ByteData){C=(A["data"] as ByteData).buffer.asUint8List();}bool J=false;if(A["cookies"]==true){J=true;}return EK.Jm(K,N,headers:G,method:I,bytes:C,sendCookies:J).then((BN D){return {"status":D.statusCode,"data":D.data,"headers":D.headers};});}Object Uy(Object G,List A){Object B=A[0];String D=A[1];if(B is Q){Object C=B.GO('view');if(C is Um){return C.CDB(D);}}return null;}Object Zy(Object I,List A){Object B=A[0];String D=A[1];Object G=A[2];if(B is Q){Object C=B.GO('view');if(C is Um){C.XDB(D,G);}}return null;}Object dy(Object B,List A){return (tE(A[0])).millisecondsSinceEpoch;}Object ak(Object G,List C){Object A=C[0];String D=C[1];DateTime B;if(A is DateTime){B=A;}else if(A is String){B=tE(A);}else if(A is num){if(C.length>2&&C[2]==true){B=new DateTime.fromMillisecondsSinceEpoch(A,isUtc:true);}else{B=new DateTime.fromMillisecondsSinceEpoch(A,isUtc:false);}}if(B!=null){return PS(B,D);}return '';}Object my(Object A,List B){return (new DateTime.now()).millisecondsSinceEpoch;}Object ny(Object J,List D){if(D.length>0){Object A=D[0];num B=double.NAN;if(A is num){B=A;}else if(A is String){List<String> C=A.split(':');if(C.length==2){int G=bB(C[0]);int I=bB(C[1]);if(A.startsWith('-')){B=G-I/60.0;}else{B=G+I/60.0;}}}if(B.isFinite){return (B*3600000).toInt();}return double.NAN;}else{return (new DateTime.now()).timeZoneOffset.inMilliseconds;}}Object dk(Object G,List C){Object A=C[0];String D=C[1];num B;if(A is String){B=W(A);}else if(A is num){B=A;}else{return '';}return QS(B,D);}Object py(Object R,List B){Object C=B[0];U A;if(C is CE&&C.yC!=null){A=C.yC;}else if(C is U){A=C;}if(A!=null){if(B.length>1&&B[1]==false){return A.m;}if(B.length>1&&B[1]=='object'){int K=A.g.length;List N=A.g.map((P){return P.name;}).toList();List D=[] ;for(var I in A.m){Map J={};for(int G=0;G<K; ++G){J[N[G]]=I[G];}D.add(J);}return D;}List D=[] ;for(var I in A.m){D.add(I.toList());}return D;}return null;}Object vy(Object I,List G){Object A=G[0];U C;if(A is CE&&A.yC!=null){C=A.yC;}else if(A is U){C=A;}if(C!=null){List D=[] ;for(var B in C.g){D.add({'name':B.name,'type':B.type,'width':B.width,'formula':B.cY,'meta':B.meta});}return D;}return null;}Object Az(Object N,List D){Object B=D[0];Object q=D[1];YR P;String S;if(B is!CE){if(N is HW&&N.h is SD){SD a=N.h;if(a.OQ is FP&&(a.OQ as FP).ND is NL){NL j=(a.OQ as FP).ND;if(j!=null&&j.arguments[0] is BK){BK G=j.arguments[0];if(G.TO is xI&&(G.TO as xI).name=="@"&&G.GR is yI){S=(G.GR as yI).IR;if(S!=null){Object BB=G.TO.run(N);if(BB is YR){P=BB;}}}}}}}if((B is CE||P!=null)&&q is List){List<V> C;List<String> I=[] ;List J=[] ;if(D.length>2&&D[2] is List){List HB=D[2];C=new List<V>();for(Object A in HB){if(A is String){C.add(new V(A));I.add(A);}else if(A is Map){var R=new V.LCB(A);C.add(R);I.add(R.name);}}}else if(B is CE&&B.yC!=null){C=B.yC.g;for(var R in C){I.add(R.name);}}else{throw 'column data missing';}int aB=I.length;for(Object A in q){if(A is List){List K=A.toList();K.length=aB;J.add(K);}else if(A is Map){List K=[] ;for(String lB in I){K.add(A[lB]);}J.add(K);}}if(P!=null){P.rB(S,new U(J,C));}else if(B is CE){if(D.length>3&&D[3]==true){B.o('data',new U(J,C,-1,B));}else{B.o('data',new U(J,C));}}}else{throw 'invalid table';}return null;}Object Lz(Object S,List J){Object A=J[0];Object K=J[1];if(A is CE&&K is List){List<V> G=A.yC.g;List<String> I=[] ;List C=A.yC.m.toList();for(var P in G){I.add(P.name);}int N=I.length;for(Object D in K){if(D is List){List B=D.toList();B.length=N;C.add(B);}else if(D is Map){List B=new List(N);for(String R in I){B.add(D[R]);}C.add(B);}}if(A.yC!=null&&A.yC.parent==A){A.o('data',new U(C,G,A.yC.FM,A));}else{A.o('data',new U(C,G,A.yC.FM));}}else{throw 'invalid table';}return null;}Object Mz(Object J,List B){Object A=B[0];if(A is CE&&A.yC!=null){int C=B[1];int G=1;if(B.length>2){G=B[2];}List<V> I=A.yC.g;if(C>-1&&C<A.yC.m.length){List D=A.yC.m.toList();D.removeRange(C,C+G);if(A.yC!=null&&A.yC.parent==A){A.o('data',new U(D,I,A.yC.FM,A));}else{A.o('data',new U(D,I,A.yC.FM));}}}return null;}Object Nz(Object D,List C){Object A=C[0];if(A is CE&&A.yC!=null){List<V> B=A.yC.g;if(A.yC!=null&&A.yC.parent==A){A.o('data',new U([] ,B,A.yC.FM,A));}else{A.o('data',new U([] ,B,A.yC.FM));}}return null;}Object Oz(Object D,List G){Q I;if(D is EB){EB C=D;while(D.parent!=null){C=C.parent;}if(C is HW&&C.uU is Q){I=C.uU;}}Object A=G[0];if(A is Map){if(G.length>1&&G[1]=='page'){bool N=A.containsKey('@ver');Q J=BP(A,enabled:false,checkVersion:N);zD.pR((){J.DB();});return J;}else{Map B=A;if(B['@ver'] is int){B=hV(A,B['@ver']);}if(B.containsKey('@type')){String P=B['@type'];List<String> R=['textEditor','enumEditor','boolEditor','numberSliderEditor','percentSliderEditor','colorEditor','fillEditor','gradientListEditor'];if(R.contains(P)){if(!A.containsKey('target')){B['target']=[''];}if(!A.containsKey('field')){B['field']='value';}}}Q K=pE(A,root:I);if(A.containsKey('@params')&&(B['@params'] is Map<String,Object>)){(K.wB('@params',true) as gC).nGB(pE(B['@params'],type:'params',root:I) as Q);}return K;}}return null;}Object Qz(Object C,List B){Object A=B[0];if(A is zI){return A.zB();}return null;}Object Rz(Object C,List B){Object A=B[0];if(A is Q){return tG.MS(tV(A,true));}else if(A is Map){return tG.MS(A);}return null;}Object Sz(Object C,List B){Object A=B[0];if(A is String){return tG.Jc(A);}return null;}Object Tz(Object C,List B){Object A=B[0];if(A is Q){return A.FD();}return null;}Object Uz(Object D,List A){Object B=A[0];Object C=A[1];if(B is Q&&C is String){return B.cQ(C);}return null;}Object Wz(Object C,List B){Object A=B[0];if(A is Q){return px(A.FD());}return false;}Object Xz(Object C,List B){Object A=B[0];if(A is Q){if(A.sFB==false){if(A.vD!=null&&A.vD.SGB==A){WB.SZ(A.DGB,A.yFB);}else{A.DB();}}}return null;}Object Yz(Object C,List B){Object A=B[0];if(A is Q){return A.sFB;}return null;}Object Zz(Object G,List A){Object B=A[0];Object C=A[1];if(B is Q&&C is Q){String D;if(A.length>2&&A[2] is String){D=A[2];}return Eb.Xx(B,C,D);}return null;}Object az(Object G,List A){if(A.length==3){Object B=A[0];Object C=A[1];Object D=A[2];if(B is uC&&C is Q&&D is String){return WB.L7(B,C,null,D,true);}}return null;}Object bz(Object G,List A){if(A.length==3){Object B=A[0];Object C=A[1];Object D=A[2];if(B is Q&&C is Q&&D is String){return WB.IY(B,C,null,D,true);}}return null;}Object cz(Object C,List B){Object A=B[0];if(A is Q){if(B.length>1&&B[1]==false){return WB.SZ(A.DGB,A.yFB,false);}else{return WB.SZ(A.DGB,A.yFB);}}return null;}Object dz(Object G,List A){Object B=A[0];if(B is Q){bool C=(A.length<=1)||A[1]==true;bool D=(A.length>2)&&A[2]==true;return WB.WZ(B.DGB,B.yFB,C,D);}return null;}Object ez(Object C,List B){Object A=B[0];if(A is tx){if(A.y7 is Lm){return (A.y7 as Lm).list.toList();}}return null;}Object fz(Object C,List A){if(A.length>0){Object B=A[0];if(B is List){WB.M_(B);}}return null;}Object gz(Object C,List A){if(A.length>0){Object B=A[0];if(B is List){WB.L_(B);}}return null;}Object hz(Object C,List A){if(A.length>0){Object B=A[0];if(B is List){WB.O_(B);}}return null;}Object iz(Object C,List A){if(A.length>0){Object B=A[0];if(B is List){WB.N_(B);}}return null;}Object jz(Object D,List A){if(A.length>1){Object B=A[0];Object C=A[1];if(B is uC){if(A.length>2&&A[2] is int){B.NC(A[2],C);return A[2];}else{return B.dI(C);}}}return null;}Object kz(Object D,List A){if(A.length==2){Object B=A[0];int C=bB(A[1],-1);if(B is uC&&C>-1){B.remove(C);}}return null;}Object lz(Object P,List B){Object A=B[0];if(A is Q){String D=B[1];Map C;if(B.length>2&&B[2] is Map){C=B[2];}if(D==null&&C==null){return null;}bool J=(B.length>3&&B[3]==true);bool I=(B.length>4&&B[4]==true);if(!J){if(I){A=(A as Q).L('@parent');}else{A=(A as Q).parent;}}while(A is Q){bool G=true;if(D!=null&&(A as Q).FD()!=D){G=false;}else if(C!=null){C.forEach((K,N){if(!QL((A as Q).L(K),N)){G=false;}});}if(G){return A;}else{if(I){A=(A as Q).L('@parent');}else{A=(A as Q).parent;}}}}return null;}Object mz(Object C,List A){Object B=A[0];if(B is Q){}return null;}Object nz(Object C,List A){Object B=A[0];if(B is Q){}return null;}Object oz(Object J,List A){Object B=A[0];Object C=A[1];if(B is Q&&C is rE){bool D=(A.length>2&&A[2]==true);bool G(Q I){return C(null,[I])==true;}WB.uf(B,G,runOnSelf:D);}return null;}Object pz(Object I,List G){Object A=G[0];if(A is Q){List B=[] ;A.eGB.forEach((C,Z D){if(A is sI&&A.l9(C)){B.add(C);}else if(D.SGB!=null||D.RGB!=null){B.add(C);}});return B;}return null;}Object qz(Object G,List A){if(A.length>1){Object C=A[0];Object B=A[1];if(B is YR){List D=A.sublist(2);return B.call(C,D);}}return null;}Object rz(Object D,List A){var B=A.map((C)=>C.toString()).join(" , ");Gm.R2(B);return null;}Object sz(Object J,List A){if(A.length>1){Object C=A[0];Object D=A[1];if(D is String&&C is Q){Q G=C.kY(false);if(G!=null){H I=G.OM(D);if(I!=null){Map B=I.meta;if(B!=null&&B['enums'] is List){return (B['enums'] as List).join(',');}}}}}return null;}Object vz(Object K,List A){if(A.length>2){Object G=A[0];Object B=A[1];Object I=A[2];if(B is String&&I is String&&G is Q){CP C=G.kY(false);if(C!=null){H J=C.OM(B);if(J!=null){Map D=J.meta;if(D!=null){D['enums']=I.split(',');C.tAB(B,D);}}}}}return null;}Object wz(Object G,List A){if(A.length>1){Object B=A[0];Object C=A[1];if(B is String&&C is String){var D=new xh(new oM(),UTF8.encode(B));D.add(UTF8.encode(C));return TH.pO(D.close());}}return null;}class Hi extends AB with sI{static Object Pv(Object A){if(A is num||A is bool||A is String||A==null){return A;}if(A is Map||A is List){return A;}if(A is U){U C=A;int I=C.g.length;List J=C.g.map((K){return K.name;}).toList();List D=[] ;for(var N in C.m){Map G={};for(int B=1;B<I; ++B){G[J[B]]=N[B];}D.add(G);}return D;}return null;}static List<H> Qb=[new H('outputObj',type:'object',readOnly:true)];String get type=>'makeObject';void e(){Object B=L('!var');if(B is List){Map C={};for(Object D in B){if(D is Map){Object A=D['n'];if(A is String){C[A]=Pv(L(A));}}}M('outputObj',C);return;}M('outputObj',null);}List<H> nC(){List A=[] ..addAll(Qb);cT(A);return A;}H OM(String B){H A=super.OM(B);if(A!=null){return A;}for(H A in Qb){if(A.name==B){return A;}}return null;}}class hi extends fB{static List<H> kv=[new H('tracing',type:'bool',nullValue:'auto',showInBlock:false),new H('msg',type:'string',showInBlock:false)];String get type=>'trace';int get SQ=>1;Z eF(String A){return new Z(this,A);}bool RB(YB A){if(JGB==null){return false;}Q B=JGB;while(true){Object C=B.L('@parent');if(C is Q&&C.JGB!=null&&C.JGB!=B){B=C.JGB;}else{break;}}Object D=L('tracing');if(UB(D,true)==false){return false;}var G=b(B.L('traceLabel'),'');if(D!=null||G!=''){if(A.DHB!=null&&A.DHB.vD!=null){String I=b(L('msg'),'');print('Trace: ${(new DateTime.now().toIso8601String())} : ${G} : ${A.DHB.vD.MM()} : ${I} : ${A.value}');}}return false;}}class Mi extends fB{String get type=>'concat';static List<H> iv=[new H('strict',type:'bool',help:O('when in strict mode, result is null when any input is null')),new H('output',type:'string',readOnly:true)];void e(){StringBuffer A=new StringBuffer();bool B=false;forEach((C){if(C==null){B=true;}A.write(b(C,''));});if(B&&UB(L('strict'))==true){M('output',null);}else{M('output',A.toString());}}}class Nj extends AB{static List<H> iw=[new H('input',type:'object'),new H('output',type:'string',readOnly:true)];String get type=>'length';void e(){Object A=L('input');if(A is pF){M('output',A.fF());}else if(A is String){M('output',A.length);}else if(A!=A||A==null){M('output',0);}else{M('output','${A}'.length);}}}class ej extends AB{static List<H> xw=[new H('input',type:'string'),new H('length',type:'number'),new H('output',type:'string',readOnly:true)];String get type=>'left';void e(){String A=b(L('input'));int B=nD(L('length'),0);if(A!=null){if(B>A.length){M('output',A);}else{M('output',A.substring(0,B));}}else{M('output',null);}}}class rj extends AB{static List<H> Px=[new H('input',type:'string'),new H('length',type:'number'),new H('output',type:'string',readOnly:true)];String get type=>'right';void e(){String A=b(L('input'));int B=nD(L('length'),0);if(A!=null){if(A.length>B){M('output',A.substring(A.length-B));}else{M('output',A);}}else{M('output',null);}}}class Ak extends AB{static List<H> dx=[new H('input',type:'string'),new H('start',type:'number'),new H('length',type:'number'),new H('end',type:'number'),new H('output',type:'string',readOnly:true)];String get type=>'substring';String YO(String B,int C,[int A=null]){if(A==null)A=B.length;if((C<0)||(C>B.length)){return null;}if((A<0)||(A>B.length)){return null;}if(C>A){return null;}return B.substring(C,A);}void e(){String C=b(L('input'));int B=bB(L('start'));int D=nD(L('length'));int A=bB(L('end'));if(C!=null){int G=C.length;if(B!=null&&B<0){B=G+B;}if(A!=null&&(A<0||(A==0&&((B!=null&&B>0)||(D!=null&&D>0))))){A=G+A;}if(B!=null){if(D!=null){M('output',YO(C,B,B+D));return;}if(A!=null){M('output',YO(C,B,A));return;}M('output',YO(C,B));return;}if(A!=null){if(D!=null){if(A<D){M('output',YO(C,0,A));}else{M('output',YO(C,A-D,A));}return;}M('output',YO(C,0,A));return;}if(D!=null){M('output',YO(C,0,D));return;}M('output',C);}else{M('output',null);}}}class zV extends fB{static List<H> Py=[new H('input',type:'textarea'),new H('regexp',type:'bool')];static List<H> Ty=[new H('output',type:'string',readOnly:true)];String get type=>'replace';static H Xy(int A){if((A&1)==1){return new H('${A}',label:'replace ${A>>1}',type:'object');}return new H('${A}',label:'find ${A>>1}',type:'object');}Object IE(int A){return '';}List<int> AF(int B){int A=(B|1)-1;NC(A,null);NC(A+1,null);return [A,A+1];}List<int> HF(int B){int A=(B|1)-1;remove(A);remove(A);return [A,A+1];}void e(){String B=b(L('input'),'');bool N=UB(L('regexp'));if(CGB<2||B==''){M('output',B);}else if(CGB==2){String C=b(s(0),'');String P=b(s(1),'');if(C==''){M('output',B);}else if(N){M('output',B.replaceAll(new RegExp(C),P));}else{M('output',B.replaceAll(C,P));}}else if(!N){for(int A=0;A<CGB-1;A+= 2){String C=b(s(A),'');if(C!=''){B=B.replaceAll(C,b(s(A+1),''));}}M('output',B);}else{List<RegExp> G=[] ;List<String> R=[] ;for(int A=0;A<CGB-1;A+= 2){String C=b(s(A),'');if(C!=''){G.add(new RegExp(C));R.add(b(s(A+1),''));}}List<Match> K=[] ;for(int A=0;A<G.length; ++A){K.addAll(G[A].allMatches(B));}K.sort(ry);StringBuffer J=new StringBuffer();int D=0;for(Match I in K){if(I.start>=D){if(I.start>D){J.write(B.substring(D,I.start));}for(int A=0;A<G.length; ++A){if(I.pattern==G[A]){J.write(R[A]);break;}}D=I.end;}}if(D<B.length){J.write(B.substring(D));}M('output',J.toString());}}static int ry(Match A,Match B){return A.start-B.start;}}class fk extends AB{static List<H> ty=[new H('input',type:'string'),new H('output',type:'string',readOnly:true)];String get type=>'trim';void e(){String A=b(L('input'));if(A!=null){M('output',A.trim());}else{M('output','');}}}class jk extends AB{static List<H> xy=[new H('label',type:'textarea'),new H('color',nullValue:'#ffffff',type:'color'),new H('borderColor',nullValue:'#ffffff',type:'color'),new H('align',type:'enum',nullValue:'left',meta:{'enums':const['left','center','right']})];String get type=>'label';void e(){}}class lk extends AB{static List<H> Bz=[new H('input',type:'textarea'),new H('separator',type:'string',nullValue:','),new H('output',type:'tabledata',readOnly:true)];static List Dz=[U.oF,new V('value')];String get type=>'split';void e(){String B=b(L('input'));if(B==null){M('output',null);return;}String A=b(L('separator'),',');if(A==''){A=',';}List D=B.split(A);List C=[] ;for(String G in D){C.add([null,G]);}M('output',new U(C,Dz));}}class Ki extends Q{static List<H> Bv=[new H('value',type:'textarea')];String get type=>'string';}class zi extends Q{static List<H> Aw=[new H('value',type:'number')];String get type=>'number';}class Fj extends Q{static List<H> Qw=[new H('value',type:'bool')];String get type=>'bool';}class Ij extends Q{static List<H> aw=[new H('value',type:'fill')];String get type=>'color';}class Ei extends AB{static List<H> Dv=[new H('enabled',type:'bool'),new H('interval',type:'number',nullValue:0),new H('step',type:'number',nullValue:0),new H('modulo',type:'number',nullValue:0,showInBlock:false),new H('loop',type:'bool',nullValue:true,showInBlock:false),new H('reset',type:'trigger',serializable:false,showInBlock:false),new H('resetValue',type:'number',nullValue:0,showInBlock:false),new H('output',type:'number',readOnly:true),new H('onLoop',type:'event',showInBlock:false)];String get type=>'stopwatch';Timer pFB;num THB=0;num UHB=1;num VHB=0;bool tFB=false;void set enabled(bool A){if(A==tFB)return;tFB=A;uFB=true;}num vFB=0;void set pf(num A){if(A==vFB)return;vFB=A;uFB=true;}bool WHB=true;void set E_(bool A){if(A==WHB)return;WHB=A;if(WHB&&pFB==null){uFB=true;}}bool uFB=false;bool Lh(){if(pFB!=null){pFB.cancel();}if(tFB&&vFB>0){pFB=new Timer.periodic(new Duration(milliseconds:(vFB*1000).toInt()),hJ);return true;}else{pFB=null;}return false;}void hJ(Timer A){if(UC().enabled){THB+= UHB;e();}}bool XHB=false;bool RB(YB A){if(A.yFB=='step'){UHB=W(A.oFB,1);return false;}else{if(A.yFB=='enabled'){enabled=UB(A.oFB);}else if(A.yFB=='interval'){pf=W(A.oFB,0);}else if(A.yFB=='modulo'){VHB=W(A.oFB);}else if(A.yFB=='loop'){E_=UB(A.oFB,true);}else if(A.yFB=='reset'&&A.oFB!=null){if(TB.YE(A.oFB)){XHB=true;}if(pFB==null){uFB=true;}}return super.RB(A);}}void e(){if(XHB){XHB=false;THB=W(L('resetValue'),0);M('output',THB);}if(uFB){uFB=false;if(!Lh()){return;}}if(VHB is num&&VHB>0&&VHB<=THB){if(!WHB&&pFB!=null){pFB.cancel();pFB=null;}else{THB%= VHB;}M('output',THB);M('onLoop',new TB('onLoop'));}else{M('output',THB);}}void DB(){super.DB();if(pFB!=null){pFB.cancel();pFB=null;}}}const double cR=PI/180;const double iV=180/PI;class li extends AB{static List<H> ov=[new H('input',type:'number'),new H('output',type:'number',readOnly:true)];String get type=>'sin';void e(){M('output',sin(cR*W(L('input'))));}}class Gj extends AB{static List<H> Vw=[new H('input',type:'number'),new H('output',type:'number',readOnly:true)];String get type=>'cos';void e(){M('output',cos(cR*W(L('input'))));}}class Oj extends AB{static List<H> jw=[new H('input',type:'number'),new H('output',type:'number',readOnly:true)];String get type=>'tan';void e(){M('output',tan(cR*W(L('input'))));}}class Zj extends AB{static List<H> sw=[new H('input',type:'number'),new H('output',type:'number',readOnly:true)];String get type=>'cot';void e(){M('output',1.0/tan(cR*W(L('input'))));}}class ij extends AB{static List<H> Bx=[new H('input',type:'number'),new H('output',type:'number',readOnly:true)];String get type=>'asin';void e(){M('output',iV*asin(W(L('input'))));}}class oj extends AB{static List<H> Lx=[new H('input',type:'number'),new H('output',type:'number',readOnly:true)];String get type=>'acos';void e(){M('output',iV*acos(W(L('input'))));}}class uj extends AB{static List<H> Vx=[new H('input',type:'number'),new H('x',type:'number'),new H('output',type:'number',readOnly:true)];String get type=>'atan';void e(){double A=sG(L('input'));double B=sG(L('x'),1.0);M('output',iV*atan2(A,B));}}class Bk extends AB{static List<H> ex=[new H('input',type:'number'),new H('output',type:'number',readOnly:true)];String get type=>'toDegree';void e(){M('output',iV*W(L('input')));}}class Gk extends AB{static List<H> mx=[new H('input',type:'number'),new H('output',type:'number',readOnly:true)];String get type=>'toRadian';void e(){M('output',cR*W(L('input')));}}Map<String,List<H>> sM=new MB<String,List<H>>();void jv(String A,List<H> B){if(sM.containsKey(A)||tR.containsKey(A)){print('Error dgRegisterProperties, ${A} already registered');return;}sM[A]=B;}typedef H Nb(int _0);class qV{final List<H> Af;final List<H> xe;final Nb gr;final int X7;final int K_;final int H_;qV(this.Af,this.xe,this.gr,this.X7,this.K_,this.H_);Map<int,List<H>> YHB=new MB<int,List<H>>();List<H> fY(int A){if(YHB.containsKey(A)){return YHB[A];}List<H> B=new List<H>();if(Af!=null){B.addAll(Af);}for(int C=0;C<A; ++C){B.add(gr(C));}if(xe!=null){B.addAll(xe);}if(A<32){YHB[A]=B;}return B;}}Map<String,qV> tR=new MB<String,qV>();void Dx(String A,List<H> B,List<H> C,Nb D,int G,int I,int J){if(sM.containsKey(A)||tR.containsKey(A)){print('Error dgRegisterProperties, ${A} already registered');return;}tR[A]=new qV(B,C,D,G,I,J);}H xV(Z A){if(A.IGB!=null){return A.IGB.OM(A.name);}return null;}void tu(){X('project',([bool A=false]){return new PD.FCB(null);},PD.Yx);X('invoke',([bool A=false]){return new KL();},[] );X('add',([bool A=false]){return new bj();},null,[new H('output',type:'number',readOnly:true)],fB.CI);X('subtract',([bool A=false]){return new kj();},null,[new H('output',type:'number',readOnly:true)],fB.CI);X('multiply',([bool A=false]){return new fj();},null,[new H('output',type:'number',readOnly:true)],fB.CI);X('divide',([bool A=false]){return new qj();},null,[new H('output',type:'number',readOnly:true)],fB.CI);X('max',([bool A=false]){return new wj();},null,[new H('output',type:'number',readOnly:true)],fB.CI);X('min',([bool A=false]){return new Ck();},null,[new H('output',type:'number',readOnly:true)],fB.CI);X('not',([bool A=false]){return new Vb();},Vb.ux);X('modulo',([bool A=false]){return new Li();},Li.Av);X('log',([bool A=false]){return new lj();},lj.Hx);X('power',([bool A=false]){return new Qj();},Qj.lw);X('root',([bool A=false]){return new dj();},dj.vw);X('factorial',([bool A=false]){return new vj();},vj.Wx);X('average',([bool A=false]){return new hx();},null,[new H('output',type:'number',readOnly:true)],fB.CI);X('median',([bool A=false]){return new ox();},null,[new H('output',type:'number',readOnly:true)],fB.CI);X('mode',([bool A=false]){return new wx();},null,[new H('output',type:'number',readOnly:true)],fB.CI);X('variance',([bool A=false]){return new Gy();},null,[new H('output',type:'number',readOnly:true)],fB.CI);X('stdDeviation',([bool A=false]){return new Ly();},null,[new H('output',type:'number',readOnly:true)],fB.CI);X('sin',([bool A=false]){return new li();},li.ov);X('cos',([bool A=false]){return new Gj();},Gj.Vw);X('tan',([bool A=false]){return new Oj();},Oj.jw);X('cot',([bool A=false]){return new Zj();},Zj.sw);X('asin',([bool A=false]){return new ij();},ij.Bx);X('acos',([bool A=false]){return new oj();},oj.Lx);X('atan',([bool A=false]){return new uj();},uj.Vx);X('toRadian',([bool A=false]){return new Gk();},Gk.mx);X('toDegree',([bool A=false]){return new Bk();},Bk.ex);X('abs',([bool A=false]){return new Wk();},Wk.Yy);X('round',([bool A=false]){return new Yk();},Yk.ey);X('roundUp',([bool A=false]){return new ek();},ek.oy);X('roundDown',([bool A=false]){return new hk();},hk.uy);X('scale',([bool A=false]){return new ok();},ok.Gz);X('bound',([bool A=false]){return new kk();},kk.zy);X('concat',([bool A=false]){return new Mi();},null,Mi.iv,fB.ew);X('length',([bool A=false]){return new Nj();},Nj.iw);X('left',([bool A=false]){return new ej();},ej.xw);X('right',([bool A=false]){return new rj();},rj.Px);X('substring',([bool A=false]){return new Ak();},Ak.dx);X('replace',([bool A=false]){return new zV();},zV.Py,zV.Ty,zV.Xy,2);X('trim',([bool A=false]){return new fk();},fk.ty);X('split',([bool A=false]){return new lk();},lk.Bz);X('label',([bool A=false]){return new jk();},jk.xy);X('parseNumber',([bool A=false]){return new Fi();},Fi.Ev);X('formatDate',([bool A=false]){return new Jj();},Jj.fw);X('formatNumber',([bool A=false]){return new Yj();},Yj.qw);X('encodeBase64str',([bool A=false]){return new jj();},jj.Ex);X('decodeBase64str',([bool A=false]){return new sj();},sj.Sx);X('encodeUriComponent',([bool A=false]){return new xj();},xj.Zx);X('decodeUriComponent',([bool A=false]){return new Fk();},Fk.lx);X('encodeCamelCase',([bool A=false]){return new Ik();},Ik.vx);X('decodeCamelCase',([bool A=false]){return new Mk();},Mk.Ay);X('md5str',([bool A=false]){return new Ok();},Ok.Hy);X('sha1str',([bool A=false]){return new Qk();},Qk.Ky);X('sha256str',([bool A=false]){return new Sk();},Sk.Ry);X('datetime',([bool A=false]){return new Dk();},Dk.fx);X('dateFormat',([bool A=false]){return new tj();},tj.Tx);X('parseDateTime',([bool A=false]){return new Oi();},Oi.Gv);X('dateMath',([bool A=false]){return new Nk();},Nk.Ey);X('dateRange',([bool A=false]){return new Zk();},Zk.fy);X('if',([bool A=false]){return new ta();},ta.Hv,ta.Lw,fB.rV);X('case',([bool A=false]){return new yV();},yV.Iy,yV.Oy,yV.Sy,2);X('hub',([bool A=false]){return new fb();},null,fb.Kz,fB.rV);X('eventGate',([bool A=false]){return new CW();},CW.Cz,CW.Ez,fB.rV);X('script',([bool A=false]){return new YR();},YR.Ib);X('trace',([bool A=false]){return new hi();},hi.kv,null,fB.rV);X('stopwatch',([bool A=false]){return new Ei();},Ei.Dv);X('delay',([bool A=false]){return new Jb();},Jb.Nw,null,Jb.cw,2);X('logics',([bool A=false]){return new oi();},null);X('dynamic',([bool A=false]){return new xa();},xa.vi);X('table',([bool A=false]){return new CE();},CE.Cw);X('tableSort',([bool A=false]){return new ei();},ei.xv);X('tableFilter',([bool A=false]){return new ci();},ci.bv);X('tableRollup',([bool A=false]){return new yM();},yM.ly);X('tableJoin',([bool A=false]){return new di();},di.Yv);X('tablePage',([bool A=false]){return new fi();},fi.Xv);X('tableSelectRows',([bool A=false]){return new ai();},ai.Jv);X('tableSelectColumns',([bool A=false]){return new Xi();},Xi.Lv);X('realtimeRecorder',([bool A=false]){return new YV();},YV.lv,YV.Tw,YV.bw,2);X('seriesRealtimeRecorder',([bool A=false]){return new iR();},iR.Bw,iR.Ow,iR.Ww,1);X('tableAggregation',([bool A=false]){return new Zi();},Zi.Rw);X('tableColumnMapping',([bool A=false]){return new dV();},dV.mv,dV.Gw,dV.Yw);X('tableGroupBy',([bool A=false]){return new cV();},cV.Dw,cV.Zw,cV.hw);X('tableGetColumns',([bool A=false]){return new Ui();},Ui.dw);X('tableRowCells',([bool A=false]){return new wa();},wa.Ov,null,wa.Hw,2);X('tableRemoveRows',([bool A=false]){return new Vi();},Vi.dv);X('tableAddRow',([bool A=false]){return new aV();},aV.gv,null,aV.Cj,2);X('tableEditRows',([bool A=false]){return new Yi();},Yi.hv,null,aV.Cj,2);X('tableTranspose',([bool A=false]){return new Ni();},Ni.ev);X('mapToTable',([bool A=false]){return new ZV();},ZV.ki);X('oneRowTable',([bool A=false]){return new ZV();},ZV.ki);X('makeObject',([bool A=false]){return new Hi();},Hi.Qb);X('jsonParser',([bool A=false]){return new ii();},ii.qv);X('csvParser',([bool A=false]){return new Ii();},Ii.Zv);X('csvWriter',([bool A=false]){return new Ji();},Ji.Wv);X('params',([bool A=false]){return new CP();},null);X('dfsymbol',([bool A=false]){return new ua();},ua.uv);X('dfcontent',([bool A=false]){return new bb(A);},bb.ky);X('repeater',([bool A=false]){return new kR();},kR.Ew);X('fill',([bool A=false]){return new AE('fill');},Sb.nx);X('border',([bool A=false]){return new AE('border');},Sb.Jy);X('gradient',([bool A=false]){return new UH();},null);X('path',([bool A=false]){return new My();},null);X('shadows',([bool A=false]){return new Fx();},null);X('filters',([bool A=false]){return new kb();},null);X('gradientMapping',([bool A=false]){return new Ri();},Ri.Fv);X('gradientStop',([bool A=false]){return new BE();},BE.vv);X('setState',([bool A=false]){return new Db();},Db.Hb,null,Db.Xw);X('changeState',([bool A=false]){return new bV();},bV.Mw,bV.tw,bV.kw);X('stateItem',([bool A=false]){return new jV();},jV.Gb);X('strUploader',([bool A=false]){return new Gi();},Gi.Iv);X('strLoader',([bool A=false]){return new Si();},Si.rv);X('listFiles',([bool A=false]){return new Wi();},Wi.Mv);X('jsonpLoader',([bool A=false]){return new Di();},Di.Nv);X('mouseEventData',([bool A=false]){return new yj();},yj.ax);X('keyboardEventData',([bool A=false]){return new Vk();},Vk.Wy);X('scrollEventData',([bool A=false]){return new mk();},mk.Fz);X('resizeEventData',([bool A=false]){return new pk();},pk.Iz);X('queryBinding',([bool A=false]){return new gi();},gi.Ej,IL.mj,IL.pj);X('valueBinding',([bool A=false]){return new IL();},IL.Kj,IL.mj,IL.pj);X('relativize',([bool A=false]){return new Fb();},Fb.Fw);X('relativizeNodePath',([bool A=false]){return new Yb();},Yb.Fy);X('loadValue',([bool A=false]){return new eR();},eR.tv);X('loadHistory',([bool A=false]){return new rM();},rM.zw);X('invokeAction',([bool A=false]){return new ya();},ya.ui);X('getDefaultParams',([bool A=false]){return new Pi();},Pi.si);X('dbQuery',([bool A=false]){return new bi();},bi.av);X('listActions',([bool A=false]){return new va();},va.Uv);X('getChildren',([bool A=false]){return new ra();},ra.Vv);X('getNode',([bool A=false]){return new Qi();},Qi.Rv);X('listNode',([bool A=false]){return new Ek();},Ek.ix);X('subscribeValue',([bool A=false]){return new sa();},sa.cv);X('loadHistories',([bool A=false]){return new eV();},eV.sv);X('string',([bool A=false]){return new Ki();},Ki.Bv);X('number',([bool A=false]){return new zi();},zi.Aw);X('bool',([bool A=false]){return new Fj();},Fj.Qw);X('color',([bool A=false]){return new Ij();},Ij.aw);X('svgLightElement',([bool A=false]){return new AE('svgLightElement');},Sb.cy);X('findReplaceColor',([bool A=false]){return new Xb();},Xb.By);X('calloutSymbol',([bool A=false]){return new Rj(A);},null);X('catchError',([bool A=false]){return new rI();},rI.Uw);}class H{H(String this.name,{String this.label,String this.type,bool this.readOnly: false,bool this.fixName: true,this.serializable: true,this.help,bool this.showInBlock: true,this.showInPI: true,Object this.nullValue,int this.order,bool this.noBinding: false,Map<String,dynamic> this.meta}){if(label==null){if(RF(name)>-1){label='Input ${name}';}else{label=name;}}}factory H.CCB(H A){var B;if(A.meta!=null){B={};for(var C in A.meta.keys){B[C]=A.meta[C];}}return new H(A.name,label:A.label,type:A.type,readOnly:A.readOnly,fixName:A.fixName,serializable:A.serializable,help:A.help,showInBlock:A.showInBlock,showInPI:A.showInPI,nullValue:A.nullValue,order:A.order,meta:B);}Map<String,Object> meta;String type;int order=99999999;String name;String label;Object nullValue;String help;bool serializable=true;bool fixName=true;bool readOnly=false;bool showInBlock=true;bool showInPI=true;bool noBinding=false;String bY(Object A){if(A==null){if(nullValue!=null){return nullValue.toString();}else{return '';}}if(type=='color'){return NP(A);}else if(type=='datetime'&&A is num&&A+1>A){return (new DateTime.fromMillisecondsSinceEpoch(A,isUtc:true)).toString();}else if(type=='event'&&A is TB){return A.XY;}if(A is TypedData&&type=="textarea"){A="[Data]";}String B=A.toString();if(B.length>144){return B.substring(0,144);}return B;}}class Pi extends tO with KG{static List<H> si=[new H('service',type:'service',showInBlock:false),new H('path',type:'datapath'),new H('action',type:'string')];String get type=>'getDefaultParams';gB u;String path;String lC;GC ZHB;StreamSubscription aHB;gB bHB;String cHB;String dHB;aD pB;void JO(){if(pB!=null&&u!=null&&path!=null&&lC!=null){gO(pB);return;}Object A=L('service');path=b(L('path'));lC=b(L('action'));if(A is gB){u=A;}else if(A is String||A==null){u=MG.rG(A);}if(pB!=null){gO(pB);return;}if(u==bHB&&path==cHB&&lC==dHB){return;}if(ZHB!=null){ZHB.cancel();}if(aHB!=null){aHB.cancel();aHB=null;}pB=null;if(lC!=null&&u!=null&&path!=null){bHB=u;cHB=path;dHB=lC;ZHB=u.gY(gO,path,lC,onError:onError);return;}else{ZHB=null;}}void gO(aD C){if(ZHB!=null){if(ZHB.meta!=null&&ZHB.meta['actionPath'] is String&&u is ZE){aHB=(u as ZE).sD.GB.list(ZHB.meta['actionPath']).listen(b_);}ZHB.cancel();ZHB=null;bHB=null;cHB=null;dHB=null;}pB=C;if(pB!=null){List B=[] ;List D=Zm(L('!ps'),[] );for(Object A in D){if(A=='service'||A=='path'||A=='action'){B.add(A);}}if(pB.params!=null){for(var G in pB.params){B.add(G.name);}}o('!ps',B.toList());}if(eHB!=null){if(pB!=null){eHB();}eHB=null;}}void b_(JD A){if(A.eD.contains(r'$params')){List C=A.h.CC(r'$params');for(Map B in C){rB(B['name'],B['default']);}}}void e(){JO();}bool RB(YB A){if(A.yFB=='service'||A.yFB=='path'||A.yFB=='action'){pB=null;if(ZHB!=null){ZHB.cancel();ZHB=null;}if(aHB!=null){aHB.cancel();aHB=null;}}return super.RB(A);}List<H> nC(){bool G=UB(L('getTable'));if(pB==null){JO();}List<H> B=[] ..addAll(si);if(pB!=null){if(pB.params!=null){for(QC C in pB.params){H D=new H(C.name,type:C.type,meta:C.meta);if(C.type=='enum'&&C.mK!=null){if(D.meta==null){D.meta={};}D.meta['enums']=C.mK;}B.add(D);}}if(pB.results!=null){for(QC I in pB.results){if(!G){B.add(new H(I.name,type:I.type,readOnly:true));}}}}else{Object J=this.L('!actProps');if(J is List){for(Object A in J){if(A is List&&A[0] is String&&A[1] is String){if(A.length==2&&!G){B.add(new H(A[0],type:A[1],readOnly:true));}else if(A.length==3){if(A[2] is Map){B.add(new H(A[0],type:A[1],meta:A[2]));}else{B.add(new H(A[0],type:A[1]));}}}}}}return B;}void onError(String A){if(ZHB!=null){ZHB.cancel();ZHB=null;}if(aHB!=null){aHB.cancel();aHB=null;}}Function eHB;void Ih(Function A){eHB=A;}void DB(){if(ZHB!=null){ZHB.cancel();ZHB=null;}if(aHB!=null){aHB.cancel();aHB=null;}super.DB();}}class bi extends JG with KG{static List<H> av=[] ..addAll(JG.wM)..addAll([new H('service',type:'service',showInBlock:false),new H('path',type:'datapath',showInBlock:false),new H('db',type:'string'),new H('query',type:'textarea'),new H('output',type:'tabledata',readOnly:true),new H('error',type:'string',readOnly:true,showInBlock:false),new H('onComplete',type:'event',readOnly:true,showInBlock:false)]);String get type=>'dbQuery';GC fHB;bool aM(){return fHB!=null;}void HC(){if(fHB!=null){fHB.cancel();fHB=null;}super.HC();}bool zL(){Object A=L('service');Object C=L('db');Object D=L('query');gB B;if(A is gB){B=A;}else if(A is String||A==null){B=MG.rG(A);}if(B!=null&&C is String&&D is String&&D!=''){String G=b(L('path'),'');if(G!=''&&C=='bql'){fHB=B.query(Zq,C,'${G}|${D}',onError:onError);}else{fHB=B.query(Zq,C,D,onError:onError);}return true;}else{M('output',null);M('error',null);}return false;}void Zq(U A){M('output',A);M('error',null);M('onComplete',new TB('onComplete'));HC();}void onError(String A){M('output',null);M('error',A);HC();}}class ra extends tO with KG{static List<H> Vv=[new H('service',type:'service',showInBlock:false),new H('path',type:'datapath'),new H('output',type:'tabledata',readOnly:true),new H('error',type:'string',readOnly:true)];String get type=>'getChildren';ra():super();gB u;String path;GC gHB;void e(){if(gHB!=null){gHB.cancel();gHB=null;}Object A=L('service');path=b(L('path'));if(A is gB){u=A;}else if(A is String||A==null){u=MG.rG(A);}if(u!=null&&path!=null){gHB=u.cf(wK,path,onError:onError);}else{M('output',null);M('error',null);}}static List<V> ow=[new V('row')..type='number',new V('name')..type='string',new V('path')..type='string',new V('hasChildren')..type='bool',new V('hasValue')..type='bool',new V('hasHistory')..type='bool',new V('type')..type='string',new V('icon')..type='String',new V('unit')..type='String',new V('enum')..type='String'];void wK(List<sE> D){List C=[] ;if(u is ZE){for(var A in D){String B=A.type;if(B!=null&&B.startsWith('enum[')){B='enum';}C.add([null,A.name,A.path,true,A.pY,A.hQ,B,A.AU,A.unit,A.mK]);}}else{for(var A in D){C.add([null,A.name,A.path,A.oY,A.pY,A.hQ,A.type,A.AU,A.unit,A.mK]);}}M('output',new U(C,ow));M('error',null);}void onError(String A){M('output',null);M('error',A);}}class Qi extends AB with KG{static List<H> Rv=[new H('service',type:'service',showInBlock:false),new H('path',type:'datapath'),new H('name',type:'string',readOnly:true),new H('hasChildren',type:'bool',readOnly:true),new H('hasValue',type:'bool',readOnly:true),new H('hasHistory',type:'bool',readOnly:true),new H('type',type:'string',readOnly:true),new H('icon',type:'string',readOnly:true),new H('unit',type:'string',readOnly:true),new H('enum',type:'string',readOnly:true),new H('actions',type:'tabledata',readOnly:true),new H('error',type:'string',readOnly:true)];String get type=>'getNode';gB u;String path;GC gHB;void e(){if(gHB!=null){gHB.cancel();gHB=null;}Object A=L('service');path=b(L('path'));if(A is gB){u=A;}else if(A is String||A==null){u=MG.rG(A);}if(u!=null&&path!=null){gHB=u.UE(wK,path,onError:onError);}else{M('output',null);M('error',null);}}static List<V> Cx=[new V('row')..type='number',new V('name')..type='string',new V('params')..type='tabledata'];static List<V> Kx=[new V('row')..type='number',new V('name')..type='string',new V('type')..type='string',new V('unit')..type='string',new V('enum')..type='string',new V('isResult')..type='bool'];void wK(sE B){List I=[] ;if(B.iK!=null){for(aD C in B.iK){List G=[] ;if(C.params!=null){for(QC A in C.params){List D=[null,A.name,A.type,A.unit,null,false];if(A.IM!=null){D[4]=A.IM;}G.add(D);}}if(C.results!=null){for(QC A in C.results){List D=[null,A.name,A.type,A.unit,null,true];if(A.IM!=null){D[4]=A.IM;}G.add(D);}}I.add([null,C.name,new U(G,Kx)]);}}M('name',B.name);M('hasChildren',B.oY);M('hasValue',B.pY);M('hasHistory',B.hQ);M('type',B.type);M('icon',B.AU);M('unit',B.unit);M('enum',B.mK);M('actions',new U(I,Cx));M('error',null);}void onError(String A){M('name',null);M('hasChildren',null);M('hasValue',null);M('hasHistory',null);M('type',null);M('icon',null);M('unit',null);M('enum',null);M('actions',null);M('error',A);}void DB(){super.DB();if(gHB!=null){gHB.cancel();gHB=null;}}}class ya extends JG with KG{static List<H> ui=[] ..addAll(JG.wM)..addAll([new H('refresh',type:'trigger',serializable:false,showInBlock:false),new H('service',type:'service',showInBlock:false),new H('path',type:'datapath'),new H('action',type:'string'),new H('getTable',type:'bool',showInBlock:false),new H('bufferSize',type:'number',nullValue:0,help:O("action works in stream mode when bufferSize > 0"),showInBlock:false),new H('onComplete',type:'event',readOnly:true,showInBlock:false),new H('onError',type:'event',readOnly:true,showInBlock:false),new H('errorGroup',type:'string',showInBlock:false),new H('error',type:'string',readOnly:true,showInBlock:false)]);static H mw=new H('output',type:'tabledata',readOnly:true);String get type=>'invokeAction';gB u;String path;String lC;GC ZHB;gB bHB;String cHB;String dHB;bool JO([bool B=false]){if(sFB){return false;}if(pB!=null&&u!=null&&path!=null&&lC!=null){if(B){hHB=true;}gO(pB,false);return false;}Object A=L('service');path=b(L('path'));lC=b(L('action'));if(A is gB){u=A;}else if(A is String||A==null){u=MG.rG(A);}bool C=true;if(pB==null&&ZHB==null&&jH==null){Object D=L('!actProps');if(D is List){jH=D;pB=new aD.JCB(lC,jH);C=false;}}if(pB!=null){if(B){hHB=true;}gO(pB,C);return false;}if(u==bHB&&path==cHB&&lC==dHB){return true;}if(ZHB!=null){ZHB.cancel();}pB=null;if(lC!=null&&u!=null&&path!=null){bHB=u;cHB=path;dHB=lC;ZHB=u.gY(gO,path,lC,onError:onError);return true;}else{ZHB=null;}return false;}List Bf;void gO(aD A,[bool J=true]){if(ZHB!=null){ZHB.cancel();ZHB=null;bHB=null;cHB=null;dHB=null;}pB=A;if(J&&A!=null){List B=Zm(L('!ps'),[] );bool C=false;if(jH!=null){for(int D=jH.length-1;D>=0&&B.length>0; --D){if(jH[D][0]==B.last){B.removeLast();C=true;}}}jH=pB.dAB();o('!actProps',jH);if(jH!=null){for(List G in jH){if(G.length==3){B.add(G[0]);C=true;}}}if(C){o('!ps',B.toList());}}if(A!=null&&A.results!=null){Bf=A.results.map((I)=>new V.LCB({'name':I.name,'type':I.type})).toList();}else{Bf=null;}if(eHB!=null){if(pB!=null){eHB();}eHB=null;}if(A==null){iHB='action not found';rI.lR(this,iHB);M('error','action not found');M('onError',new TB('onError'));}else{BG(A);}}bool aM(){return (ZHB!=null&&pB==null)||jHB!=null;}bool kHB=false;bool lHB=false;void HC(){if(jHB!=null){jHB.cancel();jHB=null;}kHB=false;lHB=false;super.HC();}void YU(){if(!lHB){super.YU();}}bool zL(){hHB=JO(true);return hHB||jHB!=null;}GC jHB;bool hHB=false;void BG(aD A){if(jHB!=null){jHB.cancel();jHB=null;}if(u!=null&&path!=null&&A!=null){if(!hHB){return;}hHB=false;Map C=new MB();if(A.params!=null){for(QC B in A.params){Object D=B.o8(L(B.name));if(D!=null){C[B.name]=D;}}}kHB=UB(L('getTable'));int G=bB(L('bufferSize'),0);lHB=kHB&&G>0;jHB=u.BG(i9,lC,path,C,table:kHB,streamCache:G,defaultColumns:Bf,onError:onError);return;}pB=null;hHB=false;if(ZHB!=null){ZHB.cancel();ZHB=null;}HC();iHB='invalid parameter';rI.lR(this,iHB);M('error',iHB);M('onError',new TB('onError'));}List jH;aD pB;void i9(Map A){if(iHB!=null){iHB=null;M('error',null);}if(kHB){M('output',A['output']);}else{if(A!=null&&pB!=null&&pB.results!=null){for(QC B in pB.results){M(B.name,B.U$(A[B.name]));}}}if(!lHB){HC();M('onComplete',new TB('onComplete'));}}bool RB(YB A){if(A.yFB=='service'||A.yFB=='path'||A.yFB=='action'){if(A.RGB!=null&&jH==null){jH=L('!actProps');}if(iHB!=null){iHB=null;M('error',null);}pB=null;if(ZHB!=null){ZHB.cancel();ZHB=null;}if(!mHB){mHB=true;zD.pR(n7);}}else if(A.yFB=='refresh'&&TB.YE(A.value)){if(iHB!=null){iHB=null;M('error',null);}pB=null;JO();}return super.RB(A);}bool mHB=false;void n7(){if(!mHB){return;}mHB=false;if(pB==null&&ZHB==null){JO();}}List<H> nC(){bool G=UB(L('getTable'));if(pB==null){JO();}List<H> B=[] ..addAll(ui);if(pB!=null){if(pB.params!=null){for(QC C in pB.params){H D=new H(C.name,type:C.type,meta:C.meta);if(C.type=='enum'&&C.mK!=null){if(D.meta==null){D.meta={};}D.meta['enums']=C.mK;}B.add(D);}}if(pB.results!=null){for(QC I in pB.results){if(!G){B.add(new H(I.name,type:I.type,readOnly:true));}}}}else{Object J=this.L('!actProps');if(J is List){for(Object A in J){if(A is List&&A[0] is String&&A[1] is String){if(A.length==2&&!G){B.add(new H(A[0],type:A[1],readOnly:true));}else if(A.length==3){if(A[2] is Map){B.add(new H(A[0],type:A[1],meta:A[2]));}else{B.add(new H(A[0],type:A[1]));}}}}}}if(G){B.add(mw);}Object K=L('hint');if(K!=null){B.add(new H('hint',type:'object'));}return B;}String iHB;void onError(String A){HC();if(A==null){if(lHB){HC();M('onComplete',new TB('onComplete'));}}else{iHB=A;rI.lR(this,A);M('error',A);M('onError',new TB('onError'));}}Function eHB;void Ih(Function A){eHB=A;}void DB(){if(ZHB!=null){ZHB.cancel();ZHB=null;}super.DB();}}class va extends tO with KG{static List<H> Uv=[new H('service',type:'service',showInBlock:false),new H('path',type:'datapath'),new H('output',type:'tabledata',readOnly:true),new H('error',type:'string',readOnly:true)];String get type=>'listActions';va():super();gB u;String path;GC gHB;void e(){if(gHB!=null){gHB.cancel();gHB=null;}Object A=L('service');path=b(L('path'));if(A is gB){u=A;}else if(A is String||A==null){u=MG.rG(A);}if(u!=null&&path!=null){gHB=u.UE(wK,path,onError:onError);}else{M('output',null);M('error',null);}}static List<V> nw=[U.oF,new V('name')..type='string',new V('params')..type='tabledata',new V('displayName')..type='string'];static List<V> ww=[U.oF,new V('name')..type='string',new V('type')..type='string',new V('unit')..type='string',new V('enum')..type='string',new V('isResult')..type='bool'];void wK(sE G){List I=[] ;if(G.iK!=null){for(aD B in G.iK){List D=[] ;if(B.params!=null){for(QC A in B.params){List C=[null,A.name,A.type,A.unit,null,false];if(A.IM!=null){C[4]=A.IM;}D.add(C);}}if(B.results!=null){for(QC A in B.results){List C=[null,A.name,A.type,A.unit,null,true];if(A.IM!=null){C[4]=A.IM;}D.add(C);}}I.add([null,B.name,new U(D,ww),B.label]);}}M('output',new U(I,nw));M('error',null);}void onError(String A){M('output',null);M('error',A);}}class qM{String name;BC EY;StreamSubscription gD;Function wK;List Df;qM(this.name,this.EY,Stream<JD> A,this.wK){gD=A.listen(callback);}void callback(JD A){var C=yw(A.h);String B=name;if(A.h.f[r'$name'] is String){B=A.h.f[r'$name'];}Df=[null,name,EY.YC,C,B,A.h.CC(r'$result')];if(wK!=null){wK(this);}}void cancel(){if(gD!=null){gD.cancel();gD=null;}}bool m9(){return Df!=null;}static List<V> Sj=[new V('row')..type='number',new V('name')..type='string',new V('type')..type='string',new V('default')..type='string',new V('placeholder')..type='string',new V('description')..type='string',new V('isResult')..type='bool',new V('editor')..type='string'];static U yw(BC J){List D=[] ;Object B=J.CC(r'$params');List C;if(B is List){C=B;}else if(B is Map){C=[] ;List N=B.keys.toList()..sort();for(String G in N){B[G]['name']=G;C.add(B[G]);}}if(C!=null){for(Map A in C){String I=A['type'];if(I=='enum'&&A['editor'] is String&&(A['editor'] as String).startsWith('enum[')){I=A['editor'];}D.add([null,A['name'],I,A['default'],A['placeholder'],A['description'],false,A['editor']]);}}Object K=J.CC(r'$columns');if(K is List){for(Map A in K){D.add([null,A['name'],A['type'],A['default'],A['placeholder'],A['description'],true,A['editor']]);}}return new U(D,Sj);}}class Ek extends AB with KG{static List<H> ix=[new H('service',type:'service',showInBlock:false),new H('path',type:'datapath'),new H('mode',type:'enum',nullValue:'all',meta:{'enums':['all','points','actions','nodes']}),new H('resolveActions',type:'bool'),new H('name',type:'string',readOnly:true),new H('profile',type:'string',readOnly:true),new H('children',type:'tabledata',readOnly:true),new H('metadata',type:'tabledata',readOnly:true),new H('actions',type:'tabledata',readOnly:true),new H('error',type:'string',readOnly:true)];String get type=>'listNode';gB u;String path;TS nHB;StreamSubscription oHB;void e(){Object A=L('service');String D=b(L('path'));if(A is!gB){A=MG.rG(A);}if(A!=u||D!=path){if(oHB!=null){oHB.cancel();oHB=null;}pHB=null;nHB=null;if(A is gB){u=A;}path=D;if(u!=null&&path!=null){ZE B;String C;if(u is ZE){B=u;C=path;}else if(u is NE&&(u as NE).u is ZE){B=(u as NE).u;C=(u as NE).hG(path);}else{M('output',null);M('error','Not Supported');return;}nHB=B.sD;oHB=B.sD.GB.list(C).listen(onData);}else{M('output',null);M('error',null);}}else if(pHB!=null&&nHB!=null){Hh(pHB);}}static List<V> Vy=[new V('row')..type='number',new V('name')..type='string',new V('path')..type='string',new V('base')..type='string',new V('profile')..type='string',new V('type')..type='string',new V('invokable')..type='string',new V('writable')..type='string'];static List<V> by=[new V('row')..type='number',new V('name')..type='string',new V('value')..type='object'];static List<V> gy=[U.oF,new V('name')..type='string',new V('path')..type='string',new V('params')..type='tabledata',new V('displayName')..type='string',new V('resultType')..type='string'];void onData(JD A){if(A.eD.length==1){Hh(A.h);}else{Hh(A.h);}}BC pHB;Map<String,qM> FH=new Map<String,qM>();void Hh(BC A,[bool q=true,bool BB=true,bool HB=true]){pHB=A;String G;if(A.f[r'$name'] is String){G=A.f[r'$name'];}else{G=RC.km(A.YC);}M('name',G);M('profile',A.f[r'$is']);if(q){String I=b(L('mode'));List aB=A.p.keys.toList()..sort();List P=[] ;for(String C in aB){BC B=A.p[C];if(I=='points'&&B.f[r'$type']==null)continue;if(I=='actions'&&B.f[r'$invokable']==null)continue;if(I=='nodes'&&(B.f[r'$invokable']!=null||B.f[r'$type']!=null))continue;String J;if(B.f[r'$name'] is String){J=B.f[r'$name'];}else{J=RC.km(B.YC);}P.add([null,J,B.YC,B.f[r'$base'],B.f[r'$is'],B.f[r'$type'],B.f[r'$invokable'],B.f[r'$writable']]);}M('children',new U(P,Vy));}if(BB){Map D={};if(A.pC!=null){D.addAll(A.pC.f);D.addAll(A.pC.kB);}D.addAll(A.f);D.addAll(A.kB);List lB=D.keys.toList()..sort();List R=[] ;for(String C in lB){R.add([null,C,D[C]]);}M('metadata',new U(R,by));}if(HB){bool xB=UB(L('resolveActions'));if(xB){List S=[] ;A.mq((String C,BC A){if(A.CC(r'$invokable') is String){String K=A.YC;S.add(K);if(!FH.containsKey(K)){qM N=new qM(C,A,nHB.GB.list(A.YC),V_);FH[K]=N;}}});bool a=false;for(String j in FH.keys.toList()){if(!S.contains(j)){FH.remove(j).cancel();a=true;}}if(a||FH.isEmpty){fs();}}else{if(!FH.isEmpty){FH.forEach((EC,N){N.cancel();});FH.clear();}M('actions',null);}}}void V_(qM A){if(!qHB){qHB=true;zD.pR(fs);}}bool qHB=false;void fs(){qHB=false;List A=[] ;if(pHB.CC(r'$writable') is String){List C=[[null,'value',pHB.CC(r'$type'),null,null,null,false,null]];U D=new U(C,qM.Sj);A.add([null,'@set',null,D,'@set',null]);}List G=FH.keys.toList()..sort();for(String I in G){var B=FH[I];if(B.m9()){A.add(B.Df);}}M('actions',new U(A,gy));}void onError(String A){M('name',null);M('profile',null);M('children',null);M('metadata',null);M('actions',null);}void DB(){super.DB();if(oHB!=null){oHB.cancel();oHB=null;}if(!FH.isEmpty){FH.forEach((B,A){A.cancel();});FH.clear();}}}class rM extends JG with KG{static const List ti=const['default','none','1Y','3N','1N','1W','1D','12H','6H','4H','3H','2H','1H','30M','15M','10M','5M','1M','30S','15S','10S','5S','1S'];static List Hj=[O('Default'),O('None'),O('One year'),O('Three months'),O('One month'),O('One week'),O('One day'),O('Twelve hours'),O('Six hours'),O('Four hours'),O('Three hours'),O('Two hours'),O('One hour'),O('Thirty minutes'),O('Fifteen minutes'),O('Ten minutes'),O('Five minutes'),O('One minute'),O('Thirty seconds'),O('Fifteen seconds'),O('Ten seconds'),O('Five seconds'),O('One second')];static const List Xj=const['avg','min','max','sum','first','last','and','or','count','auto'];static List cj=[O('Avg'),O('Min'),O('Max'),O('Sum'),O('First'),O('Last'),O('And'),O('Or'),O('Count'),O('Auto')];static List<H> zw=[] ..addAll(JG.wM)..addAll([new H('service',type:'service',showInBlock:false),new H('path',type:'datapath'),new H('timeRange',type:'daterange',nullValue:'today'),new H('dataInterval',type:'editableEnum',nullValue:'default',meta:{'enums':ti,'enumLabels':Hj}),new H('rollup',type:'enum',nullValue:'avg',meta:{'enums':Xj,'enumLabels':cj}),new H('header',type:'enum',nullValue:'default',meta:{'enums':const['default','name','parent','parent_name'],'enumLabels':[O('Default'),O('Name'),O('Parent'),O('Parent name')]}),new H('delta',type:'enum',nullValue:'none',meta:{'enums':const['none','withPrevious','withNext'],'enumLabels':[O('None'),O('With previous'),O('With next')]},showInBlock:false),new H('output',type:'tabledata',readOnly:true),new H('error',type:'string',readOnly:true)]);String get type=>'loadHistory';rM(){}GC fHB;bool aM(){return fHB!=null;}void HC(){if(fHB!=null){fHB.cancel();fHB=null;}super.HC();}String rHB;String sHB;bool zL(){Object B=L('service');Object D=L('path');gB C;if(B is gB){C=B;}else if(B is String||B==null){C=MG.rG(B);}if(C!=null&&D is String){String A=b(L('timeRange'),'today');PB G=PB.EE(A);if(A.length==59&&A.codeUnitAt(29)==47){}else if(G!=null){if(1==2){}else{A=G.toIso8601String('');}}else{A=null;}String J=b(L('dataInterval'),'default');String K=b(L('rollup'),'avg');fHB=C.iY(d9,D,A,J,K,onError:e9);String I=MP(L('header'),'default');if(I=='default'){rHB=null;}else{rHB=tHB(D,I);}sHB=b(L('delta'),'none');return true;}return false;}String tHB(String C,String B){List A=C.split('/');if(B=='name'){return A.removeLast();}if(B=='parent'){if(A.length>2){return '${A[A.length-2]}';}}if(B=='parent_name'){if(A.length>2){return '${A[A.length-2]}_${A[A.length-1]}';}}return null;}void d9(U A){if(rHB!=null){List<V> C=[] ..addAll(A.g);C[2].name=rHB;List B=fT(A.m,sHB);A=new U(B,C);}else{List B=fT(A.m,sHB);if(B!=A.m){A=new U(B,A.g);}}M('output',A);M('error',null);HC();}List fT(List G,String J){int K=G.length;List B;if(J=='withPrevious'){num N=double.NAN;for(int C=0;C<K; ++C){List A=G[C];Object D=A[2];if(D is num){A=[] ..addAll(A);A[2]=D-N;N=D;if(B==null){B=[] ;}else{B.add(A);}}}}else if(J=='withNext'){List I;for(int C=0;C<K; ++C){List A=G[C];Object D=A[2];if(D is num){if(B==null){B=[] ;}else{I[2]=D-I[2];B.add(I);}I=[] ..addAll(A);}}}else{return G;}return B;}void e9(String A){if(A!=null){M('output',null);}M('error',A);HC();}}class eR extends tO with KG implements qG{static List<H> tv=[new H('service',type:'service',showInBlock:false),new H('path',type:'datapath'),new H('enabled',type:'bool',nullValue:true,showInBlock:false),new H('qos',type:'enum',nullValue:'0',meta:{'enums':const['0','1','2','3']},showInBlock:false),new H('format',type:'string',showInBlock:false),new H('value',type:'object',readOnly:true),new H('unit',type:'string',readOnly:true,showInBlock:false),new H('formatted',type:'string',readOnly:true),new H('status',type:'string',readOnly:true,showInBlock:false),new H('error',type:'string',readOnly:true,showInBlock:false),new H('lastUpdate',type:'time',readOnly:true,showInBlock:false)];String get type=>'loadValue';eR():super();gB fD;String tD;String iI;int Yr=0;StreamSubscription RO;StreamSubscription sK;void e(){String J=b(L('format'));bool N=false;if(J!=iI){iI=J;N=true;}Object I=L('service');Object G=b(L('path'));int B=bB(L('qos'),0);if(B<0||B>3){B=0;}if(UB(L('enabled'),true)!=true){G=null;}gB A;if(I is gB){A=I;}else if(I is String||I==null){A=MG.rG(I);}ZE C;String D;bool K=false;if(B>0){if(A is ZE){C=A;D=G;}else if(A is NE&&A.u is ZE){C=A.u;D=A.hG(G);}else{B=0;}}else if(J!=null&&J.contains(iy)){K=true;if(A is ZE){C=A;D=G;}else if(A is NE&&A.u is ZE){C=A.u;D=A.hG(G);}}if(fD==A&&G==tD&&Yr==B){if(N){if(sK==null&&K&&C!=null&&D!=null){sK=C.sD.GB.list(D).listen(cr);}M('formatted',bY(uHB));}return;}if(fD!=null&&tD!=null){fD.nJ(this,tD);}if(RO!=null){RO.cancel();RO=null;}if(sK!=null){sK.cancel();sK=null;}vHB=null;if(fJ!=null){fJ.cancel();fJ=null;eU=false;}fD=A;tD=G;Yr=B;if(B>0){RO=C.sD.GB.nI(D,r$,B);}else{if(K&&C!=null&&D!=null){sK=C.sD.GB.list(D).listen(cr);}if(fD!=null&&tD!=null){fD.xL(this,tD);}}}Map uHB;void yU(Map A){uHB=A;Object B=A['value'];if(B is Map&&B['@type']=='tabledata'&&B['@id'] is int&&B.keys.length==2&&fD is ZE){er();}else{M('value',A['value']);M('unit',A['unit']);M('status',A['status']);M('error',A['error']);M('lastUpdate',A['lastUpdate']);M('formatted',bY(A));}}StreamSubscription fJ;bool eU=false;void er(){if(fJ!=null){eU=true;return;}fJ=(fD as ZE).sD.GB.BG('${tD}/_@readTable',{}).listen(l_);}void l_(EJ A){fJ.cancel();fJ=null;U B=new U(A.JF,V.Qm(A.QZ));M('value',B);M('unit',null);M('status',null);M('error',null);M('lastUpdate',null);M('formatted',null);if(eU){eU=false;er();}}static RegExp hy=new RegExp(r'\[([^\]]*)\]');static RegExp iy=new RegExp(r'\[[^0-9#\[\]][^\[\]]*\]');static Object xR(Object A,List C){String G=C[0];Object B;if(A is Map){B=A[G];}else if(A is List){int D=RF(G);if(D>=0&&D<A.length){B=A[D];}}if(B==null||C.length==1){return B;}return xR(B,C.sublist(1));}Object bY(Map B){if(B==null){B=const{};}Object D=B['value'];num C=W(D);if(iI!=null&&iI!=''&&iI!='[auto]'){if(iI.startsWith('[value.')&&iI.indexOf(']')==iI.length-1){return xR(B['value'],iI.substring(1,iI.length-1).split('.').sublist(1));}String J(Match K){String A=K.group(1);if(A=='['||A==''){return A;}if(A.startsWith('value.')){return b(xR(B['value'],A.split('.').sublist(1)));}if(B.containsKey(A)){return B[A].toString();}if(vHB!=null){if(A.startsWith(r'$')){return b(vHB.CC(A),'');}if(A.startsWith(r'@')){return b(vHB.cJ(A),'');}String I='@${A}';if(vHB.kB.containsKey(I)){return b(vHB.kB[I],'');}}if(C.isFinite&&(A.contains('0')||A.contains('#'))){return QS(C,A);}return '';}return iI.replaceAllMapped(hy,J);}else if(B.containsKey('formatted')){return B['formatted'];}else{if(D is bool){return D.toString();}else if(C.isFinite){String A=QS(C,"0.00");String G=B['unit'];if(G!=null&&G!=''){return '${A} ${G}';}else if(vHB!=null&&vHB.kB.containsKey('@unit')){return '${A} ${b(vHB.kB["@unit"])}';}return A;}else{return B['value'].toString();}}}static List<V> yy=[U.oF,new V('timestamp')..type='object',new V('value')..type='string'];List<hB> JF;void r$(hB A){if(JF==null){JF=[] ;zD.pR(wAB);}JF.add(A);}void wAB(){var A=[] ;for(hB B in JF){A.add([null,B.Ht,B.value]);}M('value',new U(A,yy));M('unit',null);M('status',null);M('error',null);M('lastUpdate',JF.last.Ht);M('formatted',null);JF=null;}BC vHB;void cr(JD A){vHB=A.h;M('formatted',bY(uHB));}void DB(){if(fD!=null&&tD!=null){fD.nJ(this,tD);}if(fJ!=null){fJ.cancel();fJ=null;eU=false;}if(RO!=null){RO.cancel();RO=null;}if(sK!=null){sK.cancel();sK=null;}super.DB();}}class eV extends JG with KG{static final RegExp jR=new RegExp(r'\r\n|\r|\n|,');static List<H> sv=[] ..addAll(JG.wM)..addAll([new H('service',type:'service',showInBlock:false),new H('paths',type:'datapaths'),new H('timeRange',type:'daterange',nullValue:'today'),new H('dataInterval',type:'enum',nullValue:'default',meta:{'enums':rM.ti,'enumLabels':rM.Hj}),new H('showStatus',type:'bool',showInBlock:false),new H('rollup',type:'enum',nullValue:'avg',meta:{'enums':rM.Xj,'enumLabels':rM.cj}),new H('missingValue',type:'enum',nullValue:'null',meta:{'enums':const['null','usePrevious','useNext','interpolate','zero'],'enumLabels':[O('Null'),O('Use previous'),O('Use next'),O('Interpolate'),O('Zero')]}),new H('header',type:'enum',nullValue:'default',meta:{'enums':const['default','name','parent','parent_name'],'enumLabels':[O('Default'),O('Name'),O('Parent'),O('Parent name')]}),new H('delta',type:'enum',nullValue:'none',meta:{'enums':const['none','withPrevious','withNext'],'enumLabels':[O('None'),O('With previous'),O('With next')]},showInBlock:false),new H('unifyTimezone',type:'enum',nullValue:'auto',meta:{'enums':const['auto','local','remote']},showInBlock:false),new H('output',type:'tabledata',readOnly:true)]);String get type=>'loadHistories';eV(){}List<LL> wHB;bool aM(){return wHB!=null;}void HC(){if(wHB!=null){for(LL A in wHB){A.cancel();}wHB=null;}super.HC();}bool zL(){Object B=L('service');Object q=L('paths');gB I;if(B is gB){I=B;}else if(B is String||B==null){I=MG.rG(B);}if(I!=null&&q is String){String J=b(L('timeRange'),'today');PB BB=PB.EE(J);Object C=L('unifyTimezone');String P='';if(C is String&&(C.startsWith('+')||C.startsWith('-'))){P=C;}else if(C=='local'){P=PB.Rm;}if(BB!=null){J=BB.toIso8601String(P);}else{J=null;}String aB=b(L('dataInterval'),'default');String lB=b(L('rollup'),'avg');List<String> R=q.split(jR);wHB=[] ;String xB=MP(L('header'),'default');String K=MP(L('missingValue'),'null');List D;if(K.contains(jR)){D=K.split(jR);if(D.length!=R.length){D=null;}}String N=MP(L('delta'),'none');List G;if(N.contains(jR)){G=N.split(jR);if(G.length!=R.length){G=null;}}int EC=0;Map S=new MB();for(String a in R){if(D!=null){K=D.removeAt(0);}if(G!=null){N=G.removeAt(0);}if(a!=''){LL A=new LL(a,this,K,N);A.name=A.U9(xB,EC++ );if(S.containsKey(A.name)){int HB=1;String j=A.name;while(S.containsKey(j)){HB++ ;j='${A.name}${HB}';}A.name=j;}S[A.name]=true;A.token=I.iY(A.callback,a,J,aB,lB,onError:A.onError);wHB.add(A);}}if(wHB.length>0){return true;}wHB=null;}return false;}void Et(){if(wHB==null){return;}for(LL A in wHB){if(!A.aQ){return;}}bool I=UB(L('showStatus'),false);Object N=L('unifyTimezone');String R;int q=0;bool BB=false;if(N=='remote'){R='';}else if(N is String&&(N.startsWith('+')||N.startsWith('-'))){R=N;q=PB.t2(N);}else{R=PB.Rm;BB=true;}Map<int,List> J=new MB<int,List>();List P=[new V('row')..type='number',new V('timestamp')..type='time'];int lB=(I?2:1)*wHB.length+2;for(int C=0;C<wHB.length; ++C){LL A=wHB[C];int G=C+2+C*(I?1:0);int xB=G+1;if(A.oJ!=null){Map S=A.oJ.g[2].zB();S['name']=A.name;P.add(new V.LCB(S));if(I){if(A.oJ.g.length>3){S=A.oJ.g[3].zB();S['name']=A.name+"_status";P.add(new V.LCB(S));}else{P.add(new V.LCB({'name':A.name+"_status"}));}}for(List B in A.oJ.m){int a=tE(B[1]).millisecondsSinceEpoch;Object EC=B[2];if(!J.containsKey(a)){J[a]=[null,B[1]]..length=lB;}J[a][G]=EC;if(I&&B.length>3){J[a][xB]=B[3];}}}else{P.add(new V(A.name));if(I){P.add(new V(A.name+"_status"));}}}var j=J.keys.toList();j.sort();List D=[] ;if(R==''){for(int K in j){List B=J[K];D.add(B);B[0]=K;}}else{for(int K in j){List B=J[K];D.add(B);B[0]=K;if(BB){B[1]=new DateTime.fromMillisecondsSinceEpoch(K).toLocal().toIso8601String();}else{B[1]=new DateTime.fromMillisecondsSinceEpoch(K+q).toLocal().toIso8601String()+R;}}}bool HB=false;bool aB=false;for(int C=0;C<wHB.length; ++C){LL A=wHB[C];int G=C+2;if(I){G+= C;}if(A.oJ!=null&&A.NU!='null'){A.lq(D,G);if(I){A.lq(D,G+1);}}if(A.oJ!=null){if(A.lT=='withPrevious'){HB=true;A.fT(D,G);}else if(A.lT=='withNext'){aB=true;A.fT(D,G);}}}if(HB&&D.length>0){D.removeAt(0);}if(aB&&D.length>0){D.removeLast();}M('output',new U(D,P));HC();}}class LL{final String path;final eV parent;String NU;String lT;U oJ;bool aQ=false;GC token;LL(this.path,this.parent,String A,String B){NU=CJ(A,const['null','usePrevious','useNext','interpolate','zero'],'null');lT=CJ(B,const['none','withPrevious','withNext'],'none');}String name;String U9(String B,int C){List A=path.split('/');if(B=='name'){return A.removeLast();}if(B=='parent'){if(A.length>2){return '${A[A.length-2]}';}}if(B=='parent_name'){if(A.length>2){return '${A[A.length-2]}_${A[A.length-1]}';}}return 'v${C}';}void cancel(){if(token!=null){token.cancel();token=null;}}void callback(U A){oJ=A;aQ=true;parent.Et();if(token!=null){token.cancel();token=null;}}void onError(String A){aQ=true;parent.Et();if(token!=null){token.cancel();token=null;}}void lq(List D,int G){if(NU=='interpolate'&&oJ.g[2].type=='number'){Object I;int K;int N=-1;int J=D.length;for(int A=0;A<J; ++A){List B=D[A];Object C=B[G];if(C!=null){if(A-1>N&&I is num&&C is num){for(int P=A-1;P>N; --P){List S=D[P];S[G]=I+(C-I)*(S[0]-K)/(B[0]-K);}}K=B[0];I=C;N=A;}}}else if(NU=='useNext'){Object R;int J=D.length;for(int A=J-1;A>-1; --A){List B=D[A];Object C=B[G];if(C==null){if(R!=null){B[G]=R;}}else{R=C;}}}else if(NU=='usePrevious'){Object I;int J=D.length;for(int A=0;A<J; ++A){List B=D[A];Object C=B[G];if(C==null){if(I!=null){B[G]=I;}}else{I=C;}}}else if(oJ.g[2].type=='number'){int J=D.length;for(int A=0;A<J; ++A){List B=D[A];Object C=B[G];if(C==null){B[G]=0;}}}}void fT(List I,int D){num G=double.NAN;int J=I.length;if(lT=='withPrevious'){for(int A=0;A<J; ++A){List C=I[A];Object B=C[D];if(B is num){C[D]=B-G;G=B;}}}else if(lT=='withNext'){for(int A=J-1;A>=0; --A){List C=I[A];Object B=C[D];if(B is num){C[D]=G-B;G=B;}}}}}class sa extends tO with KG{static List<H> cv=[new H('service',type:'service',showInBlock:false),new H('path',type:'datapath'),new H('enabled',type:'bool',nullValue:true,showInBlock:false),new H('value',type:'object',readOnly:true),new H('lastUpdate',type:'time',readOnly:true,showInBlock:false)];String get type=>'subscribeValue';Z Zt;sa():super(){Zt=wB('value',true);}gB fD;String tD;TS nHB;StreamSubscription xHB;void e(){Object C=L('service');Object B=b(L('path'));if(UB(L('enabled'),true)!=true){B=null;}gB A;if(C is gB){A=C;}else if(C is String||C==null){A=MG.rG(C);}if(fD==A&&B==tD){return;}if(xHB!=null){xHB.cancel();xHB=null;}fD=A;tD=B;if(A!=null&&B!=null){ZE D;String G;if(A is ZE){D=A;G=B;}else if(A is NE&&A.u is ZE){D=A.u;G=A.hG(B);}else{nHB=null;return;}nHB=D.sD;xHB=D.sD.GB.nI(G,yU,1);}}void yU(hB B){M('value',B.value);M('lastUpdate',B.ts);Zt.HGB.forEach((A){if(A is Z&&A.hD is oE){(A.hD as oE).mFB();}});}void DB(){if(xHB!=null){xHB.cancel();xHB=null;}super.DB();}}abstract class zu implements AB{}class Fb extends tO with KG implements zu{static List<H> Fw=[new H('service',type:'service'),new H('path',type:'datapath'),new H('partialPath',type:'bool'),new H('serviceId',type:'String',readOnly:true,showInBlock:false),new H('fullPath',type:'datapath',readOnly:true,showInBlock:false),new H('output',type:'relativize',readOnly:true)];String get type=>'relativize';Fb():super();gB u;NE aU;String path;void e(){Object A=L('service');path=b(L('path'),'');if(A is gB){u=A;}else if(A is String||A==null){u=MG.rG(A);}else{u=null;}if(u!=null){aU=u.gf(path,UB(L('partialPath')));M('output',aU);M('serviceId',aU.dZ());M('fullPath',aU.MQ);}else{aU=null;M('output',null);M('serviceId',null);M('fullPath',null);}}}abstract class KG implements AB{}class Yb extends AB with KG{static List<H> Fy=[new H('service',type:'service'),new H('path',type:'datapath'),new H('output',type:'relativize',readOnly:true)];String get type=>'relativizeNodePath';Yb():super();NE u;String path;void e(){Object A=L('service');path=b(L('path'),'');u=A is NE?A:null;if(u!=null){String B=u.hG(path);M('output',B);}else{M('output','');}}}abstract class Ti{}class kR extends AB with pV implements ru,Ti{static List Ew=[new H('symbol',type:'symbol',meta:{'showDfSymbols':true}),new H('data',type:'tabledata'),new H('mode',type:'enum',nullValue:'normal',meta:{'enums':const['normal','threaded','stream']}),new H('thread',type:'number',nullValue:1),new H('streamQueue',type:'number',nullValue:0),new H('output',type:'tabledata',readOnly:true),new H('renderer',type:'piRepeaterRendererEditor',readOnly:true)];String get type=>'repeater';pF yHB;bool zHB=true;int AIB=0;ListQueue<hC> BIB=new ListQueue<hC>();pF BHB;void set data(Object A){if(A is!pF){A=null;}if(yHB!=null){if(yHB==A){return;}}else if(A==BHB){return;}if(CIB=='normal'){BHB=A;update();}else if(CIB=='threaded'){if(zHB){BHB=A;update();}else{yHB=A;}}else if(CIB=='stream'){BHB=A;if(BHB!=null){int C=BHB.fF();for(int B=0;B<C; ++B){BIB.add(BHB.s(B));}if(DIB>0){while(BIB.length>DIB){BIB.removeFirst();}}if(BIB.length>0){if(EIB.length>0){we();}else{update();}}}}}String CIB='normal';void set mode(Object A){if(A!='threaded'&&A!='stream'){A='normal';}if(A!=CIB){CIB=A;kK(true);M('output',null);if(BHB!=null){pF B=BHB;BHB=null;data=B;}}}int DIB=0;void set ZAB(Object A){if(A is!int){A=0;}if(A!=DIB){DIB=A;if(DIB>0){while(BIB.length>DIB){BIB.removeFirst();}}}}int FIB=1;void set cAB(Object A){if(A is!int||(A as int)<1){A=1;}if(A!=FIB){FIB=A;if(FIB>EIB.length){P7();}}}void JE(Map<String,Object> A){super.JE(A);if(A['renderer'] is Map){VO=(A['renderer'] as Map)['map'];}else{o('renderer',new Q());}(L('renderer') as Q).nU("rendererOwner",this);}Z eF(String A){if(A=='symbol'||A=='data'||A=='mode'||A=='thread'||A=='streamQueue'){return new YB(this,A);}return new Z(this,A);}bool RB(YB A){if(A.name=='mode'){mode=A.value;return false;}if(A.name=='symbol'){Ch(A.value,false);return false;}if(A.name=='data'){data=A.value;return false;}if(A.name=='streamQueue'){ZAB=A.value;return false;}if(A.name=='thread'){cAB=A.value;return false;}return false;}void update(){if(!nFB){XE.wJ(this);}}bool GIB=false;void mf(Map<String,Object> A){GIB=true;update();}void hT(){GIB=true;update();}zC oH(){return UC().SE;}bool HIB=false;Map IIB;void set YZ(Map A){if(A==IIB){return;}if(A!=null&&IIB!=null&&NS(A,IIB)){return;}IIB=A;if(cM!=null){HIB=true;update();}}void set VO(Object A){if(A is Q){Object B=A.L('map');if(B is Q){YZ=B.zB();}else{YZ=null;}}else if(A is Map){YZ=A;}else{YZ=null;}}List<Q> EIB=[] ;List<mF> JIB=[] ;List<List> KIB=[] ;List LIB;List MIB;int NIB=1;int get Cs=>NIB;String p_(int A){return MIB[A];}void e(){if(CIB=='stream'){U7();}else if(CIB=='threaded'){V7();}else{T7();}}void T7(){if(cM==null||BHB==null){kK();M('output',null);return;}int B=BHB.fF();if(GIB){kK();}else if(HIB){KIB.clear();}if(LIB==null){Zf();}int G=EIB.length;if(G>B){for(int A=B;A<G; ++A){EIB[A].DB();}EIB.length=B;}else if(G<B){EIB.length=B;}if(JIB.length>B){for(int A=JIB.length;A<B; ++A){JIB[A].DB();}}JIB.length=B;if(JIB.length<KIB.length){KIB.length=JIB.length;Bs(null);}for(int A=0;A<B; ++A){mF D;hC I=BHB.s(A);if(I!=null){Q C=EIB[A];if(C==null){C=cM.jY(null);EIB[A]=C;}if(C!=null){C.mGB(this);gC J=C.wB('@inputs') as gC;if(J!=null&&J.value is Q){D=J.value;}if(D==null){mF K=new mF(this,IIB,JGB);C.ZM(K,I);JIB[A]=K;}else if(HIB){D.WD(IIB);}else{C.ZM(D,I);if(GIB){JIB[A]=D;D.OIB=null;}}}}}HIB=false;GIB=false;}void V7(){kK();if(cM==null||BHB==null){M('output',null);return;}zHB=false;int A=BHB.fF();Zf();JIB.length=A;if(A==0){zHB=true;af();}else{rp();}}void U7(){kK();if(cM==null||BHB==null){M('output',null);return;}zHB=false;Zf();we();}void P7(){if(CIB=='stream'){we();}else if(CIB=='threaded'){rp();}}void we(){while(FIB>EIB.length&&BIB.length>0){Q A=cM.jY(null);EIB.add(A);sg(A);}}void rp(){int B=BHB.fF();while(FIB>EIB.length&&AIB<B){Q A=cM.jY(null);EIB.add(A);sg(A);}}void sg(Q A){if(CIB=='stream'){EAB(A);}else if(CIB=='threaded'){FAB(A);}}void EAB(Q A){if(A!=null){mF C;gC B=A.wB('@inputs') as gC;if(B!=null&&B.value is Q){C=B.value;C.NZ;}}if(FIB>=EIB.length&&BIB.length>0){hC G=BIB.removeFirst();if(A!=null){A.mGB(this);mF D=new mF(this,IIB,JGB,true);A.ZM(D,G);D.VO=A;A.kY(true).rB('onInit',new TB('init'));}}else{EIB.remove(A);A.ZM(null,null);A.DB();}}void FAB(Q A){if(A!=null){mF D;gC B=A.wB('@inputs') as gC;if(B!=null&&B.value is Q){D=B.value;D.NZ;}}if(FIB>=EIB.length&&AIB<BHB.fF()){hC G=BHB.s(AIB);if(A!=null){A.mGB(this);mF C=new mF(this,IIB,JGB,true);A.ZM(C,G);JIB[AIB]=C;C.VO=A;A.kY(true).rB('onInit',new TB('init'));}AIB++ ;}else{EIB.remove(A);A.ZM(null,null);A.DB();}}void Zf(){LIB=new List()..add(U.oF);MIB=['row'];cM.dU.forEach((A,B){if(B!='trigger'){LIB.add(new V(A)..type=B);MIB.add(A);}});NIB=MIB.length;}bool PIB=false;void Bs(mF A){if(A!=null&&A.Eh&&A.RZ){sg(A.VO);A.VO=null;}if(CIB=='stream'){JIB.add(A);}if(!PIB){PIB=true;zD.pR(L9);}}void L9(){PIB=false;if(CIB=='threaded'){N9();}else if(CIB=='stream'){M9();}else{af();}}void af(){if(LIB==null){M('output',null);return;}KIB.length=JIB.length;for(int A=0;A<JIB.length; ++A){KIB[A]=JIB[A].NZ;}M('output',new U(KIB,LIB));}void N9(){if(EIB.length==0&&BHB.fF()==AIB){af();if(yHB!=null){BHB=yHB;yHB==null;update();}else{zHB=true;}}}void M9(){KIB.length=JIB.length;for(int A=0;A<JIB.length; ++A){KIB[A]=JIB[A].NZ;}for(mF B in JIB){B.DB();}JIB.clear();M('output',new U(KIB,LIB));}void kK([bool B=false]){if(EIB!=null){for(Q C in EIB){C.DB();}EIB.clear();}if(yHB!=null){BHB=yHB;yHB=null;}AIB=0;zHB=true;for(mF A in JIB){if(A!=null){A.DB();}}JIB.clear();KIB.clear();LIB=null;MIB=null;HIB=false;GIB=false;if(B){BIB.clear();}}void DB(){kK(true);super.DB();ds();}}class mF extends Q{Ti iU;Q VO;List OIB;void sAB(Object A,int B,String C){if(OIB!=null&&B>-1&&DGB!=null){OIB[B]=A;}if(!Eh||(C=='onDone'&&A!=null)){RZ=true;iU.Bs(this);}}List get NZ{if(OIB==null){OIB=new List(iU.Cs);for(int A=1;A<iU.Cs; ++A){jb B=wB(iU.p_(A),true);B.c=A;OIB[A]=B.value;}}return OIB;}bool Eh;bool RZ=false;mF(this.iU,Map A,Q B,[this.Eh=false]){JGB=B;if(A!=null){JE(A);}}Z eF(String A){return new jb(this,A);}}class jb extends Z{jb(Q A,String B):super(A,B);int c=-1;void call(Object A,bool B){super.call(A,B);(hD as mF).sAB(A,c,name);}}class ua extends AB with pV,Bb{static H mi=new H('symbol',type:'symbol',showInBlock:false);static List uv=[mi];ua():super();String get type=>'dfsymbol';Q QIB;lD get Ef=>RIB;void kGB(Q A){super.kGB(A);if(JGB!=null){HAB();}}Z eF(String A){if(A=='symbol'){return new YB(this,A);}return new Z(this,A);}void e(){Ch(L('symbol'),false);}zC oH(){return UC().SE;}void mf(Map<String,Object> A){if(RIB!=null){QIB=RIB.jY(null);if(QIB!=null){QIB.mGB(this);QIB.ZM(this);}lGB('@content',QIB);}else{hT();QIB=BP(A);QIB.mGB(this);QIB.ZM(this);lGB('@content',QIB);}}void hT(){if(QIB!=null){QIB.DB();lGB('@content',null);QIB=null;}}zC UC(){return super.UC();}List<H> nC(){List<H> A=[mi];wp(A);return A;}void DB(){super.DB();if(QIB!=null){QIB.DB();}ds();}}class bb extends Q{static List ky=[] ;bb(bool A):super(A);String get type=>'dfcontent';}abstract class ru{}abstract class pV{void mf(Map<String,Object> A);void hT();zC UC();String SIB;String get dM=>SIB;lD RIB;lD get cM=>RIB;zC TIB;int oGB=-1;void Kh(lD A){if(RIB==A&&RIB.oGB==oGB){return;}hT();RIB=A;oGB=RIB.oGB;mf(A.BHB);}zC oH();void Ch(Object C,bool D){String B=b(C);zC A=oH();if(SIB==B&&A==TIB){return;}if(SIB!=null){if(TIB!=null){TIB.gM(SIB,Kh);TIB=null;}hT();RIB=null;}SIB=B;if(SIB!=null){if(A!=null){TIB=A;TIB.UO(SIB,Kh);}}}void HAB(){if(SIB!=null){String A=SIB;SIB=null;Ch(A,false);}}void ds(){if(SIB!=null){if(TIB!=null){TIB.gM(SIB,Kh);TIB=null;}SIB=null;RIB=null;}}}class CP extends uR with sI{String FD()=>'params';CP():super(false);Z eF(String A){vR B=new vR(this,A);B.SAB('@parent.@inputs.'+A);return B;}List<H> nC(){List<H> A=<H>[] ;cT(A);return A;}Z Sq(String A){if(A=='!var'){return new Xk(this,A);}return new DW(this,A);}Object L(String A){if(LGB.containsKey(A)){return LGB[A].oFB;}else{return wB(A,true).oFB;}}}class vR extends Z{vR(Q A,String B):super(A,B);bool yY=false;String UIB;qE VIB;void SAB(String A){if(A==UIB)return;if(VIB!=null){VIB.IF(Qt);}UIB=A;if(UIB==null){VIB=null;}else{VIB=IGB.KU(UIB,Qt);}}void Qt(Object A,bool C){if(A!=null){if(yY&&VIB.vD!=null){var B=VIB.vD.hD.UC();if(B!=hD.UC()){A=HI.Dm(A,B.VE);}}super.call(A,C);}else{Eq();}}void o(Object A){super.o(A);if(UIB!=null){if(yY&&VIB.vD!=null){var B=VIB.vD.hD.UC();if(B!=hD.UC()){A=HI.Dm(A,hD.UC().VE);}}WB.lI(IGB,UIB,A);}}void call(Object A,bool B){super.call(A,B);if(UIB!=null){WB.lI(IGB,UIB,A,B);}}}class Xk extends DW{Xk(Q A,String B):super(A,B);HashSet<String> OZ=new HashSet<String>();void o(Object A){if(A is List){St(A);}else{St(const[] );}super.o(A);}void St(List D){for(Object B in D){if(B is Map){if(B['t']=='path'){String C=B['n'];if(!OZ.contains(C)){OZ.add(C);Z A=hD.wB(C,true);if(A is vR){A.yY=true;}}}else if(OZ.contains(name)){OZ.remove(name);Z A=hD.wB(name);if(A is vR){A.yY=false;}}}}}}abstract class za extends LP{}class Bj{zC WIB;Bj(this.WIB);int oGB;Map<String,Object> BHB;Map<String,Object> get data=>BHB;final List<Q> XIB=new List<Q>();Q jY(Object B){if(B is Q&&(B.oGB==oGB)){return null;}if(XIB.length>0){return XIB.removeLast()..ZZ();}if(BHB==null){return null;}Q A=BP(BHB,rootmanager:WIB);if(A is Rb&&A.cQ('selected')==null){A.rB('selected',false);}A.oGB=oGB;return A;}final List<za> YIB=new List<za>();void kK(){XIB.forEach((Q B){B.DB();});XIB.clear();YIB.forEach((za A){A.DB();A.remove();});YIB.clear();}}class gV extends zC{final String path;Function KZ;bool nQ=false;bool ZIB=false;PD jg;gV(this.path){SE=new tI(this);if(path.startsWith('lib/')){String A=ZR.oV(path);VE='lib/${A}/';jg=PD.AP(A,true);}else{jg=PD.pi;}nF.dW(aIB,'${path}.dg5');if(!Cb.gw){nF.K2(a9,'${path}.dg5');}}void a9(String A,String B){ZIB=true;nF.dW(aIB,'${path}.dg5',onError:(String C){ZIB=false;});}int bIB=-1;void cIB(){bIB=new DateTime.now().millisecondsSinceEpoch;BHB['@symbols']=lY();String A=tG.MS(BHB);nF.Cc(dIB,'${path}.dg5',A,onError:eIB);}void dIB(){if(KZ!=null){KZ(true);}}void eIB(String A){Gm.S2(A);}void kF(String A,Map<String,Object> B){super.kF(A,B);if(!fIB){cIB();}}Map BHB;bool fIB=false;void aIB(String D){var G=new DateTime.now().millisecondsSinceEpoch;if(G-bIB<100){return;}jg.O7((){bIB=-1;fIB=true;BHB=tG.Jc(D);int I=bB(BHB['@ver'],0);BHB=hV(BHB,I);BHB['@ver']=jW;if(BHB.containsKey('@symbols')){Object B=BHB['@symbols'];if(B is Map){B.forEach((String A,C){if(A.contains(':')){print('warning, non-local symbol is serialized ${A}');return;}if(A=='@df'){return;}kF(A,C);});if(B['@df'] is Map){B['@df'].forEach((A,C){if(A.contains(':')){print('warning, non-local symbol is serialized ${A}');return;}SE.kF(A,C);});}}}nQ=true;fIB=false;if(KZ!=null){KZ(ZIB);}ZIB=false;});}}typedef void JL(lD _0);class lD extends Bj{static int pv=0;String SIB;String get dM=>SIB;lD(this.SIB,zC A):super(A);double gIB=200.0;double hIB=200.0;Set<JL> iIB=new HashSet<JL>();Map<String,String> dU;Map<String,Map> bg;String dq;bool DAB=false;void uAB(Map<String,Object> A){if(A==BHB){return;}kK();jIB=null;oGB= ++pv;BHB=A;if(BHB!=null){if(A.containsKey('@W')){gIB=YH(A['@W'],200.0);}else{gIB=200.0;}if(A.containsKey('@H')){hIB=YH(A['@H'],200.0);}else{hIB=200.0;}Map D;Map G;if(A['@params'] is Map){Map C=A['@params'];if(C['!var'] is List){D={};G={};for(Object B in C['!var']){if(B is Map&&B['n'] is String){D[B['n']]=B['t'];G[B['n']]=B;}}}if(C.containsKey('!defaultField')){dq=b(C['!defaultField']);}else{dq=null;}DAB=(C['!reuse']==true);}dU=D;bg=G;}else{dU=null;bg=null;}iIB.toList().forEach((I)=>I(this));}void gs(JL A){iIB.add(A);if(BHB!=null){A(this);}}void Pt(JL A){iIB.remove(A);}Map<String,H> jIB;Map<String,H> nC(){if(jIB==null){jIB=new MB<String,H>();if(dU!=null){dU.forEach((String A,String B){jIB[A]=new H(A,type:B,meta:bg[A]);});}}return jIB;}}class zC{static Map<String,zC> Wb=new MB<String,zC>();tI SE;zC oH(String A){if(!A.startsWith('lib/')){A=IS(VE,A);}if(!Wb.containsKey(A)){Wb[A]=new gV(A);}return Wb[A];}String VE='';final tK= ++hC.gW;Map<String,lD> kIB=new MB<String,lD>();lD nH(String A){if(A.contains(':')){List<String> B=A.split(':');if(B.length==2){return oH(B[0]).nH(B[1]);}return null;}else{if(!kIB.containsKey(A)){kIB[A]=new lD(A,this);}return kIB[A];}}void UO(String A,JL C){if(A.contains(':')){List<String> B=A.split(':');if(B.length==2){oH(B[0]).UO(B[1],C);}}else{nH(A).gs(C);}}void gM(String A,JL C){if(A.contains(':')){List<String> B=A.split(':');if(B.length==2){oH(B[0]).gM(B[1],C);}}else{nH(A).Pt(C);}}void es(){for(lD A in kIB.values){A.kK();}kIB.clear();}Map<String,Object> lIB;Object lY(){if(SE!=null&&SE.lIB!=null&&SE.lIB.isNotEmpty){Map A=new MB<String,Map>();if(lIB!=null){lIB.forEach((B,C){A[B]=C;});}A['@df']=SE.lIB;return A;}return lIB;}void kF(String B,Map<String,Object> A){if(B.contains(':')){List<String> C=B.split(':');if(C.length==2){oH(C[0]).kF(C[1],A);}return;}if(A!=null&&A.containsKey('@ver')){A.remove('@ver');}nH(B).uAB(A);if(lIB!=null){Map D=new MB<String,Map>();lIB.forEach((G,I){D[G]=I;});lIB=D;}if(A==null){if(lIB!=null){lIB.remove(B);if(lIB.keys.length==0){lIB=null;}}}else{if(lIB==null){lIB=new MB<String,Map>();}lIB[B]=A;}}List<String> yT(){if(lIB!=null){return lIB.keys.toList();}return [] ;}}class tI extends zC{zC cU;tI(this.cU){}tI get SE=>this;Object lY(){return lIB;}Function mZ;void kF(String A,Map C){if(A.contains(':')){List<String> B=A.split(':');if(B.length==2){tI D=hY(B[0]);if(D!=this){return;}A=B[1];}else{return;}}super.kF(A,C);if(mZ!=null){mZ(A,C);}}tI hY(String A){if(A==''){if(cU is DI&&(cU as DI).hD is PD){return this;}else if(cU is gV){return PD.AP(ZR.oV((cU as gV).VE),true).UC().SE;}else{A=ZR.oV(VE);}}return PD.AP(A,true).oH().SE;}lD nH(String A){if(A.contains(':')){List<String> B=A.split(':');if(B.length==2){return hY(B[0]).nH(B[1]);}return null;}else{if(!kIB.containsKey(A)){kIB[A]=new lD(A,this);}return kIB[A];}}void UO(String A,JL C){if(A.contains(':')){List<String> B=A.split(':');if(B.length==2){hY(B[0]).UO(B[1],C);}}else{nH(A).gs(C);}}void gM(String A,JL C){if(A.contains(':')){List<String> B=A.split(':');if(B.length==2){hY(B[0]).gM(B[1],C);}}else{nH(A).Pt(C);}}}class DI extends bR with zC{DI(Q A):super(A){SE=new tI(this);}void set VE(String A){super.VE=A;SE.VE=A;}String get VE{return super.VE;}zC get KR{return this;}void DB(){es();}void ZZ(){throw 'not allowed';}}class rk extends bR implements DI{final tK= ++hC.gW;void set VE(String A){}String get VE{return mIB.VE;}void set SE(zC A){}zC get SE{return mIB.SE;}final zC mIB;bool get enabled{if(!tFB){return false;}if(mIB is bR){return (mIB as bR).enabled;}Object A=IGB.L('@parent');if(A is Q){if(OS){return A.UC().enabled;}else{return A.UC()!=null?A.UC().enabled:false;}}return true;}rk(Q A,this.mIB):super(A);zC get KR{return mIB;}zC oH(String A){return mIB.oH(A);}Map<String,Object> lIB;Map<String,lD> kIB;void kF(String A,Map<String,Object> B){return mIB.kF(A,B);}void gM(String A,void B(lD def)){return mIB.gM(A,B);}void UO(String A,void B(lD def)){mIB.UO(A,B);}lD nH(String A){return mIB.nH(A);}Object lY(){return null;}List<String> yT(){return mIB.yT();}void DB(){}void ZZ(){throw 'not allowed';}void es(){}}abstract class Bb implements Q{lD Ef;void wp(List<H> B){if(Ef!=null){Map<String,H> A=new MB<String,H>()..addAll(Ef.nC());for(H C in B){if(A.containsKey(C.name)){A.remove(C.name);}}B..addAll(A.values);}}}class CE extends AB implements QD{static List<H> Cw=[new H('data',type:'tabledata'),new H('save',type:'trigger',serializable:false,showInBlock:false)];String get type=>'table';List<xx> tCB;List<Hk> sCB;U get yC{return nIB.oFB as U;}vV nIB;CE(){nIB=new vV(this,'data');eGB['data']=nIB;LGB['data']=nIB;}bool RB(YB A){if(A.name=='save'&&TB.YE(A.oFB)){if(nIB.oFB is U&&nIB.SGB!=nIB.oFB){nIB.o(new U.OCB(nIB.oFB,-1,this));}return false;}return false;}void e(){}}class vV extends Z{vV(Q A,String B):super(A,B);void o(Object A){if(A is U){if(A.parent==IGB){super.o(A);}else{super.o(null);value=A;}}else{super.o(null);}}void call(Object A,bool B){if(SGB!=null&&SGB!=A){SGB=null;AHB=true;}if(A is U){value=A;}else{value=null;}}void JE(Object A){if(A is Map<String,Object>){o(new U.MCB(A,IGB));}else if(A is List&&A.length==1){ZC(A[0]);}}void WD(Object A){JE(A);}}abstract class Hk{}class xx extends Hk{}class aV extends fB implements QD{static List<H> gv=[] ..addAll(xO.nV)..addAll([new H('table',type:'tabledata')]);static H Cj(int A){if((A&1)==1){return new H('${A}',label:'value ${A>>1}',type:'object');}return new H('${A}',label:'column ${A>>1}',type:'object');}Z CM(String A){return new Z(this,A);}Z eF(String A){if(A=='invoke'){return new YB(this,A);}return new Z(this,A);}bool RB(YB A){if(A.name=='invoke'&&!TB.YE(A.oFB)){return false;}if(!UB(L('enabled'),true)){return false;}if(!nFB){XE.wJ(this);}return true;}void mFB(){nFB=false;if(vT()){e();}}List<int> AF(int B){int A=(B|1)-1;NC(A,IE(A));NC(A+1,null);return [A,A+1];}List<int> HF(int B){int A=(B|1)-1;remove(A);remove(A);return [A,A+1];}Object IE(int A){return '';}String get type=>'tableAddRow';void e(){Object D=L('table');if(D is U&&D.parent is CE){U A=D;CE I=A.parent;Map J=A.DC;List G=[] ;G.length=A.g.length;for(int B=0;B<CGB;B+= 2){Object C=s(B);if(C is String&&C!=null&&J.containsKey(C)){G[J[C]]=s(B+1);}}A.m.add(G);I.o('data',new U(A.m,A.g,-1,I));}}}class Zi extends AB implements QD{static const Sv=const['first','last','average','sum','max','min','count','concat','concatUnique','tableUnion'];static List zv=[O('First'),O('Last'),O('Average'),O('Sum'),O('Max'),O('Min'),O('Count'),O('Concat'),O('Concat unique'),O('Table Union')];static List<H> Rw=[new H('input',type:'tabledata'),new H('column',type:'String'),new H('method',type:'enum',nullValue:'first',meta:{'enums':Sv,'enumLabels':zv}),new H('output',type:'object',readOnly:true)];String get type=>'tableAggregation';void e(){Object D=L('input');if(D is U){String G=b(L('column'),'');String A=b(L('method'),'first');List<List> B=D.m;if(D.DC.containsKey(G)){int C=D.DC[G];if(A=='first'){T8(B,C);}else if(A=='last'){V8(B,C);}else if(A=='average'){O8(B,C);}else if(A=='sum'){Y8(B,C);}else if(A=='min'){X8(B,C);}else if(A=='max'){W8(B,C);}else if(A=='count'){R8(B,C);}else if(A=='concat'){P8(B,C);}else if(A=='concatUnique'){Q8(B,C);}else if(A=='tableUnion'){Z8(B,C);}else{M('output',null);}return;}}M('output',null);}void T8(List A,int B){if(A.length>0){M('output',A.first[B]);}else{M('output',null);}}void V8(List A,int B){if(A.length>0){M('output',A.last[B]);}else{M('output',null);}}void O8(List D,int G){num C=0;int A=0;for(List I in D){num B=W(I[G]);if(B==B){C+= B;A++ ;}}if(A>0){M('output',C/A);}else{M('output',null);}}void Y8(List C,int D){num B=0;for(List G in C){num A=W(G[D]);if(A==A){B+= A;}}M('output',B);}void X8(List C,int D){num A=double.INFINITY;for(List G in C){num B=W(G[D]);if(B<A){A=B;}}if(A!=double.INFINITY){M('output',A);}else{M('output',null);}}void W8(List C,int D){num A=-double.INFINITY;for(List G in C){num B=W(G[D]);if(B>A){A=B;}}if(A!=-double.INFINITY){M('output',A);}else{M('output',null);}}void R8(List B,int C){int A=0;for(List D in B){if(D[C]!=null){ ++A;}}M('output',A);}void P8(List D,int A){List<String> B=[] ;for(List C in D){if(C[A]!=null){B.add(C[A].toString());}}M('output',B.join(','));}void Q8(List I,int B){List<String> C=[] ;Set<String> D=new HashSet<String>();for(List G in I){if(G[B]!=null){String A=G[B].toString();if(!D.contains(A)){D.add(A);C.add(A);}}}M('output',C.join(','));}void Z8(List j,int I){int C=1;List<String> J=['row'];List<V> K=[new V('row')..type='number'];List N=[] ;for(List P in j){if(P[I] is U){U B=P[I];int D=B.g.length;List<int> G=new List<int>(D);for(int A=1;A<D; ++A){String R=B.g[A].name;int S=J.indexOf(R);if(S>0){G[A]=S;}else{G[A]=C;J.add(R);K.add(B.g[A]);C++ ;}}for(var q in B.m){List a=[] ..length=C;for(int A=1;A<D; ++A){a[G[A]]=q[A];}N.add(a);}}}M('output',new U(N,K));}}class dV extends fB implements QD{static List<H> mv=[new H('input',type:'tabledata'),new H('retainColumns',type:'bool')];static List<H> Gw=[new H('print',type:'string',readOnly:true,showInBlock:false),new H('output',type:'tabledata',readOnly:true)];String get type=>'tableColumnMapping';static H Yw(int A){if((A&1)==1){return new H('${A}',label:'from ${A>>1}',type:'string',help:O('use column name for direct mapping\n' 'use =script for calculation, example:\n')+'="result is "+Math.max(v1,v2)');}return new H('${A}',label:'name ${A>>1}',type:'string');}List<int> AF(int B){int A=(B|1)-1;NC(A,null);NC(A+1,null);return [A,A+1];}List<int> HF(int B){int A=(B|1)-1;remove(A);remove(A);return [A,A+1];}bool aZ=false;bool RB(YB A){if(A.name!='input'){aZ=true;}return super.RB(A);}bool Jg=false;SD qC;List DC;List<V> g;void e(){Object a=L('input');bool lB=UB(L('retainColumns'));U B;if(a is U){B=a;}String N='';DC=[null];g=[new V('row')..type='number'];Jg=false;if(lB&&B!=null){for(int A=1;A<B.g.length; ++A){V D=B.g[A];DC.add(A);g.add(D);}}for(int A=0;A<CGB-1;A+= 2){String J=b(s(A),'');String G=b(s(A+1),'');if(J!=''&&G!=''){V D=new V(J);int I=G.codeUnitAt(0);if(I==61||I==43||I==38){if(I==43){D.type='number';}else if(I==38){D.type='bool';}Jg=true;DC.add(J);if(aZ){N+= '\$rowResult["${J}"]=${G.substring(1)};';}}else{if(B!=null&&B.DC.containsKey(G)){int P=B.DC[G];DC.add(P);D.type=B.g[P].type;D.meta=B.g[P].meta;}else{DC.add(null);}}g.add(D);}}if(aZ&&Jg&&N!=''){try {qC=EP(N);}catch (R){qC=null;M('print','Parsing:${R}');}}aZ=false;if(B!=null){StringBuffer j=new StringBuffer();Object xB(Object GG,List EC){for(Object aC in EC){j.write(aC);}return null;}try {Map C=vO();C['print']=xB;Map q=new MB();C[r'$rowResult']=q;C[r'$']={};C[r'@']=this;List<List<Object>> BB=[] ;int YD=B.g.length;List<String> xD=B.g.map((KF)=>KF.name).toList();int HB=g.length;for(List<Object> aB in B.m){if(qC!=null){for(int A=0;A<YD; ++A){C[xD[A]]=aB[A];}C[r'$thisRow']=C;qC.XO(C,this);}List S=new List(HB);for(int A=0;A<HB; ++A){Object K=DC[A];if(K is int){S[A]=aB[K];}else if(K is String){S[A]=q[K];}}BB.add(S);}M('output',new U(BB,g));M('print',j.toString());}catch (R){M('output',null);M('print','${R}');}}else{M('output',null);}}}class Ii extends AB implements QD{static List<H> Zv=[new H('input',type:'textarea'),new H('withHeader',type:'bool'),new H('delimiter',type:'string',nullValue:','),new H('parseError',type:'bool',readOnly:true),new H('output',type:'tabledata',readOnly:true)];String get type=>'csvParser';void e(){Object D=L('input');String G=b(L('delimiter'));if(D is String){bool I=UB(L('withHeader'));List<List> A=O2.P2(D,G);if(A==null||A.length==0){M('output',null);M('parseError',true);return;}List<V> B=[] ;int J=A.first.length;if(I){for(String K in A.removeAt(0)){B.add(new V(K));}}else{for(int C=1;C<=J; ++C){B.add(new V('v${C}'));}}M('output',new U(A,B));M('parseError',false);}else{M('output',null);M('parseError',true);}}}class Ji extends AB implements QD{static List<H> Wv=[new H('input',type:'tabledata'),new H('withHeader',type:'bool'),new H('output',type:'textarea',readOnly:true)];String get type=>'csvWriter';void e(){Object A=L('input');if(A is U){bool B=UB(L('withHeader'));if(B){M('output',A.Jt(false,true));}else{M('output',A.Jt(true,true));}}else{M('output',null);}}}class Yi extends fB implements QD{static List<H> hv=[] ..addAll(xO.nV)..addAll([new H('table',type:'tabledata'),new H('condition',type:'script'),new H('print',type:'string',readOnly:true,showInBlock:false)]);SD qC;Z CM(String A){return new Z(this,A);}Z eF(String A){if(A=='invoke'||A=='condition'){return new YB(this,A);}return new Z(this,A);}bool RB(YB A){if(A.name=='condition'){try {qC=EP(b(A.oFB));}catch (B){qC=null;M('print','${B}');}return false;}if(A.name=='invoke'&&!TB.YE(A.oFB)){return false;}if(!UB(L('enabled'),true)){return false;}if(!nFB){XE.wJ(this);}return true;}void mFB(){nFB=false;if(vT()){e();}}List<int> AF(int B){int A=(B|1)-1;NC(A,IE(A));NC(A+1,null);return [A,A+1];}List<int> HF(int B){int A=(B|1)-1;remove(A);remove(A);return [A,A+1];}Object IE(int A){return '';}String get type=>'tableEditRows';void e(){Object C=L('table');if(C is U&&C.parent is CE&&qC!=null){U D=C;CE I=D.parent;StringBuffer J=new StringBuffer();Object R(Object aB,List S){for(Object a in S){J.write(a);}return null;}try {bool K=false;Map N=D.DC;Map B=vO();B['print']=R;B[r'$']={};B[r'@']=this;int j=C.g.length;List<String> q=C.g.map((BB)=>BB.name).toList();for(List<Object> P in C.m){for(int A=0;A<j; ++A){B[q[A]]=P[A];}B[r'$thisRow']=B;if(UB(qC.XO(B,this))==true){K=true;for(int A=0;A<CGB;A+= 2){Object G=s(A);if(G is String&&G!=null&&N.containsKey(G)){P[N[G]]=s(A+1);}}}}if(K){I.o('data',new U(D.m,D.g,-1,I));}M('print',J.toString());}catch (HB){M('print','${HB}');}}}}class ci extends AB implements QD{static List<H> bv=[new H('input',type:'tabledata'),new H('condition',type:'script'),new H('print',type:'string',readOnly:true,showInBlock:false),new H('output',type:'tabledata',readOnly:true)];String get type=>'tableFilter';SD qC;bool RB(YB A){if(A.name=='condition'){try {qC=EP(b(A.oFB));}catch (B){qC=null;M('print','${B}');}}return super.RB(A);}void e(){try {ye();}catch (A){M('output',null);M('print','${A}');}}void ye(){Object B=L('input');if(B is U&&qC!=null){StringBuffer D=new StringBuffer();Object J(Object a,List K){for(Object N in K){D.write(N);}return null;}Map A=vO();A['print']=J;A[r'$']={};A[r'@']=this;List<List<Object>> G=[] ;int P=B.g.length;List<String> R=B.g.map((S)=>S.name).toList();for(List<Object> I in B.m){for(int C=0;C<P; ++C){A[R[C]]=I[C];}A[r'$thisRow']=A;if(UB(qC.XO(A,this))==true){G.add(I.toList());}}M('output',new U(G,B.g));M('print',D.toString());}else{M('output',null);}}}class Ui extends AB{static List<V> Kv=[new V('row')..type='number',new V('name')..type='string',new V('type')..type='string',new V('meta')..type='map'];static U Kw(U C){List B=[] ;for(V A in C.g){B.add([null,A.name,A.type,A.meta]);}return new U(B,Kv);}static List<H> dw=[new H('input',type:'tabledata'),new H('output',type:'tabledata',readOnly:true)];String get type=>'tableGetColumns';void e(){Object A=L('input');if(A is U){M('output',Kw(A));}else{M('output',null);}}}class cV extends fB implements QD{static const ri=const['first','last','average','sum','max','min','count','concat','concatUnique','tableUnion'];static List<H> Dw=[new H('input',type:'tabledata'),new H('baseColumn',type:'string'),new H('nestedData',type:'bool'),new H('includeBlankValue',type:'bool',showInBlock:false)];static List<H> Zw=[new H('output',type:'tabledata',readOnly:true)];String get type=>'tableGroupBy';static H hw(int A){if(((A+1)%3)==0){return new H('${A}',label:'outColumn ${A~/3}',type:'string');}if(((A+1)%3)==1){return new H('${A}',label:'column ${A~/3}',type:'string');}return new H('${A}',label:'method ${A~/3}',type:'enum',meta:{'enums':ri});}int get SQ=>3;List<int> AF(int B){int A=(B~/3)*3;NC(A,null);NC(A+1,null);NC(A+2,null);return [A,A+1,A+2];}List<int> HF(int B){int A=B~/3;remove(A);remove(A);remove(A);return [A,A+1,A+2];}void e(){String MR=b(L('baseColumn'),'');bool pBB=UB(L('includeBlankValue'));Object EC=L('input');bool qBB=UB(L('nestedData'));U R;if(EC is U&&EC.DC.containsKey(MR)){R=EC;}else{M('output',null);return;}int xB=R.DC[MR];List<V> S=[new V('row')..type='number',R.g[xB]];List<int> BB=[-1,xB];List<String> YD=['first','first'];for(int D=0;D<CGB-1;D+= 3){String aB=b(s(D),'');String xD=b(s(D+2),'');if(xD=='')xD=aB;if(aB!=''){V KF=new V(xD);if(R!=null&&R.DC.containsKey(aB)){int GG=R.DC[aB];BB.add(GG);KF.type=R.g[GG].type;KF.meta=R.g[GG].meta;}else{BB.add(-1);}S.add(KF);YD.add(CJ(s(D+1),ri,'first'));}}if(qBB){S.add(new V('nestedData')..type='tabledata');YD.add('nestedData');BB.add(0);}int kt=S.length;List<List> OR=[] ;Map<String,List> I=new MB<String,List>();List<String> jM=new List<String>();Map<String,List<List>> HB=new MB<String,List<List>>();for(List A in R.m){String B;Object aC=A[xB];if(aC==null||aC==''){if(pBB){B='';}else{continue;}}else{B=aC.toString();}if(HB.containsKey(B)){HB[B].add(A);}else{jM.add(B);HB[B]=[A];List j=new List(kt);j[1]=B;I[B]=j;OR.add(j);}}for(int C=2;C<kt; ++C){int J=BB[C];if(J<0){continue;}String N=YD[C];for(String B in jM){List P=HB[B];if(N=='first'){I[B][C]=P.first[J];}else if(N=='last'){I[B][C]=P.last[J];}else if(N=='average'){num q=0;int a=0;for(List A in P){num K=W(A[J]);if(K==K){q+= K;a++ ;}}if(a>0){I[B][C]=q/a;}else{I[B][C]=null;}}else if(N=='sum'){num q=0;for(List A in P){num K=W(A[J]);if(K==K){q+= K;}}I[B][C]=q;}else if(N=='min'){num G=double.INFINITY;for(List A in P){num K=W(A[J]);if(K<G){G=K;}}if(G!=double.INFINITY){I[B][C]=G;}else{I[B][C]=null;}}else if(N=='max'){num G=-double.INFINITY;for(List A in P){num K=W(A[J]);if(K>G){G=K;}}if(G!=-double.INFINITY){I[B][C]=G;}else{I[B][C]=null;}}else if(N=='count'){int a=0;for(List A in P){if(A[J]!=null){ ++a;}}I[B][C]=a;}else if(N=='concat'){List<String> G=[] ;for(List A in P){if(A[J]!=null){G.add(A[J].toString());}}I[B][C]=G.join(',');}else if(N=='concatUnique'){List<String> G=[] ;Set<String> NR=new HashSet<String>();for(List A in P){if(A[J]!=null){String kG=A[J].toString();if(!NR.contains(kG)){NR.add(kG);G.add(kG);}}}I[B][C]=G.join(',');}else if(N=='nestedData'){List PR=[] ;for(List A in P){PR.add(A.toList());}U rBB=new U(PR,R.g);I[B][C]=rBB;}else if(N=='tableUnion'){int uH=1;List<String> lt=['row'];List<V> S=[new V('row')..type='number'];List mt=[] ;for(List A in P){if(A[J] is U){U lB=A[J];int vH=lB.g.length;List<int> jG=new List<int>(vH);for(int D=1;D<vH; ++D){String iM=lB.g[D].name;int kM=lt.indexOf(iM);if(kM>0){jG[D]=kM;}else{jG[D]=uH;lt.add(iM);S.add(lB.g[D]);uH++ ;}}for(var sBB in lB.m){List j=[] ..length=uH;for(int D=1;D<vH; ++D){j[jG[D]]=sBB[D];}mt.add(j);}}}I[B][C]=new U(mt,S);}}}M('output',new U(OR,S));}}class di extends AB implements QD{static List<H> Yv=[new H('input1',type:'tabledata'),new H('input2',type:'tabledata'),new H('field1',label:'column1',type:'string'),new H('field2',label:'column2',type:'string'),new H('join',type:'enum',nullValue:'left',meta:{'enums':const['left','right','inner','full','exclude','union'],'enumLabels':[O('Left'),O('Right'),O('Inner'),O('Full'),O('Exclude'),O('Union')]}),new H('renameColumns',type:'textarea',showInBlock:false),new H('output',type:'tabledata',readOnly:true)];String get type=>'tableJoin';void e(){Object K=L('input1');Object J=L('input2');Object xD=L('field1');Object aC=L('field2');String S=CJ(L('join'),const['left','right','inner','full','exclude','union'],'left');if(S=='union'){xD='row';aC='row';}if(K is U&&J is U&&xD is String&&aC is String){Object iM=L('renameColumns');List<V> HB=[] ;Map<String,int> jG=new MB<String,int>();Map<int,int> lB=new MB<int,int>();Map<int,int> xB=new MB<int,int>();int R=-1;;int a=-1;;int MR=K.g.length;for(int A=0;A<MR; ++A){V j=K.g[A];HB.add(j);jG[j.name]=A;if(j.name==xD){R=A;}}Map<String,String> KF=new MB<String,String>();if(iM is String){List<String> NR=iM.split('\n');for(String OR in NR){List<String> uH=OR.split(':');if(uH.length==2){KF[uH[0]]=uH[1];}}}KF[aC]=xD;int aB=J.g.length;for(int A=0;A<aB; ++A){V j=J.g[A];String q=j.name;if(q==aC){a=A;}V EC;if(KF.containsKey(q)){q=KF[q];EC=new V(q);EC.type=j.type;EC.meta=j.meta;}else{EC=j;}if(q==aC){lB[A]=R;xB[A]=-1;}else if(jG.containsKey(q)){lB[A]=jG[q];xB[A]=-1;}else{HB.add(EC);lB[A]=HB.length-1;xB[A]=HB.length-1;}}if(R<0||a<0){if(a<0&&S=='left'){M('output',K);}else if(R<0&&S=='right'){M('output',J);}else{M('output',null);}return;}int BB=HB.length;List P=[] ;if(S=='left'){for(List<Object> B in K.m){List C=B.toList();C.length=BB;P.add(C);}int YD=P.length;Map<String,List> kG=new MB<String,List>();int vH=J.m.length;for(int A=vH-1;A>-1; --A){List<Object> B=J.m[A];Object D=B[a];if(D==null)continue;String G=D.toString();kG[G]=B;}for(int A=YD-1;A>-1; --A){List B=P[A];Object D=B[R];if(D==null)continue;String G=D.toString();if(kG.containsKey(G)){List C=kG[G];for(int A=1;A<aB; ++A){int I=xB[A];if(I>-1){B[I]=C[A];}}}}}else if(S=='union'){for(List<Object> B in K.m){List C=B.toList();C.length=BB;P.add(C);}for(List<Object> B in J.m){List C=[] ..length=BB;for(int A=1;A<aB; ++A){int I=lB[A];if(I>-1){C[I]=B[A];}}P.add(C);}}else if(S=='right'){int YD=K.m.length;Map<String,List> N=new MB<String,List>();for(int A=YD-1;A>-1; --A){List B=K.m[A];Object D=B[R];if(D==null)continue;String G=D.toString();N[G]=B;}for(List<Object> B in J.m){Object D=B[a];List C;if(D!=null){String G=D.toString();if(N.containsKey(G)){C=N[G].toList();C.length=BB;}}if(C==null){C=[] ..length=BB;}P.add(C);for(int A=1;A<aB; ++A){int I=lB[A];if(I>-1){C[I]=B[A];}}}}else if(S=='full'){Map<String,List> N=new MB<String,List>();for(List B in K.m){Object D=B[R];if(D==null)continue;String G=D.toString();if(N.containsKey(G))continue;List C=B.toList()..length=BB;P.add(C);N[G]=C;}Set<String> jM=new HashSet<String>();for(List<Object> B in J.m){Object D=B[a];if(D==null)continue;String G=D.toString();if(jM.contains(G)){continue;}jM.add(G);List C;if(N.containsKey(G)){C=N[G];for(int A=1;A<aB; ++A){int I=xB[A];if(I>-1){C[I]=B[A];}}}else{C=[] ..length=BB;for(int A=1;A<aB; ++A){int I=lB[A];if(I>-1){C[I]=B[A];}}P.add(C);}}}else if(S=='inner'){int vH=J.m.length;Map<String,List> GG=new MB<String,List>();for(int A=vH-1;A>-1; --A){List B=J.m[A];Object D=B[a];if(D==null)continue;String G=D.toString();GG[G]=B;}Set<String> kM=new HashSet<String>();for(List<Object> B in K.m){Object D=B[R];if(D==null)continue;String G=D.toString();if(kM.contains(G)||!GG.containsKey(G))continue;kM.add(G);List C=B.toList();C.length=BB;P.add(C);List PR=GG[G];for(int A=1;A<aB; ++A){int I=xB[A];if(I>-1){C[I]=PR[A];}}}}else if(S=='exclude'){int YD=J.m.length;Map<String,List> N=new MB<String,List>();for(int A=YD-1;A>-1; --A){List B=J.m[A];Object D=B[a];if(D==null)continue;String G=D.toString();N[G]=B;}for(List<Object> B in K.m){Object D=B[R];if(D!=null){String G=D.toString();if(!N.containsKey(G)){P.add(B.toList());}}}HB=K.g;}M('output',new U(P,HB));}else{if(K is U&&J is!U){M('output',K);}else if(K is!U&&J is U){M('output',J);}else{M('output',null);}}}}class ii extends AB implements QD{static List<H> qv=[new H('input',type:'textarea'),new H('output',type:'tabledata',readOnly:true),new H('parseError',type:'bool',readOnly:true),new H('selector',type:'string'),new H('drillDownDepth',type:'number',nullValue:1,showInBlock:false),new H('drillDownFilter',type:'string',showInBlock:false,help:O('comma seperated string for children name\nuse * to match all')),new H('flatFilter',type:'string',showInBlock:false,help:O('comma seperated string for children name\nuse * to match all'))];String get type=>'jsonParser';bool RB(YB A){if(A.yFB=='selector'){c$(b(A.value));}else if(A.yFB=='drillDownFilter'){if(A.oFB is!String||A.oFB==''){oT=null;WY=false;}else if(A.oFB=='*'){oT=null;WY=true;}else{oT=(A.oFB as String).split(',');WY=false;}}else if(A.yFB=='flatFilter'){if(A.oFB is!String||A.oFB==''){sT=null;aY=false;}else if(A.oFB=='*'){sT=null;aY=true;}else{sT=(A.oFB as String).split(',');aY=false;}}return super.RB(A);}SD mU;List<String> oT;bool WY=false;List<String> sT;bool aY=false;void c$(String A){if(A!=null&&A!=''){try {mU=EP(oIB(A));}catch (B){mU=null;}}else{mU=null;}}void e(){Object B=L('input');Object A;if(B is String){B=(B as String).trim();try {A=const JsonDecoder().convert(B);}on FormatException catch (D){if(DGB!=null){String C="";if(DGB.yFB!=null){C=(", block's parent name: "+DGB.yFB);}else{if(DGB.DGB==null){C=(", block's parent: stage");}}print(D.toString()+"at block: ${yFB}"+C);}M('output',null);M('parseError',true);return;}}else if(B is Map||B is List){A=B;}else{M('output',null);M('parseError',true);return;}if(mU!=null){try {A=pIB(A,mU);}catch (D){M('output',null);M('parseError',true);return;}}if(A is Map&&A['rows'] is List&&A['columns'] is List){try {M('output',new U.NCB(A));}catch (G){M('output',qIB(rIB(A),bB(L('drillDownDepth'),1)));}}else{M('output',qIB(rIB(A),bB(L('drillDownDepth'),1)));}M('parseError',false);}bool zAB(String B){Z A=wB('selector');if(A!=null){if(A.DHB!=null){return false;}for(var D in A.HGB){if(D is!qE){String C=b(A.value,'');if(C==''){A.o(B);}else{A.o('${C}.${B}');}return true;}}}return false;}dynamic pIB(Object A,SD B){try {return B.XO({r'$json':A},null);}catch (C){throw new ArgumentError("query is not valid");}}String oIB(String B){var A=new StringBuffer();A.write(r"return $json");if(!B.isEmpty){String C=B.replaceAllMapped(ay,AAB).replaceAll('].',']["').replaceAll('.','"]["');if(!B.startsWith("[")){A.write('["');}A.write(C);if(!B.endsWith("]")){A.write('"]');}}A.write(";");return A.toString();}static final RegExp ay=new RegExp(r'([^\]])\[');String AAB(Match A){return '${A.group(1)}"][';}U qIB(List I,int R){if(I==null){return null;}List<V> B=[new V('row')..type='number'];List<List> J=[] ;List<String> C=['row'];int G=1;for(var S in I){Map K=sIB(S,'','',{},R);K.forEach((A,N){if(!C.contains(A)){C.add(A);G=C.length;if(N is num){B.add(new V(A)..type='number');}else if(N is bool){B.add(new V(A)..type='bool');}else{B.add(new V(A));}}});List P=[] ..length=G;for(int D=1;D<G; ++D){String A=C[D];P[D]=K[A];}J.add(P);}return new U(J,B);}List<dynamic> rIB(A,[B]){if(A is List){return A;}else if(B!=null){return A[B];}else if(A is Map){if(L('selector')==null){List C=A.keys.toList();C.sort((String D,String G){return G.compareTo(D);});for(var B in C){if(A[B] is List){zAB(B);return A[B];}}}return [A];}return null;}Map<String,dynamic> sIB(A,String G,String D,Map C,int I){var N=A is num||A is String||A is bool||A==null;if(A is Map){String B=G+D+'/';if(B=='/')B='';for(var K in A.keys){sIB(A[K],B,K,C,I);}return C;}else if(N){String B=G+D;if(B==""){B="value";}C[B]=A;return C;}else if(A is List){if(I>0){if(WY||(oT!=null&&oT.contains(D))){String B=G+D;C[B]=qIB(A,I-1);}else if(aY||(sT!=null&&sT.contains(D))){String B=G+D+'/';for(int J=0;J<A.length;J++ ){sIB(A[J],B,J.toString(),C,I-1);}}}return C;}else{return {};}}}class ZV extends AB{static List<H> ki=[new H('input',type:'tabledata'),new H('output',type:'tabledata',readOnly:true)];String get type=>'mapToTable';void e(){Object A=L('input');if(A is KP){List B=A.GH.toList();U D=new U([B],A.data.g);B[0]=A.GH[0];M('output',D);}else if(A is Map){List C=[U.oF];List B=[null];A.forEach((G,I){B.add(I);C.add(new V(G));});M('output',new U([B],C));}else{M('output',null);}}}class fi extends AB implements QD{static List<H> Xv=[new H('input',type:'tabledata'),new H('pageSize',type:'number'),new H('start',nullValue:0,type:'number'),new H('nextPage',type:'trigger',showInBlock:false,serializable:false),new H('prevPage',type:'trigger',showInBlock:false,serializable:false),new H('firstPage',type:'trigger',showInBlock:false,serializable:false),new H('lastPage',type:'trigger',showInBlock:false,serializable:false),new H('currentPage',type:'number',showInBlock:false),new H('totalPage',type:'number',readOnly:true,showInBlock:false),new H('output',type:'tabledata',readOnly:true)];bool RB(YB A){if(A.name=='currentPage'){if(A.oFB is int){int C=A.oFB;int B=nD(L('pageSize'),-1);if(C>=0&&B>0){aO('start',C*B);}}return false;}else if(A.name=='nextPage'){if(TB.YE(A.oFB)){int B=nD(L('pageSize'),-1);if(B>0&&bB(L('currentPage'),0)+1<W(L('totalPage'))){aO('start',(bB(L('currentPage'),0)+1)*B);}}return false;}else if(A.name=='prevPage'){if(TB.YE(A.oFB)){int B=nD(L('pageSize'),-1);if(B>0&&bB(L('currentPage'),0)>0){aO('start',(bB(L('currentPage'),0)-1)*B);}}return false;}else if(A.name=='firstPage'){if(TB.YE(A.oFB)){aO('start',0);}return false;}else if(A.name=='lastPage'){if(TB.YE(A.oFB)){Object D=L('input');if(D is U){int B=nD(L('pageSize'),-1);int G=D.m.length;if(B>0&&G>0){aO('start',((G-1)~/B)*B);}else{aO('start',0);}}else{aO('start',0);}}return false;}return super.RB(A);}String get type=>'tablePage';void e(){Object B=L('input');if(B is U){int A=nD(L('pageSize'),-1);int D=W(L('start'),0).floor();List<List<Object>> I=[] ;int C=B.m.length;if(A<0){A=C;}if(D<C){num J=D+A;if(J<C){C=J.floor();}}for(int G=D;G<C; ++G){I.add(B.m[G].toList());}M('output',new U(I,B.g));if(A>0){M('currentPage',D~/A);M('totalPage',(B.m.length/A).ceil());}else{M('currentPage',0);M('totalPage',1);}}else{M('output',null);M('currentPage',0);M('totalPage',0);}}}class Vi extends xO implements QD{static List<H> dv=[] ..addAll(xO.nV)..addAll([new H('table',type:'tabledata'),new H('condition',type:'script'),new H('print',type:'string',readOnly:true,showInBlock:false)]);String get type=>'tableRemoveRows';SD qC;Z eF(String A){if(A=='invoke'||A=='condition'){return new YB(this,A);}return new Z(this,A);}bool RB(YB A){if(A.name=='condition'){try {qC=EP(b(A.oFB));}catch (B){qC=null;M('print','${B}');}return false;}return super.RB(A);}void e(){Object B=L('table');if(B is U&&B.parent is CE&&qC!=null){U D=B;CE G=D.parent;StringBuffer I=new StringBuffer();Object N(Object BB,List P){for(Object R in P){I.write(R);}return null;}try {Map A=vO();A['print']=N;A[r'$']={};A[r'@']=this;List<List<Object>> J=[] ;int S=B.g.length;List<String> a=B.g.map((j)=>j.name).toList();for(List<Object> K in B.m){for(int C=0;C<S; ++C){A[a[C]]=K[C];}A[r'$thisRow']=A;if(UB(qC.XO(A,this))!=true){J.add(K.toList());}}G.o('data',new U(J,D.g,-1,G));M('print',I.toString());}catch (q){M('print','${q}');}}}}abstract class uM{DateTime tIB;DateTime get date=>tIB;Duration uIB;Duration get duration=>uIB;void init(DateTime A){tIB=A;}bool rK(DateTime A);DateTime FO()=>tIB;void lf(){init(tIB.add(uIB));}}class Tj extends uM{Tj(){uIB=new Duration(days:1);}num vIB;num wIB;num xIB;void init(DateTime A){super.init(A);vIB=A.year;wIB=A.month;xIB=A.day;}bool rK(DateTime A){return A.day==xIB&&A.month==wIB&&A.year==vIB;}}class gj extends uM{gj(){uIB=new Duration(hours:1);}num vIB;num wIB;num xIB;num yIB;void init(DateTime A){super.init(A);vIB=A.year;wIB=A.month;xIB=A.day;yIB=A.hour;}bool rK(DateTime A){return A.hour==yIB&&A.day==xIB&&A.month==wIB&&A.year==vIB;}}class Ox extends uM{static const List Qx=const[31,28,31,30,31,30,31,31,30,31,30,31];num vIB;num wIB;void init(DateTime A){super.init(A);vIB=A.year;wIB=A.month;}bool rK(DateTime A){return A.month==wIB&&A.year==vIB;}void lf(){int A=tIB.month;int B=Qx[A-1];if(A==2&&date.year%4==0){B++ ;}tIB=tIB.add(new Duration(days:B));vIB=tIB.year;wIB=tIB.month;}}class jx extends uM{num vIB;void init(DateTime A){super.init(A);vIB=A.year;}bool rK(DateTime A){return A.year==vIB;}void lf(){int B=tIB.month;int A=365;if(B<=2&&tIB.year%4==0){A++ ;}else if(B>2&&(tIB.year+1)%4==0){A++ ;}tIB=tIB.add(new Duration(days:A));vIB=tIB.year;}}class Jk extends uM{Jk(){uIB=new Duration(days:7);}void init(DateTime A){super.init(A);tIB=new DateTime(A.year,A.month,A.day);}bool rK(DateTime A){return A.difference(tIB)<uIB;}}class oG extends uM{oG(int A){zIB=A*60*1000;uIB=new Duration(milliseconds:zIB);}int zIB;bool rK(DateTime A){return (A.millisecondsSinceEpoch-tIB.millisecondsSinceEpoch)<zIB;}}class yM extends AB implements QD{static const String Zb="blacklist";static const String wR="whitelist";static var Uk={"oneMinute":new oG(1),"fiveMinutes":new oG(5),"tenMinutes":new oG(10),"fifteenMinutes":new oG(15),"twentyMinutes":new oG(20),"thirtyMinutes":new oG(30),"hour":new gj(),"twoHours":new oG(120),"threeHours":new oG(180),"fourHours":new oG(240),"sixHours":new oG(360),"twelveHours":new oG(720),"day":new Tj(),"twoDays":new oG(2*24*60),"week":new Jk(),"month":new Ox(),"year":new jx()};static const bk=const['first','last','average','sum','max','min','count','concat','concatUnique'];static List jy=[O('First'),O('Last'),O('Average'),O('Sum'),O('Max'),O('Min'),O('Count'),O('Concat'),O('Concat unique')];static List<H> ly=[new H('input',type:'tabledata'),new H('interval',type:'enum',nullValue:'twentyMinutes',meta:{'enums':const['oneMinute','fiveMinutes','tenMinutes','fifteenMinutes','twentyMinutes','thirtyMinutes','hour','twoHours','threeHours','fourHours','sixHours','twelveHours','day','twoDays','week','month','year'],'enumLabels':[O('One minute'),O('Five minutes'),O('Ten minutes'),O('Fifteen minutes'),O('Twenty minutes'),O('Thirty minutes'),O('Hour'),O('Two hours'),O('Three hours'),O('Four hours'),O('Six hours'),O('Twelve hours'),O('Day'),O('Two days'),O('Week'),O('Month'),O('Year')]}),new H('dateColumn',type:'String'),new H('valueColumn',type:'String'),new H('valueRollup',type:'enum',nullValue:'average',meta:{'enums':bk,'enumLabels':jy}),new H('roundTime',type:'bool',nullValue:false),new H('columnFilterType',type:'enum',nullValue:wR,meta:{'enums':const[Zb,wR],'enumLabels':[O('Blacklist'),O('Whitelist')]}),new H('persistTs',type:'bool'),new H('output',type:'tabledata',readOnly:true)];String get type=>'tableRollup';void e(){M('output',ye());}U ye(){Object G=L('input');if(G is!U){return null;}U B=G;String C=b(L("dateColumn"),"");if(C==""||B.LM(C)<0){return null;}String J=b(L("interval"),"twentyMinutes");if(!Uk.containsKey(J)){return null;}String K=CJ(L("columnFilterType"),[yM.Zb,yM.wR],yM.wR);String N=b(L("valueColumn"),"");if(N==""&&K!=yM.Zb){return null;}bool S=UB(L('persistTs'));List<String> I=N.split(",");I.forEach((String a){if(B.LM(a)<0)return null;});B.g.length;String P=b(L("valueRollup"),"average");if(!bk.contains(P)){return null;}bool j=UB(L("roundTime"),false);List<String> A;if(K==yM.wR){A=I;}else{A=new List();B.g.forEach((V D){if(!I.contains(D.name)&&C!=D.name&&D.name!="row")A.add(D.name);});}U R;try {List q=new List(A.length).join(";").replaceAll('null',P).split(';');R=Hz(G,C,J,A,q,S,roundTime:j);}catch (BB){print(BB);}return R;}static num eb(Object A){if(A is num){return A;}if(A is String){return num.parse(A,(String B)=>double.NAN);}return double.NAN;}static U Hz(U J,String vH,String KF,List<String> BB,List<String> HB,bool uH,{DateTime startDate: null,DateTime endDate: null,bool roundTime: false}){uM a=Uk[KF];List EC=[] ;int C=0;int aB=J.m.length;DateTime K;int q=J.LM(vH);List<int> G;List<num> I;List R;List N;while(C<aB){K=tE(J.m[C][q]);if(K!=null){break;}C++ ;}if(C>=aB){return null;}if(roundTime){K=tz.uz(K,KF);}a.init(K);int j=BB.length;R=new List(j);I=new List<num>.filled(j,0);G=new List<int>.filled(j,0);for(int A=0;A<j;A++ ){int P=J.LM(BB[A]);Object D=J.m[C][P];num S=eb(D);Object B=HB[A];if(B=="first"||B=="last"){R[A]=D;G[A]=-1;}else if(B=="count"){I[A]=D!=null?1:0;G[A]=1;}else if(B=="concat"||B=="concatUnique"){R[A]=D!=null?[D]:[] ;G[A]=-1;}else{if(!S.isNaN){I[A]=S;G[A]=1;}else if(B=="average"){I[A]=0;G[A]=0;}else{I[A]=0;G[A]=1;}}}bool aC=true;N=[] ..addAll(J.m[C]);C++ ;String lB;int YD=0;if(uH&&J.m.length>0){String xB=J.m[C][q];if(xB.length>28){lB=xB.substring(xB.length-6);DateTime GG=tE(xB);DateTime jG=tE(xB.substring(0,23));if(GG!=null&&jG!=null){YD=jG.millisecondsSinceEpoch-GG.millisecondsSinceEpoch;}}}while(C<aB){K=null;while(C<aB){K=tE(J.m[C][q]);if(K!=null){break;}C++ ;}if(K==null){break;}if(a.rK(K)){for(int A=0;A<j; ++A){String B=HB[A];if(B=="first")continue;var P=J.LM(BB[A]);var D=J.m[C][P];if(B=="last"){if(D!=null){R[A]=D;}continue;}if(B=="count"){if(D!=null){I[A]++;}continue;}if(B=="concat"){if(D!=null){(R[A] as List).add(D);}continue;}if(B=="concatUnique"){if(D!=null&&!(R[A] as List).contains(D)){(R[A] as List).add(D);}continue;}num S=eb(D);if(S.isNaN)continue;if(B=="sum"){I[A]+=S;}else if(B=="average"){I[A]+=S;G[A]++;}else if(HB[A]=="max"){if(S>I[A]){I[A]=S;}}else if(HB[A]=="min"){if(S<I[A]){I[A]=S;}}}C++ ;}else{aC=false;if(lB!=null){var xD=a.FO().millisecondsSinceEpoch+YD;N[q]=(new DateTime.fromMillisecondsSinceEpoch(xD)).toIso8601String()+lB;}else{N[q]=a.FO().toIso8601String();}for(int A=0;A<j; ++A){int P=J.LM(BB[A]);switch (G[A]){case 0:N[P]=0;break;case -1:var B=HB[A];if(B=="first"||B=="last"){N[P]=R[A];}else if(B=="concat"||B=="concatUnique"){N[P]=(R[A] as List).join(",");}break;default:N[P]=I[A]/G[A];}}EC.add(N);if(K.millisecondsSinceEpoch<a.FO().millisecondsSinceEpoch){C++ ;bool kG=false;while(C<aB){K=tE(J.m[C][q]);if(K!=null&&K.millisecondsSinceEpoch>a.FO().millisecondsSinceEpoch){kG=true;break;}C++ ;}if(!kG){K=null;break;}}while(!a.rK(K)&&K.millisecondsSinceEpoch>a.FO().millisecondsSinceEpoch){a.lf();}if(a.rK(K)){aC=true;N=[] ..addAll(J.m[C]);R=new List(j);I=new List<num>.filled(j,0);G=new List<int>.filled(j,0);for(int A=0;A<BB.length;A++ ){String B=HB[A];int P=J.LM(BB[A]);Object D=J.m[C][P];num S=eb(D);if(B=="first"||B=="last"){R[A]=D;G[A]=-1;}else if(B=="count"){I[A]=D!=null?1:0;G[A]=1;}else if(B=="concat"||B=="concatUnique"){R[A]=D!=null?[D]:[] ;G[A]=-1;}else{if(!S.isNaN){I[A]=S;G[A]=1;}else if(B=="average"){I[A]=0;G[A]=0;}else{I[A]=0;G[A]=1;}}}C++ ;}else{break;}}}if(aC){aC=false;if(lB!=null){var xD=a.FO().millisecondsSinceEpoch+YD;N[q]=(new DateTime.fromMillisecondsSinceEpoch(xD)).toIso8601String()+lB;}else{N[q]=a.FO().toIso8601String();}for(int A=0;A<j; ++A){int P=J.LM(BB[A]);switch (G[A]){case 0:N[P]=0;break;case -1:var B=HB[A];if(B=="first"||B=="last"){N[P]=R[A];}else if(B=="concat"||B=="concatUnique"){N[P]=(R[A] as List).join(",");}break;default:N[P]=I[A]/G[A];}}EC.add(N);}return EC.length>0?new U(EC,[] ..addAll(J.g)):null;}}class tz{static DateTime uz(DateTime A,String B){switch (B){case "oneMinute":A=IB(A,"second",0.0);A=IB(A,"millisecond",0.0);break;case "fiveMinutes":A=IB(A,"second",0.0);A=IB(A,"millisecond",0.0);A=IB(A,"minute",(A.minute/5).floor()*5);break;case "tenMinutes":A=IB(A,"second",0.0);A=IB(A,"millisecond",0.0);A=IB(A,"minute",(A.minute/10).floor()*10);break;case "fifteenMinutes":A=IB(A,"second",0.0);A=IB(A,"millisecond",0.0);A=IB(A,"minute",(A.minute/15).floor()*15);break;case "twentyMinutes":A=IB(A,"second",0.0);A=IB(A,"millisecond",0.0);A=IB(A,"minute",(A.minute/20).floor()*20);break;case "thirtyMinutes":A=IB(A,"second",0.0);A=IB(A,"millisecond",0.0);A=IB(A,"minute",(A.minute/30).floor()*30);break;case "hour":A=IB(A,"minute",0.0);A=IB(A,"second",0.0);A=IB(A,"millisecond",0.0);break;case "twoHours":A=IB(A,"minute",0.0);A=IB(A,"second",0.0);A=IB(A,"millisecond",0.0);A=IB(A,"hour",(A.hour/2).floor()*2);break;case "threeHours":A=IB(A,"minute",0.0);A=IB(A,"second",0.0);A=IB(A,"millisecond",0.0);A=IB(A,"hour",(A.hour/3).floor()*3);break;case "fourHours":A=IB(A,"minute",0.0);A=IB(A,"second",0.0);A=IB(A,"millisecond",0.0);A=IB(A,"hour",(A.hour/4).floor()*4);break;case "sixHours":A=IB(A,"minute",0.0);A=IB(A,"second",0.0);A=IB(A,"millisecond",0.0);A=IB(A,"hour",(A.hour/6).floor()*6);break;case "twelveHours":A=IB(A,"minute",0.0);A=IB(A,"second",0.0);A=IB(A,"millisecond",0.0);A=IB(A,"hour",(A.hour/12).floor()*12);break;case "day":A=IB(A,"hour",0.0);A=IB(A,"minute",0.0);A=IB(A,"second",0.0);A=IB(A,"millisecond",0.0);break;case "twoDays":A=IB(A,"hour",0.0);A=IB(A,"minute",0.0);A=IB(A,"second",0.0);A=IB(A,"millisecond",0.0);A=IB(A,"day",(A.day/2).floor()*2);break;case "week":A=IB(A,"hour",0.0);A=IB(A,"minute",0.0);A=IB(A,"second",0.0);A=IB(A,"millisecond",0.0);if(A.weekday!=0){A=IB(A,"day",A.day-A.weekday);}break;case "month":A=IB(A,"hour",0.0);A=IB(A,"minute",0.0);A=IB(A,"second",0.0);A=IB(A,"millisecond",0.0);A=IB(A,"day",1.0);break;case "year":A=IB(A,"hour",0.0);A=IB(A,"minute",0.0);A=IB(A,"second",0.0);A=IB(A,"millisecond",0.0);A=IB(A,"day",1.0);A=IB(A,"month",1.0);break;}return A;}static DateTime IB(DateTime A,String D,num B){bool C=A.isUtc;switch (D){case 'millisecond':return C?new DateTime.utc(A.year,A.month,A.day,A.hour,A.minute,A.second,B.toInt()):new DateTime(A.year,A.month,A.day,A.hour,A.minute,A.second,B.toInt());case 'second':return C?new DateTime.utc(A.year,A.month,A.day,A.hour,A.minute,B.toInt(),A.millisecond):new DateTime(A.year,A.month,A.day,A.hour,A.minute,B.toInt(),A.millisecond);case 'minute':return C?new DateTime.utc(A.year,A.month,A.day,A.hour,B.toInt(),A.second,A.millisecond):new DateTime(A.year,A.month,A.day,A.hour,B.toInt(),A.second,A.millisecond);case 'hour':return C?new DateTime.utc(A.year,A.month,A.day,B.toInt(),A.minute,A.second,A.millisecond):new DateTime(A.year,A.month,A.day,B.toInt(),A.minute,A.second,A.millisecond);case 'day':return C?new DateTime.utc(A.year,A.month,B.toInt(),A.hour,A.minute,A.second,A.millisecond):new DateTime(A.year,A.month,B.toInt(),A.hour,A.minute,A.second,A.millisecond);case 'weekday':return C?new DateTime.utc(A.year,A.month,A.day,A.hour,A.minute,A.second,A.millisecond):new DateTime(A.year,A.month,A.day,A.hour,A.minute,A.second,A.millisecond);case 'month':return C?new DateTime.utc(A.year,B.toInt(),A.day,A.hour,A.minute,A.second,A.millisecond):new DateTime(A.year,B.toInt(),A.day,A.hour,A.minute,A.second,A.millisecond);case 'year':return C?new DateTime.utc(B.toInt(),A.month,A.day,A.hour,A.minute,A.second,A.millisecond):new DateTime(B.toInt(),A.month,A.day,A.hour,A.minute,A.second,A.millisecond);}return null;}}class ai extends AB{static List<H> Jv=[new H('input',type:'tabledata'),new H('indexes',type:'string'),new H('output',type:'tabledata',readOnly:true)];String get type=>'tableSelectRows';void e(){Object B=L('input');if(B is U){Object A=L('indexes');List<int> C=[] ;if(A is num&&A.isFinite){C.add(A.round());}else if(A is String){A.split(',').forEach((String J){int G=RF(J);if(G>-1){C.add(G);}});}int K=B.m.length;List I=[] ;for(int D in C){if(D>-1&&D<K){I.add(B.m[D].toList());}}M('output',new U(I,B.g));}else{M('output',null);}}}class Xi extends AB{static List<H> Lv=[new H('input',type:'tabledata'),new H('columns',type:'string'),new H('output',type:'tabledata',readOnly:true)];String get type=>'tableSelectColumns';void e(){Object A=L('input');if(A is U){String N=b(L('columns'),'');List P=N.split(',');Map G={'row':0};List<int> C=[0];for(String B in P){if(A.DC.containsKey(B)&&!G.containsKey(B)){G[B]=A.DC[B];C.add(A.DC[B]);}}List R=C.map((int S){return A.g[S];}).toList();List I=[] ;int J=C.length;for(var a in A.m){List K=new List(J);for(int D=1;D<J; ++D){K[D]=a[C[D]];}I.add(K);}M('output',new U(I,R));}else{M('output',null);}}}class iR extends fB implements QD{static List<H> Bw=[new H('enabled',type:'bool',nullValue:true)];static List<H> Ow=[new H('output',type:'tabledata',readOnly:true)];static H Ww(int A){if((A&1)==1){return new H('${A}',label:'value ${A>>1}',type:'object');}return new H('${A}',label:'name ${A>>1}',type:'string');}List<int> AF(int B){int A=(B|1)-1;NC(A,IE(A));NC(A+1,null);return [A,A+1];}List<int> HF(int B){int A=(B|1)-1;remove(A);remove(A);return [A,A+1];}iR(){}String get type=>'seriesRealtimeRecorder';bool tFB=true;List AJB;bool RB(YB A){if(A.name=='enabled'){tFB=UB(A.value,true);if(tFB){return super.RB(A);}}else if(tFB){int B=RF(A.name);if(B>-1){return super.RB(A);}}return false;}void e(){if(AJB==null){AJB=[U.oF,new V("name"),new V("value")];}int B=CGB;if(B==0){M('output',null);return;}List C=[] ;for(int A=0;A<B;A+= 2){List D=[null,b(s(A)),b(s(A+1))];D.add(s(A));C.add(D);}M('output',new U(C,AJB));}}class ei extends AB implements QD{static const String qi='ascending';static const String xi='descending';static List<H> xv=[new H('input',type:'tabledata'),new H('field',label:'column',type:'string'),new H('method',type:'enum',nullValue:'number',meta:{'enums':const['number','string','mixed'],'enumLabels':[O('Number'),O('String'),O('Mixed')]}),new H('order',type:'enum',nullValue:qi,meta:{'enums':const[qi,xi],'enumLabels':[O('Ascending'),O('Descending')]}),new H('output',type:'tabledata',readOnly:true)];String get type=>'tableSort';void e(){Object A=L('input');if(A is U){Object C=L('field');String D=b(L('method'));bool G=L('order')==xi;if(G){ZU=-1;}else{ZU=1;}if(C is String&&A.DC.containsKey(C)){DO=A.DC[C];List<List<Object>> B=A.m.map((List I)=>I.toList()).toList();if(D=='string'){B.sort(BJB);}else if(D=='mixed'){B.sort(CJB);}else{B.sort(DJB);}M('output',new U(B,A.g));}else{M('output',A);}}else{M('output',null);}}int DO=0;int ZU=1;int BJB(List C,List D){String A=b(C[DO]);String B=b(D[DO]);if(A==null)return 1;if(B==null)return -1;return A.compareTo(B)*ZU;}int DJB(List C,List D){num A=W(C[DO]);num B=W(D[DO]);if(A!=A)return 1;if(B!=B)return -1;return A.compareTo(B)*ZU;}int CJB(List C,List D){String A=b(C[DO]);String B=b(D[DO]);if(A==null)return 1;if(B==null)return -1;return nt.ot(A,B)*ZU;}}class wa extends fB{static List<H> Ov=[new H('table',type:'tabledata'),new H('row',type:'number',meta:{'snapSpeed':1,'snapInterval':1,'precision':0,'minimum':0})];static H Hw(int A){if((A&1)==1){return new H('${A}',label:'value ${A>>1}',type:'object');}return new H('${A}',label:'column ${A>>1}',type:'object');}List<int> AF(int B){int A=(B|1)-1;NC(A,IE(A));NC(A+1,null);return [A,A+1];}List<int> HF(int B){int A=(B|1)-1;remove(A);remove(A);return [A,A+1];}Object IE(int A){return '';}String get type=>'tableRowCells';Set<int> NY=new HashSet<int>();bool RB(YB B){int A=RF(B.name);if(A>-1&&(A&1)==1){NY.add(A);}return super.RB(B);}void e(){Object K=L('table');U B;if(K is U){B=K;}int C=bB(nD(L('row'),-1));List D;Map G;if(B!=null&&C>-1&&C<B.m.length){D=B.m[C];G=B.DC;}if(D!=null){List I;bool N=false;if(B.parent is CE&&!NY.isEmpty){I=D.toList();}for(int A=1;A<CGB;A+= 2){String J=b(s(A-1),'');if(G.containsKey(J)){if(NY.contains(A)&&I!=null){Object R=s(A);I[G[J]]=R;N=true;}else{rB('${A}',D[G[J]]);}}else{rB('${A}',null);}}if(N){CE P=B.parent;B.m[C]=I;P.o('data',new U(B.m,B.g,-1,P));}}else{for(int A=1;A<CGB;A+= 2){rB('${A}',null);}}NY.clear();}}class Ni extends AB implements QD{static List<H> ev=[new H('input',type:'tabledata'),new H('ignoreColumns',type:'string'),new H('headerColumn',type:'string'),new H('includeHeaders',type:'bool'),new H('headerPrefix',type:'string'),new H('output',type:'tabledata',readOnly:true)];String get type=>'tableTranspose';void e(){Object A=L('input');if(A!=null&&A is U){List<String> J=[] ;String P=b(L('ignoreColumns'));if(P!=null){J=P.split(',');}String B=b(L('headerColumn'));int K=-1;if(B!=null&&A.DC.containsKey(B)){K=A.DC[B];J.add(B);}bool R=UB(L('includeHeaders'));String a=b(L('headerPrefix'),'');List<V> C=[U.oF];List<List<Object>> D=[] ;int N=0;if(R){C.add(new V('headers'));}for(int G=0;G<A.m.length;G++ ){if(K>-1){C.add(new V(b(A.m[G][K])));}else{C.add(new V(a+G.toString()));}}int S;for(V I in A.g){if(J.contains(I.name)||I.name=='row'){continue;}D.add([null]);if(R){D[N].add(I.name);}S=A.DC[I.name];for(List<Object> j in A.m){D[N].add(j[S]);}N++ ;}M('output',new U(D,C));}else{M('output',null);}}}class YV extends fB implements QD{static List<H> lv=[new H('enabled',type:'bool',nullValue:true),new H('bufferSize',type:'number',nullValue:0),new H('ignoreNullValue',type:'bool'),new H('reset',type:'trigger')];static List<H> Tw=[new H('output',type:'tabledata',readOnly:true)];static H bw(int A){if((A&1)==1){return new H('${A}',label:'value ${A>>1}',type:'object');}return new H('${A}',label:'name ${A>>1}',type:'string');}List<int> AF(int B){int A=(B|1)-1;NC(A,IE(A));NC(A+1,null);return [A,A+1];}List<int> HF(int B){int A=(B|1)-1;remove(A);remove(A);return [A,A+1];}int bufferSize=0;bool Pr=false;bool tFB=true;bool RB(YB A){if(A.name=='enabled'){tFB=UB(A.value,true);if(tFB){return super.RB(A);}}else if(A.name=='bufferSize'){bufferSize=nD(A.value,0);}else if(A.name=='ignoreNullValue'){Pr=UB(A.value);}else if(A.name=='reset'&&TB.YE(A.value)){EJB.clear();FJB=false;return super.RB(A);}else{int B=RF(A.name);if(B>-1){if(B&1==0){GJB=true;if(tFB)return super.RB(A);}else if(!Pr||A.value!=null){FJB=true;if(tFB)return super.RB(A);}}}return false;}String get type=>'realtimeRecorder';bool GJB=false;bool FJB=false;List EJB=[] ;List AJB;void e(){if(GJB){AJB=[U.oF,U.u2];for(int A=0;A<CGB;A+= 2){String B=b(s(A));if(B==null||B==''){AJB=null;break;}AJB.add(new V(B));}}if(AJB==null){M('output',null);FJB=false;return;}if(FJB){List C=[null,(new DateTime.now()).toIso8601String()];for(int A=1;A<CGB;A+= 2){C.add(s(A));}EJB.add(C);if(bufferSize>0&&EJB.length>bufferSize){EJB=EJB.sublist(EJB.length-bufferSize);}}M('output',new U(EJB,AJB));}}class uO extends AE{static List<H> nv=[new H('!uid',showInBlock:false,showInPI:false,type:'number'),new H('color',label:O("Color"),type:'color',nullValue:0x888888),new H('alpha',label:O("Alpha"),type:'number',nullValue:100,meta:{'valueScale':100.0,'snapSpeed':0.01,'snapInterval':0.01,'minimum':0.0,'maximum':1.0,'postfix':"%"}),new H('x',type:'number',nullValue:0,meta:{'snapInterval':1.0,'snapSpeed':1}),new H('y',type:'number',nullValue:0,meta:{'snapInterval':1.0,'snapSpeed':1}),new H('blur',label:O("Blur"),type:'number',nullValue:10,meta:{'snapInterval':1.0,'minimum':0.0,'maximum':100.0}),new H('spread',label:O("Spread"),type:'number',nullValue:0,meta:{'snapInterval':1.0,'minimum':-100.0,'maximum':100.0}),new H('inset',label:O("Inset"),type:'bool',meta:{"trueLabel":"","falseLabel":""})];String FD()=>'boxShadow';String eQ()=>'boxShadow';List<H> nC()=>uO.nv;uO(){}String toString(){return '${UB(L('inset'),false)?'inset ':''}${W(L('x'),0)}px ${W(L('y'),0)}px  ${W(L('blur'),10)}px  ${W(L('spread'),0)}px ${PP((L('color')!=null?L('color'):0x888888),L('alpha'))}';}}class Fx extends sR{String get type=>'shadows';void JU(List C){LE(C.length);for(int B=0;B<C.length; ++B){Object A=C[B];if(A!=null){if(A is Map<String,Object>){if(A.containsKey("type")){qJ(B,kb.FW(A,JGB));}else{qJ(B,Pk(A,JGB));}}else if(A is List&&A.length==1){fZ(B,A[0]);}}}}void LU(List C){LE(C.length);for(int A=0;A<C.length; ++A){Object B=C[A];if(B is Map<String,Object>){Object D=s(A);if(D is uO){D.WD(B);}else{if(B.containsKey("type")){qJ(A,kb.FW(B,JGB));}else{qJ(A,Pk(B,JGB));}}}else{QGB(A,true).WD(B);}}}static uO Pk(Map<String,Object> B,Q C){uO A=new uO();A.JGB=C;A.JE(B);return A;}}class PF{static int xu=0xffffff;int GF=0;int CF=0;int dD=0;num eE=1;PF.DCB(String A){if(A==null){GF=0;CF=0;dD=0;return;}if(A.startsWith("0x")){A=A.substring(2);HJB(A);}else if(A.startsWith("#")){A=A.substring(1);HJB(A);}else if(A.contains(",")){A=A.substring(A.indexOf("(")+1,A.length-1);List<String> B=A.split(",");if(B.length<3){GF=0;CF=0;dD=0;return;}GF=nD(B[0],0);CF=nD(B[1],0);dD=nD(B[2],0);if(B.length==4){eE=double.parse(B[3]);}GF=wH.max(0,wH.min(255,GF));CF=wH.max(0,wH.min(255,CF));dD=wH.max(0,wH.min(255,dD));eE=wH.max(0,wH.min(1,eE));}}PF.ECB(int A,[num B=null]){this.GF=(A>>16)&0x0ff;this.CF=(A>>8)&0x0ff;this.dD=(A)&0x0ff;if(B!=null)eE=B;}PF.GCB(this.GF,this.CF,this.dD,this.eE);void HJB(String A){if(A.length==3){var B=A.substring(0,1);var C=A.substring(1,2);var D=A.substring(2,3);A="${B}${B}${C}${C}${D}${D}";}else if(A.length<6){const List<String> G=const['000000','00000','0000','000','00','0'];A='${G[A.length]}${A}';}else if(A.length>6){A=A.substring(A.length-6);}var I=A.substring(0,2);var J=A.substring(2,4);var K=A.substring(4,6);GF=int.parse("0x${I}");CF=int.parse("0x${J}");dD=int.parse("0x${K}");}int toInt()=>(((GF&0x0ff)<<16)|((CF&0x0ff)<<8)|(dD&0x0ff));String toString(){if(eE<1){return 'rgba(${GF},${CF},${dD},${eE})';}return 'rgb(${GF},${CF},${dD})';}String eAB(){var A=((1<<24)+(GF<<16)+(CF<<8)+dD).toRadixString(16);if(A.length>6){A=A.substring(1,7);}return "#"+A;}PF operator*(num A){return new PF.GCB((GF*A).toInt(),(CF*A).toInt(),(dD*A).toInt(),eE*A);}PF operator+(PF A){return new PF.GCB(GF+A.GF,CF+A.CF,dD+A.dD,eE+A.eE);}PF operator-(PF A){return new PF.GCB(GF-A.GF,CF-A.CF,dD-A.dD,eE-A.eE);}}class TB implements hC{static int ji=0;void JY(void A(Iterable<String> props)){}void XZ(void A(Iterable<String> props)){}Object GO(String A){return null;}void nU(String A,Object B){}String eQ(){return null;}void o(String A,Object B){}void rB(String A,Object B){}void ZC(String A,String B){}void gU(){}void sU(){}Object L(String A){if(A=='eid'){return Tf;}if(A=='event'){return XY;}return null;}String FD()=>'event';String XY;int Tf;TB(this.XY):Tf=ji++ ;TB fI(){return new TB(XY);}static int aj=-1;static bool YE(Object A){if(A==null){return false;}if(A is TB){return A.Tf>aj;}return true;}static int Jx(){return ji-1;}static void Mx(int A){aj=A;}}class KL extends TB implements zI{KL([this.IJB=false]):super('invoke');bool IJB=false;bool get Wr=>IJB;TB fI(){return new KL(true);}Object zB(){if(IJB){return {'@type':'invoke','temp':true};}return {'@type':'invoke'};}void JE(Map<String,Object> A){IJB=UB(A['temp']);}}class yj extends AB{static List<H> ax=[new H('input',type:'object'),new H('active',type:'bool',nullValue:true),new H('fastResponse',type:'bool',showInBlock:false,help:O('make this event respond as fast as possible, which could cause other actions to be delayed to next frame.')),new H('preventDefault',type:'bool',showInBlock:false),new H('stopPropagation',type:'bool',showInBlock:false),new H('event',type:'string',readOnly:true),new H('x',type:'number',readOnly:true),new H('y',type:'number',readOnly:true),new H('pageX',type:'number',readOnly:true,showInBlock:false),new H('pageY',type:'number',readOnly:true,showInBlock:false),new H('dragData',type:'object',readOnly:true,showInBlock:false),new H('dragSource',type:'object',readOnly:true,showInBlock:false),new H('fileName',type:'string',readOnly:true,showInBlock:false)];String get type=>'mouseEventData';bool gU=false;bool sU=false;bool RB(YB B){if(B.name=='input'){Object A=B.value;if(A is hC&&UB(L('active'),true)){if(A is TB){if(sU){A.sU();}if(gU){A.gU();}}M('event',A.L('event'));M('x',A.L('x'));M('y',A.L('y'));M('pageX',A.L('pageX'));M('pageY',A.L('pageY'));M('dragData',A.L('dragData'));M('dragSource',A.L('dragSource'));M('fileName',A.L('fileName'));if(!zD.xJ&&L('fastResponse')==true){zD.wV();}}}if(B.name=='preventDefault'){gU=UB(B.value);}if(B.name=='stopPropagation'){sU=UB(B.value);}if(B.name=='active'){}return false;}}class Vk extends AB{static List<H> Wy=[new H('input',type:'object'),new H('active',type:'bool',nullValue:true),new H('fastResponse',type:'bool',showInBlock:false,help:O('make this event respond as fast as possible, which could cause other actions to be delayed to next frame.')),new H('event',type:'string',readOnly:true),new H('keyCode',type:'number',readOnly:true),new H('ctrl',type:'bool',readOnly:true),new H('alt',type:'bool',readOnly:true),new H('shift',type:'bool',readOnly:true),new H('meta',type:'bool',readOnly:true),new H('filter',type:'string'),new H('output',type:'event')];String get type=>'keyboardEventData';cb JJB;bool RB(YB B){if(B.name=='active'){return false;}if(B.name=='input'){Object A=B.value;if(A is TB&&UB(L('active'),true)){M('event',A.L('event'));Object D=A.L('keyCode');Object G=A.L('ctrl');Object I=A.L('alt');Object J=A.L('shift');Object K=A.L('meta');M('keyCode',D);M('ctrl',G);M('alt',I);M('shift',J);M('meta',K);if(JJB!=null&&JJB.F_(D,G==true,I==true,J==true,K==true)){M('output',A);A.gU();A.sU();}else{M('output',null);}if(!zD.xJ&&L('fastResponse')==true){zD.wV();}}}else if(B.name=='filter'){String C=b(L('filter'));if(C==''||C==null){JJB=null;}else{JJB=new cb(C);}}return false;}}class cb{static Map<String,int> BW={'enter':13,'left':37,'up':38,'right':39,'down':40,'space':32,'esc':27,'backspace':8};static Map<String,int> db={};static bool gk=false;static void sy(){gk=true;for(int A=65;A<91; ++A){db[new String.fromCharCode(A)]=A;BW[new String.fromCharCode(A+32)]=A;}for(int A=48;A<59; ++A){BW[new String.fromCharCode(A)]=A;}}cb(String B){if(!gk){sy();}List C=B.split('+');for(String A in C){if(A.length>1){A=A.toLowerCase();}if(A=='ctrl')Yq=true;else if(A=='alt')vp=true;else if(A=='shift')yg=true;else if(A=='meta')meta=true;else if(BW.containsKey(A)){zY=BW[A];}else if(db.containsKey(A)){zY=db[A];yg=true;}}}int zY=0;bool Yq=false;bool vp=false;bool yg=false;bool meta=false;bool F_(Object A,bool B,bool C,bool D,bool G){if(B!=this.Yq||C!=this.vp||D!=this.yg||G!=this.meta){return false;}if(this.zY==0&&(A==16||A==17||A==18)){return true;}return A==this.zY;}}class mk extends AB{static List<H> Fz=[new H('input',type:'object'),new H('active',type:'bool',nullValue:true),new H('fastResponse',type:'bool',showInBlock:false,help:O('make this event respond as fast as possible, which could cause other actions to be delayed to next frame.')),new H('event',type:'string',readOnly:true),new H('scrollLeft',type:'number',readOnly:true),new H('scrollTop',type:'number',readOnly:true),new H('scrollLeftMax',type:'number',readOnly:true,showInBlock:false),new H('scrollTopMax',type:'number',readOnly:true,showInBlock:false)];String get type=>'scrollEventData';bool RB(YB B){if(B.name=='active'){return false;}if(B.name=='input'){Object A=B.value;if(A is hC&&UB(L('active'),true)){M('event',A.L('event'));M('scrollLeft',A.L('scrollLeft'));M('scrollTop',A.L('scrollTop'));M('scrollLeftMax',A.L('scrollLeftMax'));M('scrollTopMax',A.L('scrollTopMax'));if(!zD.xJ&&L('fastResponse')==true){zD.wV();}}}return false;}}class pk extends AB{static List<H> Iz=[new H('input',type:'object'),new H('active',type:'bool',nullValue:true),new H('fastResponse',type:'bool',showInBlock:false,help:O('make this event respond as fast as possible, which could cause other actions to be delayed to next frame.')),new H('event',type:'string',readOnly:true),new H('offsetWidth',type:'number',readOnly:true),new H('offsetHeight',type:'number',readOnly:true),new H('clientWidth',type:'number',readOnly:true,showInBlock:false),new H('clientHeight',type:'number',readOnly:true,showInBlock:false)];String get type=>'resizeEventData';bool RB(YB B){if(B.name=='active'){return false;}if(B.name=='input'){Object A=B.value;if(A is hC&&UB(L('active'),true)){M('event',A.L('event'));M('offsetWidth',A.L('offsetWidth'));M('offsetHeight',A.L('offsetHeight'));M('clientWidth',A.L('clientWidth'));M('clientHeight',A.L('clientHeight'));if(!zD.xJ&&L('fastResponse')==true){zD.wV();}}}return false;}}class BE extends AE{static List<H> vv=[new H('color',type:'color',showInBlock:false),new H('ratio',showInBlock:false,type:'number',nullValue:0,meta:{'snapInterval':1.0,'minimum':0.0,'maximum':100.0,'postfix':'%'}),new H('alpha',showInBlock:false,type:'number',nullValue:100,meta:{'valueScale':100.0,'snapSpeed':0.01,'snapInterval':0.01,'minimum':0.0,'maximum':1.0,'postfix':"%"})];String FD()=>'gradientStop';String eQ()=>'gradientStop';BE(){}BE.BCB(Object A,num B,num C){if(A is PF){o('color',A.eAB());}else{o('color',A);};o('alpha',B);o('ratio',C);}int get w7{Object A=L('color');if(A is int){return A;}if(A is String){return new PF.DCB(A).toInt();}return OP(NP(A),PF.xu);}num get rH=>W(L("ratio"),0);String Fh(){return PP(NP(L('color')),L('alpha'));}String toString(){return '${PP(NP(L('color')),L('alpha'))} ${rH}%';}BE fI(){return new BE.BCB(w7,L("alpha"),rH);}}class UH extends sR{static UH get gx{UH A=new UH();A.dI(new BE.BCB(new PF.ECB(0x000000),1,0));A.dI(new BE.BCB(new PF.ECB(0xffffff),1,100));return A;}String get type=>'gradient';String toString(){List<String> B=new List<String>();List D=rJ()..sort(Kk);for(int A=0;A<CGB; ++A){Object C=D[A];if(C!=null){B.add('${C}');}}return B.join(',');}static int Kk(Object A,Object B){if(A is BE&&B is BE){if(A.rH>B.rH){return 1;}if(A.rH<B.rH){return -1;}}return 0;}String dQ(num D){if(CGB<1){return '';}if(CGB==1){return (s(0) as BE).Fh();}BE A;BE B;List G=rJ()..sort(Kk);if(D<=0){return G.first.Fh();}if(D>=100){return G.last.Fh();}for(BE C in G){if(C!=null){if(C.rH==D){A=C;break;}if(C.rH<D){A=C;}else if(C.rH>D){B=C;break;}}}if(A!=null&&B==null){return PP(A.L('color'),A.L('alpha'));}if(A==null&&B!=null){return PP(B.L('color'),B.L('alpha'));}if(A!=null&&B!=null){return y2(OP(A.L('color')),OP(B.L('color')),W(A.L('alpha'),1),W(B.L('alpha'),1),(D-A.rH)/(B.rH-A.rH));}return '';}void JU(List C){LE(C.length);for(int B=0;B<C.length; ++B){Object A=C[B];if(A!=null){if(A is Map<String,Object>){qJ(B,ck(A));}else if(A is List&&A.length==1){fZ(B,A[0]);}}}}void LU(List C){LE(C.length);for(int A=0;A<C.length; ++A){Object B=C[A];if(B is Map<String,Object>){Object D=s(A);if(D is BE){D.WD(B);}else{qJ(A,ck(B));}}else{QGB(A,true).WD(B);}}}static BE ck(Map<String,Object> B){BE A=new BE();A.JE(B);return A;}}class dR extends AE{String FD()=>'pathCommand';dR(){}String HDB;num MDB;num PDB;num NDB;num QDB;num ODB;num RDB;String toString(){String A=b(L('c'));if(A=='L'||A=='l'||A=='M'||A=='m'){return '${A} ${W(L('x'),0)} ${W(L('y'),0)} ';}if(A=='C'||A=='c'){return '${A} ${W(L('x1'),0)} ${W(L('y1'),0)} ${W(L('x2'),0)} ${W(L('y2'),0)} ${W(L('x'),0)} ${W(L('y'),0)} ';}if(A=='Z'||A=='z'){return A;}return '';}}class My extends sR{String get type=>'path';double KDB;double LDB;double IDB;double JDB;double KJB;double LJB;String toString(){return rJ().join();}void JU(List C){LE(C.length);for(int B=0;B<C.length; ++B){Object A=C[B];if(A!=null){if(A is Map<String,Object>){qJ(B,ik(A));}else if(A is List&&A.length==1){fZ(B,A[0]);}}}}void LU(List C){LE(C.length);for(int A=0;A<C.length; ++A){Object B=C[A];if(B is Map<String,Object>){Object D=s(A);if(D is dR){D.WD(B);}else{qJ(A,ik(B));}}else{QGB(A,true).WD(B);}}}static dR ik(Map<String,Object> B){dR A=new dR();A.JE(B);return A;}}abstract class XV{}class AE extends AB implements XV,pb{AE([String A]):super(){dGB=A;}bool RB(YB A){if(DGB!=null&&DGB.OGB){DGB.VM(yFB,TGB);}if(TGB!=null){TGB.iF(true);}return false;}Object Er(){if(TGB==null){return this;}return pE(this.zB(),root:this.sH);}}class sR extends uV implements XV{sR([String A,bool B=false]):super(B){dGB=A;}bool RB(YB A){if(DGB!=null&&DGB.OGB){DGB.VM(yFB,TGB);}if(TGB!=null){TGB.iF(true);}return false;}void LE(int A){bool B=(CGB!=A);super.LE(A);if(B){if(DGB!=null&&DGB.OGB){DGB.VM(yFB,TGB);}if(TGB!=null){TGB.iF(true);}}}}class Sb{static List<H> Ix=[new H('gradientShapeCircle',type:'bool',showInBlock:false,meta:{'trueLabel':O('Circle'),'falseLabel':O('Ellipse'),'placeLabelRight':true}),new H('gradientSize',type:'enum',nullValue:'absolute',meta:{'enums':const['absolute','farthest-corner','closest-side','farthest-side','closest-corner'],'enumLabels':[O('Absolute'),O('Farthest corner'),O('Closest side'),O('Farthest side'),O('Closest corner')]},showInBlock:false),new H('gradientCenterX',type:'cssLayout',nullValue:'50%',showInBlock:false,meta:{'snapInterval':1.0,'snapSpeed':1.0,'minimum':0.0}),new H('gradientCenterY',type:'cssLayout',nullValue:'50%',showInBlock:false,meta:{'snapInterval':1.0,'snapSpeed':1.0,'minimum':0.0}),new H('gradientSizeX',type:'cssLayout',nullValue:'50%',showInBlock:false,meta:{'snapInterval':1.0,'snapSpeed':1.0,'minimum':0.0}),new H('gradientSizeY',type:'cssLayout',nullValue:'50%',showInBlock:false,meta:{'snapInterval':1.0,'snapSpeed':1.0,'minimum':0.0})];static List<H> nx=[new H('gradientType',type:'options',showInBlock:false,nullValue:'linear',meta:{'options':const['linear','radial'],'labelClasses':const["dgIcon-icn-pi-fill-gradient colorTypesLinearGradient","dgIcon-icn-pi-fill-radial-gradient colorTypesRadialGradient"],'toolTips':[O('Linear Gradient'),O('Radial Gradient')]}),new H('color',type:'color',showInBlock:false,meta:{'dotTop':'10px','dotRight':'50px'}),new H('angle',showInBlock:false,type:'number',nullValue:0,meta:{'snapInterval':1.0,'minimum':-180.0,'maximum':180.0,'snapSpeed':1.0,'postfix':new String.fromCharCode(176)}),new H('gradient',type:'gradientList',nullValue:pE(UH.gx.zB())),new H('tilingOpt',type:'tiling',meta:{'scale9':true,'angled':false,'isBorder':false}),new H('url',type:'path'),new H('opacity',showInBlock:false,type:'number',nullValue:100,meta:{'valueScale':100.0,'snapSpeed':0.01,'snapInterval':0.01,'minimum':0.0,'maximum':1.0}),new H('fillType',type:'options',showInBlock:false,nullValue:'noFill',meta:{'options':const['noFill','solid','image'],'labelClasses':const["dgIcon-icn-pi-fill-none","dgIcon-icn-pi-fill-solid","dgIcon-icn-pi-fill-bmp"],'toolTips':[O('No Fill'),O('Solid Color'),O('Image')]})]..addAll(Ix);static List<H> Jy=[new H('borderLeft',type:'fill',showInBlock:false),new H('borderRight',type:'fill',showInBlock:false),new H('borderTop',type:'fill',showInBlock:false),new H('borderBottom',type:'fill',showInBlock:false),new H('color',type:'color',showInBlock:false),new H('opacity',type:'number',nullValue:100,meta:{'valueScale':100.0,'snapSpeed':0.01,'snapInterval':0.01,'minimum':0.0,'maximum':1.0,'postfix':"%"}),new H('width',type:'number'),new H('style',type:'enum',nullValue:'solid',meta:{'enums':['none','hidden','dotted','dashed','solid','double','groove','ridge','inset','outset','dotted solid double dashed','dotted solid'],'enumLabels':[O('None'),O('Hidden'),O('Dotted'),O('Dashed'),O('Solid'),O('Double'),O('Groove'),O('Ridge'),O('Inset'),O('Outset'),O('Dotted solid double dashed'),O('Dotted solid')]})];static List<H> cy=[new H('mode',type:'enum',showInBlock:false,nullValue:'distantLight',meta:{'enums':const['distantLight','pointLight','spotLight'],'enumLabels':[O('Distant light'),O('Point light'),O('Spot light')]}),new H('azimuth',type:'number',nullValue:0,meta:{'valueScale':1.0,'snapSpeed':1,'snapInterval':1,'minimum':0.0,'maximum':360.0,'postfix':"deg"}),new H('elevation',type:'number',nullValue:0,meta:{'valueScale':1.0,'snapSpeed':1,'snapInterval':1,'minimum':0.0,'maximum':360.0,'postfix':"deg"}),new H('x',type:'number',nullValue:0),new H('y',type:'number',nullValue:0),new H('z',type:'number',nullValue:0),new H('pointsAtX',type:'number',nullValue:0),new H('pointsAtY',type:'number',nullValue:0),new H('pointsAtZ',type:'number',nullValue:0),new H('specularExponent',type:'number',nullValue:1),new H('limitingConeAngle',type:'number',nullValue:0,meta:{'valueScale':1.0,'snapSpeed':1,'snapInterval':1,'minimum':0.0,'maximum':360.0,'postfix':"deg"})];}class fR extends AE{static final List<H> QF=[new H('x',label:'x',type:'cssLayout',nullValue:0.0,meta:{'minimum':0.0}),new H('y',label:'y',type:'cssLayout',nullValue:0.0,meta:{'minimum':0.0}),new H('width',label:O('Width'),type:'cssLayout',nullValue:'100%',meta:{'minimum':0.0}),new H('height',label:O('Height'),type:'cssLayout',nullValue:'100%',meta:{'minimum':0.0})];static Map<String,List<H>> Wj={'invert':[new H('!uid',showInBlock:false,showInPI:false,type:'number'),new H('ratio',label:O('Ratio'),type:'number',nullValue:0,meta:{'valueScale':1.0,'snapSpeed':1,'snapInterval':1,'minimum':0.0,'maximum':100.0,'postfix':"%"})],'sepia':[new H('!uid',showInBlock:false,showInPI:false,type:'number'),new H('ratio',label:O('Ratio'),type:'number',nullValue:0,meta:{'valueScale':1.0,'snapSpeed':1,'snapInterval':1,'minimum':0.0,'maximum':100.0,'postfix':"%"})],'grayscale':[new H('!uid',showInBlock:false,showInPI:false,type:'number'),new H('ratio',label:O('Ratio'),type:'number',nullValue:0,meta:{'valueScale':1.0,'snapSpeed':1,'snapInterval':1,'minimum':0.0,'maximum':100.0,'postfix':"%"})],'brightness':[new H('!uid',showInBlock:false,showInPI:false,type:'number'),new H('ratio',label:O('Ratio'),type:'number',nullValue:100,meta:{'valueScale':1.0,'snapSpeed':1,'snapInterval':1,'minimum':0.0,'maximum':1000.0,'postfix':"%"})],'blur':[new H('!uid',showInBlock:false,showInPI:false,type:'number'),new H('size',label:O('Size'),type:'number',nullValue:0,meta:{'postfix':"px"})],'contrast':[new H('!uid',showInBlock:false,showInPI:false,type:'number'),new H('ratio',label:O('Ratio'),type:'number',nullValue:100,meta:{'valueScale':1.0,'snapSpeed':1,'snapInterval':1,'minimum':0.0,'maximum':1000.0,'postfix':"%"})],'huerotate':[new H('!uid',showInBlock:false,showInPI:false,type:'number'),new H('ratio',label:O('Ratio'),type:'number',nullValue:0,meta:{'valueScale':1.0,'snapSpeed':1,'snapInterval':1,'minimum':0.0,'maximum':360.0,'postfix':new String.fromCharCode(176)})],'saturate':[new H('!uid',showInBlock:false,showInPI:false,type:'number'),new H('ratio',label:O('Ratio'),type:'number',nullValue:100,meta:{'valueScale':1.0,'snapSpeed':1,'snapInterval':1,'minimum':0.0,'maximum':1000.0,'postfix':"%"})],'textShadow':[new H('!uid',showInBlock:false,showInPI:false,type:'number'),new H('color',label:O('Color'),type:'color',nullValue:0x888888,meta:{'dotTop':'10px'}),new H('x',type:'number',nullValue:0,meta:{'snapInterval':1.0,'snapSpeed':1}),new H('y',type:'number',nullValue:0,meta:{'snapInterval':1.0,'snapSpeed':1}),new H('blur',label:O('Blur'),type:'number',nullValue:10,meta:{'snapInterval':1.0,'minimum':0.0,'maximum':100.0})],'dropShadow':[new H('!uid',showInBlock:false,showInPI:false,type:'number'),new H('color',label:O('Color'),type:'color',nullValue:0x888888,meta:{'dotTop':'10px'}),new H('x',type:'number',nullValue:0,meta:{'snapInterval':1.0,'snapSpeed':1}),new H('y',type:'number',nullValue:0,meta:{'snapInterval':1.0,'snapSpeed':1}),new H('blur',label:O('Blur'),type:'number',nullValue:10,meta:{'snapInterval':1.0,'minimum':0.0,'maximum':100.0})],'svgBlend':[] ..addAll(QF)..addAll([new H('!uid',showInBlock:false,showInPI:false,type:'number'),new H('mode',label:O('Mode'),type:'enum',nullValue:'normal',meta:{'enums':const['normal','multiply','screen','darken','lighten']}),new H('in',type:'editableEnum',nullValue:'',meta:{'enums':new List()..addAll(['SourceGraphic','SourceAlpha','BackgroundImage','BackgroundAlpha','FillPaint','StrokePaint'])}),new H('in2',type:'editableEnum',nullValue:'',meta:{'enums':new List()..addAll(['SourceGraphic','SourceAlpha','BackgroundImage','BackgroundAlpha','FillPaint','StrokePaint'])}),new H('result',label:O('Result'),type:'string')]),'svgBlur':[] ..addAll(QF)..addAll([new H('!uid',showInBlock:false,showInPI:false,type:'number'),new H('sizeX',label:O('Size X'),type:'number',nullValue:0,meta:{'minimum':0.0,'postfix':"px"}),new H('sizeY',label:O('Size Y'),type:'number',nullValue:0,meta:{'minimum':0.0,'postfix':"px"}),new H('in1',type:'editableEnum',nullValue:'',meta:{'enums':new List()..addAll(['SourceGraphic','SourceAlpha','BackgroundImage','BackgroundAlpha','FillPaint','StrokePaint'])}),new H('result',label:O('Result'),type:'string')]),'svgColorMatrix':[] ..addAll(QF)..addAll([new H('!uid',showInBlock:false,showInPI:false,type:'number'),new H('mode',label:O('Mode'),type:'enum',nullValue:'matrix',meta:{'enums':const['matrix','saturate','hueRotate','luminanceToAlpha']}),new H('matrix',label:O('Matrix'),type:'string',nullValue:'1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 1 0'),new H('angle',label:O('Angle'),type:'number',nullValue:0,meta:{'valueScale':1.0,'snapSpeed':1,'snapInterval':1,'minimum':0.0,'maximum':360.0,'postfix':new String.fromCharCode(176)}),new H('saturation',label:O('Saturation'),type:'number',nullValue:100,meta:{'valueScale':1.0,'snapSpeed':1,'snapInterval':1,'minimum':0.0,'maximum':100.0,'postfix':"%"}),new H('in',type:'editableEnum',nullValue:'',meta:{'enums':new List()..addAll(['SourceGraphic','SourceAlpha','BackgroundImage','BackgroundAlpha','FillPaint','StrokePaint'])}),new H('result',label:O('Result'),type:'string')]),'svgFlood':[] ..addAll(QF)..addAll([new H('!uid',showInBlock:false,showInPI:false,type:'number'),new H('color',label:O('Color'),type:'color',nullValue:0),new H('opacity',label:O('Opacity'),type:'number',nullValue:1,meta:{'snapInterval':0.01,'minimum':0.0,'maximum':1.0}),new H('result',label:O('Result'),type:'string')]),'svgOffset':[] ..addAll(QF)..addAll([new H('!uid',showInBlock:false,showInPI:false,type:'number'),new H('dx',type:'number',nullValue:0,meta:{'postfix':"px"}),new H('dy',type:'number',nullValue:0,meta:{'postfix':"px"}),new H('in',type:'editableEnum',nullValue:'',meta:{'enums':new List()..addAll(['SourceGraphic','SourceAlpha','BackgroundImage','BackgroundAlpha','FillPaint','StrokePaint'])}),new H('result',label:O('Result'),type:'string')]),'svgMerge':[] ..addAll(QF)..addAll([new H('!uid',showInBlock:false,showInPI:false,type:'number'),new H('ins',type:'list',meta:{'editorType':'editableEnum','enums':new List()..addAll(['SourceGraphic','SourceAlpha','BackgroundImage','BackgroundAlpha','FillPaint','StrokePaint'])})]),'svgComposite':[] ..addAll(QF)..addAll([new H('!uid',showInBlock:false,showInPI:false,type:'number'),new H('in',type:'editableEnum',nullValue:'',meta:{'enums':new List()..addAll(['SourceGraphic','SourceAlpha','BackgroundImage','BackgroundAlpha','FillPaint','StrokePaint'])}),new H('in2',type:'editableEnum',nullValue:'',meta:{'enums':new List()..addAll(['SourceGraphic','SourceAlpha','BackgroundImage','BackgroundAlpha','FillPaint','StrokePaint'])}),new H('result',label:O('Result'),type:'string'),new H('operator',label:O('Operator'),type:'enum',nullValue:'over',meta:{'enums':const['over','in','out','atop','xor','arithmetic']}),new H('k1',type:'number',nullValue:0,meta:{'minimum':0.0}),new H('k2',type:'number',nullValue:0,meta:{'minimum':0.0}),new H('k3',type:'number',nullValue:0,meta:{'minimum':0.0}),new H('k4',type:'number',nullValue:0,meta:{'minimum':0.0})]),'svgMorphology':[] ..addAll(QF)..addAll([new H('!uid',showInBlock:false,showInPI:false,type:'number'),new H('in',type:'editableEnum',nullValue:'',meta:{'enums':new List()..addAll(['SourceGraphic','SourceAlpha','BackgroundImage','BackgroundAlpha','FillPaint','StrokePaint'])}),new H('result',label:O('Result'),type:'string'),new H('operator',label:O('Operator'),type:'enum',nullValue:'erode',meta:{'enums':const['erode','dilate']}),new H('rx',type:'number',nullValue:0,meta:{'minimum':0.0}),new H('ry',type:'number',nullValue:0,meta:{'minimum':0.0})]),'svgTile':[] ..addAll(QF)..addAll([new H('!uid',showInBlock:false,showInPI:false,type:'number'),new H('in',type:'editableEnum',nullValue:'',meta:{'enums':new List()..addAll(['SourceGraphic','SourceAlpha','BackgroundImage','BackgroundAlpha','FillPaint','StrokePaint'])}),new H('result',label:O('Result'),type:'string')]),'svgTurbulence':[] ..addAll(QF)..addAll([new H('!uid',showInBlock:false,showInPI:false,type:'number'),new H('result',label:O('Result'),type:'string'),new H('baseFrequencyX',label:O('Base Frequency X'),type:'number',nullValue:0,meta:{'minimum':0.0}),new H('baseFrequencyY',label:O('Base Frequency Y'),type:'number',nullValue:0,meta:{'minimum':0.0}),new H('numOctaves',label:O('Num Octaves'),type:'number',nullValue:1,meta:{'snapInterval':1.0,'minimum':0.0}),new H('seed',type:'number',nullValue:0,meta:{'minimum':0.0}),new H('stitchTiles',label:O('Stich Tiles'),type:'enum',nullValue:'noStitch',meta:{'enums':const['stitch','noStitch']}),new H('mode',label:O('Mode'),type:'enum',nullValue:'turbulence',meta:{'enums':const['fractalNoise','turbulence']})]),'svgDisplacementMap':[] ..addAll(QF)..addAll([new H('!uid',showInBlock:false,showInPI:false,type:'number'),new H('in',type:'editableEnum',nullValue:'',meta:{'enums':new List()..addAll(['SourceGraphic','SourceAlpha','BackgroundImage','BackgroundAlpha','FillPaint','StrokePaint'])}),new H('in2',type:'editableEnum',nullValue:'',meta:{'enums':new List()..addAll(['SourceGraphic','SourceAlpha','BackgroundImage','BackgroundAlpha','FillPaint','StrokePaint'])}),new H('result',label:O('Result'),type:'string'),new H('scale',label:O('Scale'),type:'number',nullValue:0,meta:{'minimum':0.0}),new H('xChannelSelector',label:O('X Channel Selector'),type:'enum',nullValue:'A',meta:{'enums':const['A','R','G','B']}),new H('yChannelSelector',label:O('Y Channel Selector'),type:'enum',nullValue:'A',meta:{'enums':const['A','R','G','B']})]),'svgImage':[] ..addAll(QF)..addAll([new H('!uid',showInBlock:false,showInPI:false,type:'number'),new H('result',label:O('Result'),type:'string'),new H('href',label:O('Href'),type:'string'),new H('align',label:O('Alignment'),type:'enum',nullValue:'xMidYMid',meta:{'enums':const['none','xMaxYMax','xMaxYMid','xMaxYMin','xMidYMax','xMidYMid','xMidYMin','xMinYMax','xMinYMid','xMinYMin']}),new H('meetOrSlice',label:O('Meet or Slice'),type:'enum',nullValue:'meet',meta:{'enums':const['meet','slice']})]),'svgSpecularLighting':[] ..addAll(QF)..addAll([new H('!uid',showInBlock:false,showInPI:false,type:'number'),new H('in',type:'editableEnum',nullValue:'',meta:{'enums':new List()..addAll(['SourceGraphic','SourceAlpha','BackgroundImage','BackgroundAlpha','FillPaint','StrokePaint'])}),new H('result',label:O('Result'),type:'string'),new H('surfaceScale',label:O('Surface Scale'),type:'number',nullValue:1,meta:{'minimum':0.0}),new H('specularConstant',label:O('Specular Constant'),type:'number',nullValue:1,meta:{'minimum':0.0}),new H('specularExponent',label:O('Specular Exponent'),type:'number',nullValue:1,meta:{'snapInterval':0.01,'minimum':1.0,'maximum':128.0}),new H('kernelUnitLengthX',label:O('Kernel Unit Length X'),type:'number',nullValue:0),new H('kernelUnitLengthY',label:O('Kernel Unit Length Y'),type:'number',nullValue:0),new H('lightingColor',label:O('Lighting Color'),type:'color',nullValue:16777215),new H('lightElements',label:O('Light Elements'),type:'list',meta:{'editorType':'svgLightElementEditor'})]),'svgDiffuseLighting':[] ..addAll(QF)..addAll([new H('!uid',showInBlock:false,showInPI:false,type:'number'),new H('in',type:'editableEnum',nullValue:'',meta:{'enums':new List()..addAll(['SourceGraphic','SourceAlpha','BackgroundImage','BackgroundAlpha','FillPaint','StrokePaint'])}),new H('result',label:O('Result'),type:'string'),new H('surfaceScale',label:O('Surface Scale'),type:'number',nullValue:1,meta:{'minimum':0.0}),new H('diffuseConstant',label:O('Diffuse Constant'),type:'number',nullValue:1,meta:{'minimum':0.0}),new H('kernelUnitLengthX',label:O('Kernel Unit Length X'),type:'number',nullValue:0),new H('kernelUnitLengthY',label:O('Kernel Unit Length Y'),type:'number',nullValue:0),new H('lightingColor',label:O('Lighting Color'),type:'color',nullValue:16777215),new H('lightElements',label:O('Light Elements'),type:'list',meta:{'editorType':'svgLightElementEditor'})]),'svgConvolveMatrix':[] ..addAll(QF)..addAll([new H('!uid',showInBlock:false,showInPI:false,type:'number'),new H('in',type:'editableEnum',nullValue:'',meta:{'enums':new List()..addAll(['SourceGraphic','SourceAlpha','BackgroundImage','BackgroundAlpha','FillPaint','StrokePaint'])}),new H('result',label:O('Result'),type:'string'),new H('orderX',label:O('Order X'),type:'number',nullValue:3,meta:{'snapInterval':1.0,'minimum':1.0}),new H('orderY',label:O('Order Y'),type:'number',nullValue:3,meta:{'snapInterval':1.0,'minimum':1.0}),new H('kernelMatrix',label:O('Kernel Matrix'),type:'string',nullValue:''),new H('divisor',label:O('Divisor'),type:'number',nullValue:1,meta:{'snapInterval':0.01,'minimum':1.0}),new H('bias',label:O('Bias'),type:'number',nullValue:0,meta:{'snapInterval':0.01,'minimum':0.0,'maximum':1.0}),new H('targetX',label:O('Target X'),type:'number',nullValue:0,meta:{'snapInterval':0.01,'minimum':0.0}),new H('targetY',label:O('Target Y'),type:'number',nullValue:0,meta:{'snapInterval':0.01,'minimum':0.0}),new H('edgeMode',label:O('Edge Mode'),type:'enum',nullValue:'duplicate',meta:{'enums':const['duplicate','wrap','none']}),new H('kernelUnitLengthX',label:O('Kernel Unit Length X'),type:'number',nullValue:0.0001,meta:{'snapInterval':0.01,'minimum':0.0001}),new H('kernelUnitLengthY',label:O('Kernel Unit Length Y'),type:'number',nullValue:0.0001,meta:{'snapInterval':0.01,'minimum':0.0001}),new H('preserveAlpha',label:O('Preserve Alpha'),type:'bool',nullValue:false)]),'svgComponentTransfer':[] ..addAll(QF)..addAll([new H('!uid',showInBlock:false,showInPI:false,type:'number'),new H('in',type:'editableEnum',nullValue:'',meta:{'enums':new List()..addAll(['SourceGraphic','SourceAlpha','BackgroundImage','BackgroundAlpha','FillPaint','StrokePaint'])}),new H('result',label:O('Result'),type:'string'),new H('funcElements',label:O('Func Elements'),type:'list',meta:{'editorType':'svgFuncElementEditor'})])};String FD()=>'filter';String eQ()=>L("type");fR(){}String toString(){switch (L('type')){case 'invert':return 'invert(${W(L('ratio'),0)}%)';case 'sepia':return 'sepia(${W(L('ratio'),0)}%)';case 'grayscale':return 'grayscale(${W(L('ratio'),0)}%)';case 'blur':return 'blur(${W(L('size'),0)}px)';case 'contrast':return 'contrast(${W(L('ratio'),100)}%)';case 'huerotate':return 'hue-rotate(${W(L('ratio'),0)}deg)';case 'saturate':return 'saturate(${W(L('ratio'),100)}%)';case 'brightness':return 'brightness(${W(L('ratio'),100)}%)';}return '';}List<H> nC(){Object A=L('type');if(A is String&&Wj.containsKey(A)){return Wj[A];}return const[] ;}}class kb extends sR{String get type=>'filters';String toString(){return rJ().join(' ');}void JU(List C){LE(C.length);for(int B=0;B<C.length; ++B){Object A=C[B];if(A!=null){if(A is Map<String,Object>){qJ(B,FW(A,JGB));}else if(A is List&&A.length==1){fZ(B,A[0]);}}}}void LU(List C){LE(C.length);for(int A=0;A<C.length; ++A){Object B=C[A];if(B is Map<String,Object>){Object D=s(A);if(D is fR){D.WD(B);}else{qJ(A,FW(B,JGB));}}else{QGB(A,true).WD(B);}}}static fR FW(Map<String,Object> B,Q C){fR A=new fR();A.JGB=C;A.JE(B);return A;}}class Ri extends AB{static List<H> Fv=[new H('gradient',type:'gradient'),new H('input',type:'number'),new H('min',type:'number',nullValue:0),new H('max',type:'number',nullValue:100),new H('output',type:'color',readOnly:true)];String get type=>'gradientMapping';void e(){Object C=L('gradient');num D=W(L('input'));num A=W(L('min'),0);num B=W(L('max'),100);if(C is UH&&D.isFinite&&A.isFinite&&B.isFinite){if(A>B){num G=A;A=B;B=G;}if(D<=A){M('output',C.dQ(0));}else if(D>=B){M('output',C.dQ(100));}else if(B==A){M('output',C.dQ(50));}else{M('output',C.dQ((D-A)*100/(B-A)));}}else{M('output',null);}}}class ZR{static String fv(Object A){return oV((A as Q).UC().KR.VE);}static String oV(String D){List B=D.split('/');int A=0;int G=B.length;String C;while(A+2<G&&B[A]=='lib'){C=B[A+1];A+= 2;}if(C==null){return nF.Bc();}return C;}static String rw(String A,Object C,[bool D=false]){if(A==null){return null;}if(C is!Q||HI.bW(A)){return A;}zC G=(C as Q).UC().KR;String B=IS(G.VE,A);B=nF.H2(B);if(D&&B==null){return '';}return B;}}class zD{static List<Function> hR=[] ;static List<Function> lV=[] ;static List<Function> mV=[] ;static void nR(){Timer.run(Ub);xM=true;}static void Mb(){if(!xM){nR();}}static void pR(Function A){if(!xM){nR();}hR.add(A);}static void Mj(Function A){if(!xM&&!xJ){nR();}if(!mV.contains(A)){mV.add(A);}}static void Uj(Function A){if(!lV.contains(A)){if(!xM){nR();}lV.add(A);}}static bool xM=false;static bool xJ=false;static bool nj=false;static void Ub([bool G=true]){if(G){xM=false;}xJ=true;if(XE.vJ){XE.rx();}int I=TB.Jx();List<Function> B=hR;hR=[] ;var C=B.length;for(var A=0;A<C;A++ ){var D=B[A];D();}B=lV;lV=[] ;C=B.length;for(var A=0;A<C;A++ ){var D=B[A];D();}TB.Mx(I);if(nj){nj=false;Ub(false);}else if(xJ){hR.addAll(mV);mV.clear();if(hR.length>0){if(!xM){nR();}}}xJ=false;}static void wV(){if(xJ){throw 'can not run timer in a timer call back';}Ub(false);}}Map<String,Object> hV(Map<String,Object> A,int B){const int C=6229;if(B>=C){return A;}sV(A,null,null,B);if(A['@symbols'] is Map){sV(A['@symbols'],A,'@symbols',B);}if(B<3579){Pz(A);}if(B<5436){Vz(A);}if(B<3164){if(A['@type']=='group'&&!A.containsKey('focusType')){A['focusType']='isolate';}}return A;}void sV(Map C,Map I,String J,int D){Rx(C,I,J,D);C.forEach((A,B){if(A=='@array'&&B is List){for(Object G in B){if(G is Map){sV(G,C,A,D);}}}if(A.startsWith('!')||A.startsWith('@')){if(D<5435&&A=='@params'&&B is Map){hj(B);}return;}if(B is Map){sV(B,C,A,D);}});}void hj(Map B){List G=[] ;B.forEach((String C,A){if(A is List&&A.length>2&&!C.startsWith('!')){Map D;if(A.length>4&&A[4] is Map){D=A[4];}else{D={};}D['n']=C;D['t']=A[0];G.add(D);if(A[1]==null){if(A[2]==null){B[C]=null;}else{B[C]=[A[2]];}}else{if(A[2]==null){B[C]=A[1];}else{B[C]=[A[1],A[2]];}}}});if(G.isNotEmpty){B['!var']=G;}}void Rx(Map A,Map xD,String iM,int C){Object B=A['@type'];if(C<2074){if(A['fillType'] is String&&!A.containsKey('@type')&&(A.containsKey('color')||A.containsKey('gradient'))){B='fill';}}if(C<2152){if(B=='setState'){A['@type']='changeState';if(A['@array'] is List){List YD=A['@array'];List kG=[] ;for(int D=0;D<YD.length-2;D+= 3){kG.add(YD[D]);Map KF={'@type':'stateItem'};Object a=YD[D+1];Object j=YD[D+2];if(a!=null){if(a is List&&a[0] is String){a[0]='@parent.${a[0]}';}KF['value']=a;}if(j!=null){if(j is List&&j[0] is String){j[0]='@parent.${j[0]}';}KF['original']=j;}kG.add(KF);}A['@array']=kG;}}}if(C<2230){if(B=='border'){if(iM=='border'){A['@type']='fill';}else if(A['fill'] is Map){Map EC=A['fill'];if(EC['@type']=='rgbaColor'){A.remove('fill');if(EC.containsKey('color')){A['color']=EC['color'];}if(EC.containsKey('opacity')){A['opacity']=EC['opacity'];}}}}}if(C<2453){if(B=='strLoader'||B=='listFiles'||B=='jsonpLoader'){A['autoRun']=true;}if(xD!=null){if(A['left']!=null&&A['right']!=null&&A['width'] is!List&&xD['layout']=='vertical'){A.remove('width');}if(A['top']!=null&&A['bottom']!=null&&A['height'] is!List&&xD['layout']=='horizontal'){A.remove('height');}}}if(C<2720){if(B=='text'){A.remove('ellipsis');}}if(C<3164){if(B=='jsonParser'){A['flatFilter']='*';}}if(C<3349){if(iM=='calloutModel'&&A['renderer'] is Map&&xD!=null){Map K=A['renderer'];Map q=K['map'];K.remove('map');A.remove('renderer');A['callout']=K;K['@type']='calloutSymbol';K.remove('!label');if(q!=null){q.forEach((G,BB){if(BB is List&&BB.length==1&&BB[0] is String){BB[0]=(BB[0] as String).replaceFirst('@parent.','');}K[G]=BB;});}}}if(C<3396){if(B=='replace'){A['@array']=[A['find'],A['replace']];A.remove('find');A.remove('replace');A.remove('replaceAll');}}if(C<3655){if(B=='datagrid'&&A['cellPadding']!=null){A['headerPaddingLeft']=A['cellPadding'];A['headerPaddingTop']=A['cellPadding'];A['headerPaddingRight']=A['cellPadding'];A['headerPaddingBottom']=A['cellPadding'];A['keepEqualHeaderPaddings']='true';}}if(C<3666){if(B=='datagrid'){if(['vGridWidth']!=null){A['vHeaderGridWidth']=A['vGridWidth'];}if(A['vGridStroke']!=null){A['vHeaderGridStroke']=A['vGridStroke'];}if(A['vGridColor']!=null){A['vHeaderGridColor']=A['vGridColor'];}if((A['hGridWidth']!=null||A['hGridStroke']!=null||A['hGridColor']!=null)&&A['headerBorder']==null){A['headerBorder']={"fillType":"separateBorder","borderBottom":{"width":A['hGridWidth'],"color":A['hGridColor'],"style":A['hGridStroke'],"@type":"border"},"borderTop":{"@type":"border"},"borderLeft":{"@type":"border"},"@type":"border","borderRight":{"@type":"border"}};}}}if(C<3677){if(B=='datagrid'&&A['headerHeight']==null){A['headerHeight']=24;}}if(C<3744){if(B=='scaleLabels'&&A['percentTextSize']!=null&&A['percentTextSize'] is!List){A['percentTextSize']=A['percentTextSize'].toString()+'%';}if(B=='scaleTicks'){if(A['minorTicksPercentLength']!=null&&A['minorTicksPercentLength'] is!List){A['minorTicksPercentLength']=A['minorTicksPercentLength'].toString()+'%';}if(A['majorTicksPercentLength']!=null&&A['majorTicksPercentLength'] is!List){A['majorTicksPercentLength']=A['majorTicksPercentLength'].toString()+'%';}}if(B=='scaleTrack'){if(A['percentStartThickness']!=null&&A['percentStartThickness'] is!List){A['percentStartThickness']=A['percentStartThickness'].toString()+'%';}if(A['percentEndThickness']!=null&&A['percentEndThickness'] is!List){A['percentEndThickness']=A['percentEndThickness'].toString()+'%';}}}if(C<3822){if(B=='text'&&A.containsKey('multiline')&&A['multiline']!=false){A['wordWrap']=true;}}if(C<3840){if(B=='gridColumn'){Map K=A['headerModel'];if(K!=null){Map q=K['map'];if(q!=null){Iterable PR=q.keys;Object HB;String aC;for(String G in PR){HB=q[G];if(HB is List&&HB.length==1&&HB[0] is String){aC=HB[0];if(aC is String&&aC.indexOf('@parent.@parent')>=0){HB[0]=aC.replaceFirst('@parent.@parent','@parent.@parent.@parent');}}}}}}}if(C<4100){if(B=='tableJoin'){if(A['join']=='concat'){A['join']='union';}}else if(B=='tableAggregation'){if(A['method']=='joinTable'){A['method']='tableUnion';}}}if(C<4188){if(B=='tableGroupBy'){List N=A['@array'];for(int D=2;D<=N.length;D+= 3){N.insert(D,null);}A['@array']=N;}}if(C<4190){if(A['!df'] is Map){Map jM=A['!df'];if(jM['b'] is List){List NR=jM['b'];for(Map R in NR){String uH=R['pa'];if(A[uH] is Map){Map aB=A[uH];aB['!x']=R['x'];aB['!y']=R['y'];aB['!w']=R['w'];aB['!ps']=R['ps'];if(C<4188&&R['pa']=='tableGroupBy'){List N=R['ps'];if(N!=null){int jG=(N.length-4)~/2;int kM=jG*2;while(jG>0){N.insert(N.length-1,kM.toString());kM++ ;jG-- ;}aB['!ps']=N;}}}}}A['!df']=true;}}if(C<4286){if(B=='datagrid'&&A["ignoreCols"]!=null){A["columnFilter"]=A["ignoreCols"];A.remove('ignoreCols');}}if(C<=4480){if(A.containsKey('calType')&&A['calType']!='none'){int J=bB(A['calPos'],1);String MR=CJ(A['calRelTarget'],const['target','page'],'target');int S;if(MR=='target'){if(J==9){S=9;}else if(J>=1&&J<=8){S=(4+J)%9+1*((4+J)/9).truncate();}}else{if(J>=1&&J<=9){S=J;}}if(S==1){S=null;}if(S!=null){A['calAnchor']=S;}}}if(C<4531){if(B=='img'){Object vH=A['tilingOpt'];if(vH is Map){vH['@type']='tilingOpt';}}}if(C<5166){if(B=='lineSeries'||B=='areaSeries'||B=='radarSeries'){if(A['markersType']=='custom'&&A['symbol']!=null&&A['symbol']!=''){A['showDataTips']=false;}}}if(C<5377){if(B=='axisRenderer'||B=='radialAxisRenderer'||B=='angularAxisRenderer'){if(A.containsKey('visibility')){A['display']=A['visibility'];A.remove('visibility');}}}if(C<5380){if(B=='downloadFile'){if(A.containsKey('data')){A['input']=A['data'];A['type']='data';A.remove('data');if(A['!ps'] is List){int J=(A['!ps'] as List).indexOf('data');if(J>=0){A['!ps'][J]='input';}}}}}if(C<5406){if(B=='script'){int I=0;for(String G in A.keys){if(G.length==1){int xB=G.codeUnitAt(0);if(xB>I){I=xB;}}}if(A['!ps'] is List){List P=A['!ps'];int GG=P.length;for(int D=0;D<GG; ++D){String G=P[D];if(G.length==1&&G.codeUnitAt(0)>I){A['!ps']=P.sublist(0,D);break;}}}if(I>122){I=122;}if(I>=97){var lB=[] ;for(int D=97;D<=I; ++D){lB.add({'n':new String.fromCharCode(D)});}A['!var']=lB;}}}if(C<5435&&B=='logics'){hj(A);}if(C<5645){const Map<String,int> OR=const{'lineSeries':1,'areaSeries':1,'barSeries':1,'columnSeries':1,'bubbleSeries':1,'pieSeries':1,'spectrumSeries':1,'radarSeries':1};if(B is String&&OR.containsKey(B)){if(A.containsKey('visibility')){A['display']=A['visibility'];A.remove('visibility');}}}if(C<5740){if(B=='javascript'){int I=0;for(String G in A.keys){if(G.length==1){int xB=G.codeUnitAt(0);if(xB>I){I=xB;}}}if(A['!ps'] is List){List P=A['!ps'];int GG=P.length;for(int D=0;D<GG; ++D){String G=P[D];if(G.length==1&&G.codeUnitAt(0)>I){A['!ps']=P.sublist(0,D);break;}}}if(I>122){I=122;}if(I>=97){var lB=[] ;for(int D=97;D<=I; ++D){lB.add({'n':new String.fromCharCode(D)});}A['!var']=lB;}}}if(C<6229&&B=='datagrid'){A['cellPaddingCompMode']=true;}}void Pz(Map D){if(D['@symbols'] is Map){Map B=D['@symbols'];if(B.length==1&&B.containsKey('LegendItem')){if(B['LegendItem']['baseLoad'] is Map){Map A=B['LegendItem'];Map C=A['baseLoad'];if(C['invoke'] is List&&C['invoke'].length==1&&C['invoke'][0]=='@parent.baseChange.onChange'){if(A['Group1'] is Map&&A['Group1']['Text_Input'] is Map&&A['Group1']['Text_Input']['onChange'] is Map){Map G=A['Group1']['Text_Input']['onChange'];if(G['script']=='var value = @.invoke;\n\n@stage.liveName.value = value;\nreturn;'){G['script']='var value = @.invoke;\nif(value=="Items")return;\n@stage.liveName.value = value;\nreturn;';C['invoke'][0]='@parent.baseChange.output';}}}}}}}void Vz(Map C){if(C['property_inspector'] is Map&&C['property_inspector']['loader'] is Map){Map B=C['property_inspector']['loader'];if(B['@type']=='script'&&B['script'] is String){String A=B['script'];int D=A.indexOf('for (key in this.params) {');if(D<0)return;int G=A.indexOf('"value": this.symbol[key] != null ? this.symbol[key] : this.params[key][1]');if(G<0)return;int I=A.indexOf('});',G+74);A=A.replaceFirst(A.substring(D,I+3),r'''if (typeof(this.params['!var']) == "list") {
        for (var i = 0; i < this.params['!var'].length; ++i) {
          var m = this.params['!var'][i];
          var key = m['n'];
          if (modelGetBinding(this.symbol, key)) continue;
          list.push(dict[key] = {
            "name": key,
            "data": m,
            "type": m['t'],
            "value": this.symbol[key] != null ? this.symbol[key] : this.params[key]
          });
        }''');A=A.replaceFirst('data.data[4].enums','data.data.enums');A=A.replaceAll('this.params[data.name][1]','this.params[data.name]');B['script']=A;}}}class na implements Nc{static na ju(){return new na();}WebSocket MJB;hm NJB;P3 OJB;hm PJB;bool QJB=false;bool get If=>QJB;void FF(){QJB=false;if(PJB!=null){PJB('');DB();}}void onError(Object A){if(PJB!=null){PJB(A.toString());DB();}}void Z_(Object A){if(NJB!=null){NJB(b(A));}}void init(String A,void B(String),void C(),void D(String)){if(MJB==null){NJB=B;OJB=C;PJB=D;WebSocket.connect(A).then((WebSocket G){QJB=true;MJB=G;MJB.listen(this.Z_,onError:this.onError,onDone:this.FF);if(OJB!=null){OJB();}}).catchError((I){if(PJB!=null){PJB(I.toString());}});}}void send(String A){if(QJB){MJB.add(A);}}void DB(){if(MJB!=null&&QJB){MJB.close();}MJB=null;NJB=null;PJB=null;OJB=null;QJB=false;}}class Bi implements Dc{static ByteBuffer ku(List<int> A){if(A is TypedData){}return new Uint8List.fromList(A).buffer;}String RJB;Bi(this.RJB);Future<bool> pJ(String D,Object B){File A=new File('${RJB}${Platform.pathSeparator}${D}');if(B!=null){return A.exists().then((C){if(!C){return A.create(recursive:true);}return A;}).then((File I){if(B is String){return A.writeAsString(B);}else if(B is List<int>){return A.writeAsBytes(B);}}).then((G){return true;});}else{return A.exists().then((C){if(C){return A.delete();}return A;}).then((G){return true;});}}Future<Object> load(String B,bool C){File A=new File('${RJB}${Platform.pathSeparator}${B}');return A.exists().then((D){if(D){if(C){return A.readAsString();}else{return A.readAsBytes();}}return null;});}static List lu(List A,List B){return A..addAll(B);}Future<BN> B_(String I,bool S,{String method: 'GET',String query,Map headers,bool sendCookies: false,List<int> bytes}){var C=new Completer<Object>();if(method==null){method='GET';}if(method=='GET'&&query!=null){if(I.indexOf('?')>0){I+= '&'+query;}else{I+= '?'+query;}}Object B;if(method!='GET'){if(bytes!=null){B=ku(bytes);}else if(query!=null){if(query is String){B=const Utf8Encoder().convert(query);}else if(query is List<int>){B=query;}}}HttpClient N=new HttpClient();Map J;int A;Uri P=Uri.parse(I);()async{return N.openUrl(method,P);}().then((HttpClientRequest D){if(oa!=null){oa(P,D);}if(headers!=null){headers.forEach((a,G){D.headers.add(a,G);});}if(B is List<int>){D.contentLength=B.length;D.add(B);}return D.close();}).then((HttpClientResponse K){J=new MB();K.headers.forEach((j,q){J[j]=q;});A=K.statusCode;return K.fold(<int>[] ,lu);}).then((G){if((A>=200&&A<300)||A==0||A==304){if(S){C.complete(new BN(J,UTF8.decode(G,allowMalformed:true),A));}else{C.complete(new BN(J,G,A));}}else{C.completeError(new Fc(UTF8.decode(G,allowMalformed:true),A));}}).catchError((BB){C.completeError(BB);});RL R=new RL(C.future);R.onCancel((){N.close(force:true);});return R;}Future<String> x9(String A,String B){return new Future.value(null);}Stream<AN> v9(String K,[List<String> N]){Directory G=new Directory('${RJB}${Platform.pathSeparator}${K}');StreamController<AN> B=new StreamController<AN>();bool I=false;int C=0;G.exists().then((P){if(P){G.list(followLinks:false).listen((A){if(A is File&&EK.V2(A.path,N)){C++ ;void D(Object J){if(J!=null){Uri R=new Uri.file(A.path);B.add(new AN(R.pathSegments.last,J));}C-- ;if(C==0&&I){B.close();}}EK.U2(A.path,(){A.readAsString().then(D);},(){A.readAsBytes().then(D);},(){D(null);});}}).onDone((){I=true;if(C==0){B.close();}});}});return B.stream;}}typedef void Ci(Uri _0,_1);Ci oa;void mu([String A,Ci B]){oa=B;Nc.Q3=na.ju;if(A==null){A=Platform.script.resolve('files').toFilePath();}EK.W2=new Bi(A);}class zk implements Ml{const zk();Object z7(List B){if(B.length==0){return new DateTime.now();}if(B.length==1){Object C=B[0];if(C is num){return new DateTime.fromMillisecondsSinceEpoch(C);}if(C is String){return tE(C);}}else if(B.length>1){List A=[] ..addAll(B);while(A.length<7){A.add(0);}return new DateTime(A[0],A[1],A[2],A[3],A[4],A[5],A[6]);}throw 'invalid arguments';}}Object J0(DateTime B,String A){if(A=='day')return B.day;if(A=='month')return B.month;if(A=='year')return B.year;if(A=='hour')return B.hour;if(A=='minute')return B.minute;if(A=='second')return B.second;if(A=='millisecond')return B.millisecond;if(A=='millisecondsSinceEpoch')return B.millisecondsSinceEpoch;if(A=='isUtc')return B.isUtc;if(A=='weekday')return B.weekday;if(A=='isUtc')return B.isUtc;if(A=='toUtc')return V0;if(A=='toLocal')return a0;if(A=='timeZoneOffset')return B.timeZoneOffset.inMilliseconds;return null;}Object V0(Object A,List B){if(A is DateTime){A.toUtc();}return null;}Object a0(Object A,List B){if(A is DateTime){A.toLocal();}return null;}final Map<String,SD> IW=new MB<String,SD>();SD EP(String A){var C=IW[A];if(C!=null){return C;}if(IW.length>2048){IW.clear();}lb D=new lb(new yJ(A));SD B=D.Z$();H0(B);IW[A]=B;return B;}final Map<String,Object> xz={'Number':N0,'isNaN':P0,'String':S0,'Array':X0,'parseInt':f0,'parseNumber':Sl,'Math':const yk(),'JSON':const Cl(),'XML':const xk(),'DateTime':const zk(),'createPromise':B0,'parseUrl':F0};Object B0(Object C,List A){Object B;if(A.length==1){B=A[0];}return new Future.value(B);}Object F0(Object D,List C){if(C.length>=1){var B=C[0];if(B is!String){B=B.toString();}Uri A;try {A=Uri.parse(B);}catch (G){return null;}return {"scheme":A.scheme,"host":A.host,"path":A.path,"port":A.port,"fragment":A.fragment,"query":A.query,"queryParameters":A.queryParameters};}return null;}Object N0(Object B,List A){return W(A[0]);}Object P0(Object C,List B){Object A=B[0];return A!=A;}Object S0(Object B,List A){if(A[0]==null){return '';}if(A.length>1&&A[1] is int){return bB(A[0]).toRadixString(A[1]);}return b(A[0]);}Object X0(Object B,List A){if(A[0] is List){return A[0];}if(A[0] is int){return new List(A[0]);}if(A[0] is ByteData){return NN.uc(A[0] as ByteData);}if(A[0] is pF){return (A[0] as pF).rJ();}return null;}Object f0(Object B,List A){if(A.length>1&&A[1] is int){return int.parse(A[0].toString(),radix:A[1],onError:(C)=>0);}else{return bB(A[0],0);}}RegExp n0=new RegExp(r"-?[\d\.,]+([Ee]-?[\d-\.]+)?");Object Sl(Object J,List B){if(B[0] is String){Object C=double.NAN;if(B.length>1){C=B[1];}String A=B[0];if(A==''){return C;}if(A.codeUnitAt(0)==35){return int.parse(A.substring(1),radix:16);}if(A.startsWith('0x')){return int.parse(A.substring(2),radix:16);}Match G=n0.firstMatch(A);if(G!=null){A=G.group(0);if(A.contains(',')){A=A.replaceAll(',','');}int I=int.parse(A,onError:Vm);if(I!=null){return I;}double D=double.parse(A,BJ);if(D==D){return D;}}return C;}return double.NAN;}const Map<String,Object> yz=const{'parse':G0,'stringify':L0};class Cl implements AJ{const Cl();Object L(String A){return yz[A];}void o(String A,Object B){throw "can't change readonly object";}void rB(String A,Object B){throw "can't change readonly object";}void ZC(String A,String B){throw "can't change readonly object";}}Object G0(Object D,List B){Object A=B[0];if(A is String){try {return const JsonDecoder().convert(A);}catch (C){print(C.toString());}}return null;}Object L0(Object G,List A){Object D=A[0];JsonEncoder C=const JsonEncoder();if(A.length>1&&(A[1] is num||A[1] is String)){String B="";if(A[1] is num){B=" "*(A[1] as num).toInt();}else{B=A[1].toString();}if(B=="  "){C=const JsonEncoder.withIndent("  ");}else{C=new JsonEncoder.withIndent(B);}}return C.convert(D);}final List<String> I0=const<String>["as","break","case","catch","class","const","continue","default","delete","do","else","extends","false","finally","for","function","if","import","in","is","namespace","new","null","package","private","public","return","super","switch","this","throw","true","try","typeof","use","var","void","while"];final List<String> Q0=const<String>["abstract","debugger","enum","export","goto","implements","interface","native","protected","synchronized","throws","transient","volatile","instanceof","with"];Set<String> JW=null;Set<String> get W0{if(JW==null){JW=new Set<String>();for(String A in I0)JW.add(A);}return JW;}Set<String> KW=null;Set<String> get c0{if(KW==null){KW=new Set<String>();for(String A in Q0)KW.add(A);}return KW;}bool k0=true;bool l0(String A){if(W0.contains(A))return true;if(k0&&c0.contains(A))return true;return false;}class XB{final String type;final int c;final value;const XB(this.type,this.c,[this.value]);String toString()=>"${type} (${c}): ${value}";}final u0="\x0A\x0D";final w0="\x20\x09\x0B\x0C\xA0";final nb="0123456789";final z0="${nb}ABCDEFabcdef";class yJ{static final int C1="a".codeUnitAt(0);static final int E1="b".codeUnitAt(0);static final int F1="f".codeUnitAt(0);static final int H1="n".codeUnitAt(0);static final int I1="r".codeUnitAt(0);static final int K1="t".codeUnitAt(0);static final int L1="z".codeUnitAt(0);static final int M1="A".codeUnitAt(0);static final int O1="Z".codeUnitAt(0);static final int S1="\n".codeUnitAt(0);final String input;int VD;int c=0;yJ(this.input){VD=input.length;}bool DU(String C,String B){for(int A=0;A<B.length;A++ ){if(B[A]==C)return true;}return false;}bool kQ(String A)=>DU(A,nb);bool Tr(String A)=>DU(A,z0);bool lQ(String A)=>DU(A,u0);bool k9(String A)=>DU(A,w0);bool sf(String A){if(A==r'$'||A=="_"||A=='@')return true;int B=A.codeUnitAt(0);return (C1<=B&&B<=L1||M1<=B&&B<=O1);}bool Ur(String A)=>sf(A)||kQ(A);void d8(){while(c<VD&&k9(input[c])){c++ ;}}void f8(){while(c<VD&&lQ(input[c])){c++ ;}}bool hE(String B){if(c+B.length<input.length){for(int A=0;A<B.length;A++ ){if(input[c+A]!=B[A])return false;}return true;}return false;}void h8(){while(c<VD&&!lQ(input[c]))c++ ;}void Sf(){while(c<VD&&kQ(input[c]))c++ ;}void e8(){while(c<VD&&Tr(input[c]))c++ ;}XB t$(String C){assert(c<VD);assert(input[c]==C);int B=c;c++ ;bool A=false;while(c<VD&&!(lQ(input[c])&&!A)){if(A){A=false;c++ ;}else{if(input[c]==C){c++ ;String D=input.substring(B,c);return new XB("STRING",B,D);}A=(input[c++ ]=="\\");}}throw "Unterminated string ${B}";}XB s$(){assert(sf(input[c]));int B=c;while(c<VD&&Ur(input[c]))c++ ;String A=input.substring(B,c);if(l0(A)){return new XB(A.toUpperCase(),B,A);}return new XB("ID",B,A);}int g8(){int D=c;bool C=false;int A=null;while(c<VD){String B=input[c++ ];if(B=="/"&&C)return A;if(A==null&&lQ(B)){A=c-1;}C=(B=="*");}throw "Unterminated multi-line comment ${D}";}XB cs(){XB D(int A){String G=input.substring(A,c);return new XB("NUMBER",A,G);}assert(kQ(input[c])||input[c]=='.');bool C=input[c]=='.';if(C)c++ ;int A=c;Sf();if(c<VD){String B=input[c];if(B=="."&&!C){c++ ;if(c<VD&&kQ(input[c])){Sf();if(c<VD&&(input[c]=="e"||input[c]=="E")){c++ ;if(c<VD&&(input[c]=="+"||input[c]=="-")){c++ ;}if(c>=VD||!kQ(input[c])){throw "Unterminated number literal ${A}";}Sf();}}}else if(B=="x"||B=="X"){c++ ;if(c>=VD||!Tr(input[c])){throw "Unterminated number literal ${A}";}e8();}}return D(A);}XB get l8=>new XB("EOF",input.length);XB dF(String A){int B=A.length;int C=c;c+= B;return new XB(A,C,A);}XB next(){d8();if(hE("//")){h8();}if(hE("/*")){int C=g8();if(C!=null){return new XB("NEW_LINE",C);}}if(c>=input.length)return l8;String A=input[c];if(lQ(A)){XB D=new XB("NEW_LINE",c);f8();return D;}if(DU(A,nb)){return cs();}switch (A){case "{":return new XB("LBRACE",c++ ,A);case "}":return new XB("RBRACE",c++ ,A);case "(":return new XB("LPAREN",c++ ,A);case ")":return new XB("RPAREN",c++ ,A);case "[":return new XB("LBRACKET",c++ ,A);case "]":return new XB("RBRACKET",c++ ,A);case ";":return new XB("SEMICOLON",c++ ,A);case ",":return new XB("COMMA",c++ ,A);case ":":case "?":return new XB(A,c++ ,A);case ".":c++ ;if(c<VD&&kQ(input[c])){c-- ;return cs();}return new XB("DOT",c,A);case "|":if(hE("||"))return dF("||");if(hE("|="))return dF("|=");return new XB(A,c++ ,A);case "&":if(hE("&&"))return dF("&&");if(hE("&="))return dF("&=");return new XB(A,c++ ,A);case "<":if(hE("<<="))return dF("<<=");if(hE("<<"))return dF("<<");if(hE("<="))return dF("<=");return new XB(A,c++ ,A);case ">":if(hE(">>>"))return dF(">>>");if(hE(">>="))return dF(">>=");if(hE(">>"))return dF(">>");if(hE(">="))return dF(">=");return new XB(A,c++ ,A);case "!":if(hE("!=="))return dF("!==");if(hE("!="))return dF("!=");return new XB(A,c++ ,A);case "=":if(hE("==="))return dF("===");if(hE("=="))return dF("==");return new XB(A,c++ ,A);case "+":case "-":case "*":case "/":case "%":case "^":c++ ;if(c<VD&&input[c]=="="){String B="${A}=";return new XB(B,(c++ )-1,B);}if((A=="+"||A=="-")&&input[c]==A){String B="${A}${A}";return new XB(B,(c++ )-1,B);}return new XB(A,c-1,A);case "'":case '"':return t$(A);case "~":if(hE("~="))return dF("~=");throw "Unexpected character ${A} ${c}";default:if(sf(A)){return s$();}throw "Unexpected character ${A} ${c}";}}XB r9(){int A=c;bool B=false;while(c<VD&&!lQ(input[c])){if(B){B=false;c++ ;}else{if(input[c]=="/"){c++ ;while(Ur(input[c]))c++ ;String C=input.substring(A,c);return new XB("REGEXP",A,C);}B=(input[c++ ]=="\\");}}throw "Unterminated regexp ${A}";}}Object Bl(List B,Object A){if(A is int){if(A<B.length&&A>-1){return B[A];}}else if(A is String){if(A=='length')return B.length;if(A=='indexOf')return X1;if(A=='push'||A=='add')return s0;if(A=='pushAll'||A=='allAll')return p0;if(A=='pop')return x0;if(A=='shift')return V1;if(A=='unshift')return A1;if(A=='slice')return G1;if(A=='splice')return P1;if(A=='join')return a1;if(A=='sort')return c1;if(A=='concat')return k1;if(A=='first')return B.first;if(A=='last')return B.last;if(A=='query')return v0;if(A=='queryAll')return B1;if(A=='forEach')return T0;if(A=='where')return Z0;if(A=='map')return g0;if(A=='encodeBase64')return n1;}return null;}Object T0(Object A,List B){if(A is List&&B.length>=1&&B[0] is rE){rE C=B[0];A.forEach((D){C(A,[D]);});}return null;}Object Z0(Object A,List B){if(A is List&&B.length>=1&&B[0] is rE){rE C=B[0];return A.where((D){return JI(C(A,[D]));}).toList();}return null;}Object g0(Object A,List B){if(A is List&&B.length>=1&&B[0] is rE){rE C=B[0];return A.map((D){return C(A,[D]);}).toList();}return null;}Object p0(Object B,List A){if(B is List&&A.length>1&&A[0] is Iterable){Object C=A[0];B.addAll(C);}return null;}Object s0(Object A,List B){if(A is List){Object C=B[0];A.add(C);}return null;}Object x0(Object A,List B){if(A is List){return A.removeLast();}return null;}Object A1(Object A,List B){if(A is List){Object C=B[0];A.insert(0,C);}return null;}Object G1(Object A,List B){if(A is List){int D=bB(B[0]);int C=A.length;if(B.length>1){C=bB(B[1]);}return A.getRange(D,C);}return null;}Object P1(Object B,List A){if(B is List){int C=bB(A[0]);int D=bB(A[1])+C;var G=A.getRange(2,A.length);List I=B.getRange(C,D).toList();B.replaceRange(C,D,G);return I;}return null;}Object V1(Object A,List B){if(A is List){return A.removeAt(0);}return null;}Object X1(Object A,List B){if(A is List){Object C=B[0];return A.indexOf(C);}return -1;}Object a1(Object A,List B){if(A is List){if(B.length>0){return A.join(B[0]);}return A.join();}return null;}Object c1(Object B,List A){if(B is List){if(A.length>0&&A[0] is rE){rE P=A[0];int R(Object C,Object D){Object K=P(null,[C,D]);if(K is num){if(K>0)return 1;if(K<0)return -1;}return 0;}B.sort(R);return B;}bool S=(A.length>0&&A[0]==true);bool a=(A.length>1&&A[1]==true);bool j=(A.length>2&&A[2]==true);int J=a?-1:1;int q(Object C,Object D){String G=b(C,'');String I=b(D,'');return G.compareTo(I)*J;}int BB(Object C,Object D){String G=b(C,'');String I=b(D,'');int N=G.toLowerCase().compareTo(I.toLowerCase());if(N==0&&G!=I){return G.compareTo(I)*J;}return N*J;}int HB(Object C,Object D){return bB(C,0).compareTo(bB(D,0))*J;}if(S){if(j){B.sort(BB);}else{B.sort(q);}}else{B.sort(HB);}return B;}return null;}Object k1(Object A,List D){if(A is List){List B=A.toList();for(Object C in D){if(C is Iterable){B.addAll(C);}}return B;}return null;}Object n1(Object A,List B){if(A is List){return TH.pO(A);}return null;}class yk implements AJ{const yk();Object L(String A){return D0[A];}void o(String A,Object B){throw "can't change readonly object";}void rB(String A,Object B){throw "can't change readonly object";}void ZC(String A,String B){throw "can't change readonly object";}}const Map<String,Object> D0=const{'PI':PI,'E':E,'LN2':LN2,'LN10':LN10,'LOG2E':LOG2E,'LOG10E':LOG10E,'SQRT2':SQRT2,'SQRT1_2':SQRT1_2,'abs':O0,'min':Y0,'max':R0,'sin':d0,'cos':h0,'tan':m0,'asin':q0,'acos':t0,'atan':y0,'atan2':D1,'ceil':J1,'floor':N1,'round':T1,'exp':U1,'log':W1,'sqrt':Z1,'pow':b1,'random':f1};Object O0(Object C,List B){Object A=B[0];if(A is num){return A.abs();}return double.NAN;}Object R0(Object D,List C){num A=double.NEGATIVE_INFINITY;for(Object B in C){if(B is num&&B>A){A=B;}}if(A.isFinite){return A;}return double.NAN;}Object Y0(Object D,List C){num A=double.INFINITY;for(Object B in C){if(B is num&&B<A){A=B;}}if(A.isFinite){return A;}return double.NAN;}Object d0(Object C,List B){Object A=B[0];if(A is num){return sin(A);}return double.NAN;}Object h0(Object C,List B){Object A=B[0];if(A is num){return cos(A);}return double.NAN;}Object m0(Object C,List B){Object A=B[0];if(A is num){return tan(A);}return double.NAN;}Object q0(Object C,List B){Object A=B[0];if(A is num){return asin(A);}return double.NAN;}Object t0(Object C,List B){Object A=B[0];if(A is num){return acos(A);}return double.NAN;}Object y0(Object C,List B){Object A=B[0];if(A is num){return atan(A);}return double.NAN;}Object D1(Object D,List A){Object B=A[0];Object C=A[1];if(B is num&&C is num){return atan2(B,C);}return double.NAN;}Object J1(Object C,List B){Object A=B[0];if(A is num){return A.ceil();}return double.NAN;}Object N1(Object C,List B){Object A=B[0];if(A is num){return A.floor();}return double.NAN;}Object T1(Object C,List B){Object A=B[0];if(A is num){return A.round();}return double.NAN;}Object U1(Object C,List B){Object A=B[0];if(A is num){return exp(A);}return double.NAN;}Object W1(Object C,List B){Object A=B[0];if(A is num){return log(A);}return double.NAN;}Object Z1(Object C,List B){Object A=B[0];if(A is num){return wH.sqrt(A);}return double.NAN;}Object b1(Object D,List A){Object B=A[0];Object C=A[1];if(B is num&&C is num){return pow(B,C);}return double.NAN;}Random e1=new Random();Object f1(Object A,List B){return e1.nextDouble();}abstract class v<t>{}class Xl<t> implements v<t>{t iO(XC A){A.oB(this);return null;}t Fa(SD A)=>iO(A);t hM(sB A)=>iO(A);t Da(zM A)=>hM(A);t Qh(sB A)=>hM(A);t FBB(VH A)=>hM(A);t NBB(FP A)=>hM(A);t MBB(CS A)=>hM(A);t RBB(LW A)=>hM(A);t OBB(MW A)=>Da(A);t PBB(DS A)=>Da(A);t kBB(NW A)=>Da(A);t LBB(OW A)=>Da(A);t JBB(FI A)=>Qh(A);t GBB(pG A)=>Qh(A);t cBB(QW A)=>Qh(A);t eBB(RW A)=>hM(A);t QBB(TW A)=>hM(A);t HBB(GP A)=>iO(A);t KBB(SW A)=>iO(A);t lE(d A)=>iO(A);t Uh(ES A)=>lE(A);t hBB(wI A)=>lE(A);t dBB(sb A)=>lE(A);t ct(ML A)=>lE(A);t gBB(tb A)=>lE(A);t iBB(zJ A){if(A.value!=null){return ct(A);}else{return lE(A);}}t IBB(ub A)=>lE(A);t XBB(vb A)=>lE(A);t Nh(NL A)=>lE(A);t EBB(wb A)=>Nh(A);t ht(uI A)=>lE(A);t gt(AS A)=>lE(A);t aBB(BK A)=>lE(A);t jBB(xI A)=>Uh(A);t Th(XH A)=>Uh(A);t Sh(GI A)=>Th(A);t fBB(xb A)=>Sh(A);t Rh(FS A)=>lE(A);t Ph(AK A)=>lE(A);t AV(CK A)=>lE(A);t SBB(UW A)=>AV(A);t VBB(yI A)=>AV(A);t UBB(HS A)=>AV(A);t TBB(GS A)=>AV(A);t WBB(VW A)=>AV(A);t DBB(WW A)=>lE(A);t CBB(OL A)=>iO(A);t YBB(XW A)=>lE(A);t ZBB(DK A)=>iO(A);t bBB(YW A)=>lE(A);}abstract class XC{i(v A);void oB(v A);Object run(EB A);}class SD extends XC{final List<sB> mC;SD(this.mC);sB OQ;i(v A)=>A.Fa(this);void oB(v A){for(sB B in mC)B.i(A);}Object run(EB A){return null;}Object XO(Map D,AJ G){EB I=new HW(this,null,D,G);Object A;var J=mC.length;for(var B=0;B<J;B++ ){var C=mC[B];OQ=C;A=C.run(I);if(A is PW){OQ=null;return A.value;}}OQ=null;return A;}}abstract class sB extends XC{String label;}class VH extends sB{final List<sB> Bh;VH(this.Bh);i(v A)=>A.FBB(this);void oB(v A){for(sB B in Bh)B.i(A);}Object run(EB B){Object A;for(sB C in Bh){A=C.run(B);if(A is WH){if(label!=null&&A is pG&&A.fC==label){return null;}return A;}}return null;}}class FP extends sB{final d ND;FP(this.ND);i(v A)=>A.NBB(this);void oB(v A){ND.i(A);}Object run(EB A){return ND.run(A);}}class CS extends sB{CS();i(v A)=>A.MBB(this);void oB(v A){}Object run(EB A){return null;}}class LW extends sB{final d HE;final XC then;final XC PO;LW(this.HE,this.then,this.PO);i(v A)=>A.RBB(this);void oB(v A){HE.i(A);then.i(A);PO.i(A);}Object run(EB A){if(JI(HE.run(A))){return then.run(A);}else{return PO.run(A);}}}abstract class zM extends sB{final sB mC;zM(this.mC);}class MW extends zM{final d init;final d HE;final d update;MW(this.init,this.HE,this.update,sB A):super(A);i(v A)=>A.OBB(this);void oB(v A){if(init!=null)init.i(A);if(HE!=null)HE.i(A);if(update!=null)update.i(A);mC.i(A);}Object run(EB B){Object A;for(init.run(B);JI(HE.run(B));update.run(B)){A=mC.run(B);if(A is WH){if(A is pG&&(A.fC==null||A.fC==label)){break;}if(A is FI&&(A.fC==null||A.fC==label)){continue;}return A;}}return null;}}class DS extends zM{final d gF;final d SU;DS(this.gF,this.SU,sB A):super(A);i(v A)=>A.PBB(this);void oB(v A){gF.i(A);SU.i(A);mC.i(A);}Object run(EB D){Object G=SU.run(D);mD B=gF.YG(D);if(gF is wI){B=(gF as wI).PQ.first.aq.YG(D);}if(G is Map&&B!=null){Object A;for(String I in G.keys){B.xF(I);A=mC.run(D);if(A is WH){if(A is pG&&(A.fC==null||A.fC==label)){break;}if(A is FI&&(A.fC==null||A.fC==label)){continue;}return A;}}}else if(G is List&&B!=null){Object A;for(int C=0;C<G.length; ++C){B.xF(C);A=mC.run(D);if(A is WH){if(A is pG&&(A.fC==null||A.fC==label)){break;}if(A is FI&&(A.fC==null||A.fC==label)){continue;}return A;}}}else if(G is pF&&B!=null){Object A;int J=G.fF();for(int C=0;C<J; ++C){B.xF(C);A=mC.run(D);if(A is WH){if(A is pG&&(A.fC==null||A.fC==label)){break;}if(A is FI&&(A.fC==null||A.fC==label)){continue;}return A;}}}return null;}}class NW extends zM{final XC HE;NW(this.HE,sB A):super(A);i(v A)=>A.kBB(this);void oB(v A){HE.i(A);mC.i(A);}Object run(EB B){Object A;while(JI(HE.run(B))){A=mC.run(B);if(A is WH){if(A is pG&&(A.fC==null||A.fC==label)){break;}if(A is FI&&(A.fC==null||A.fC==label)){continue;}return A;}}return null;}}class OW extends zM{final d HE;OW(sB A,this.HE):super(A);i(v A)=>A.LBB(this);void oB(v A){mC.i(A);HE.i(A);}Object run(EB B){Object A;do{A=mC.run(B);if(A is WH){if(A is pG&&(A.fC==null||A.fC==label)){break;}if(A is FI&&(A.fC==null||A.fC==label)){continue;}return A;}}while(JI(HE.run(B)));return null;}}abstract class WH extends sB{final String fC;WH(this.fC);void oB(v A){}}class FI extends WH{FI(A):super(A);i(v A)=>A.JBB(this);Object run(EB A){return this;}}class pG extends WH{pG(A):super(A);i(v A)=>A.GBB(this);Object run(EB A){return this;}}class PW extends WH{final Object value;PW(this.value):super(null);i(v A){}Object run(EB A){return value;}}class QW extends sB{final d value;QW([this.value=null]);i(v A)=>A.cBB(this);void oB(v A){if(value!=null)value.i(A);}Object run(EB A){return new PW(value.run(A));}}class RW extends sB{final d key;final List<vI> Ff;RW(this.key,this.Ff);i(v A)=>A.eBB(this);void oB(v A){key.i(A);for(vI B in Ff)B.i(A);}Object run(EB B){Object D=key.run(B);for(vI C in Ff){if(C is!GP||QL(D,(C as GP).ND.run(B))){Object A=C.mC.run(B);if(A is WH){if(A is pG&&(A.fC==null||A.fC==label)){break;}return A;}}}return null;}}abstract class vI extends XC{final VH mC;vI(this.mC);}class GP extends vI{final d ND;GP(this.ND,VH A):super(A);i(v A)=>A.HBB(this);void oB(v A){ND.i(A);mC.i(A);}Object run(EB A){return mC.run(A);}}class SW extends vI{SW(VH A):super(A);i(v A)=>A.KBB(this);void oB(v A){mC.i(A);}Object run(EB A){return mC.run(A);}}class TW extends sB{final XH name;final AK function;TW(this.name,this.function);i(v A)=>A.QBB(this);void oB(v A){name.i(A);function.i(A);}Object run(EB A){var B=function.run(A);A.rB(name.name,B);return B;}}abstract class d extends XC{mD YG(EB A){return null;}}class wI extends d{final List<zJ> PQ;wI(this.PQ);i(v A)=>A.hBB(this);void oB(v A){for(zJ B in PQ){B.i(A);}}Object run(EB C){for(var A in PQ){mD B=A.gF.YG(C);if(B!=null){if(A.value!=null){B.xF(A.value.run(C));}else{B.xF(null);}}}return null;}}class sb extends d{final List<d> Xf;sb(this.Xf);i(v A)=>A.dBB(this);void oB(v A){for(d B in Xf)B.i(A);}Object run(EB B){Object A;for(d C in Xf){A=C.run(B);}return A;}}class ML extends d{final d gF;final cC OO;final d value;ML(this.gF,this.value):OO=null;ML.ICB(this.gF,String A,this.value):OO=new cC(A);i(v A)=>A.ct(this);void oB(v A){gF.i(A);if(value!=null)value.i(A);}Object run(EB C){mD B=gF.YG(C);if(B!=null){Object A=value.run(C);if(OO!=null){A=OO.XD(B.L(),A);}B.xF(A);return A;}return null;}}class tb extends d{final d gF;final d value;tb(this.gF,this.value);i(v A)=>A.gBB(this);void oB(v A){gF.i(A);if(value!=null)value.i(A);}Object run(EB A){mD B=gF.YG(A);if(B!=null){Object C=value.run(A);B.Ft(C);return C;}return null;}}class zJ extends ML{zJ(XH A,d B):super(A,B);XH get aq=>gF;i(v A)=>A.iBB(this);}class ub extends d{final d HE;final d then;final d PO;ub(this.HE,this.then,this.PO);i(v A)=>A.IBB(this);void oB(v A){HE.i(A);then.i(A);PO.i(A);}Object run(EB A){if(JI(HE.run(A))){return then.run(A);}else{return PO.run(A);}}}class NL extends d{d target;List<d> arguments;NL(this.target,this.arguments);i(v A)=>A.Nh(this);void oB(v A){target.i(A);for(d B in arguments)B.i(A);}Object run(EB D){mD B=target.YG(D);Object A;if(B!=null){A=B.L();}else{A=target.run(D);}if(A is rE){int I=arguments.length;List G=new List(I);for(int C=0;C<I; ++C){G[C]=arguments[C].run(D);}if(B!=null){return A(B.gQ(),G);}return A(null,G);}else{throw 'invalid call to ${target}';}}}class vb extends NL{vb(d A,List<d> B):super(A,B);i(v A)=>A.XBB(this);Object run(EB G){mD I=target.YG(G);Object B;if(I!=null){B=I.L();}else{B=target.run(G);}if(B is Ml){int C=arguments.length;List D=new List(C);for(int A=0;A<C; ++A){D[A]=arguments[A].run(G);}return B.z7(D);}if(B is rE){int C=arguments.length;List D=new List(C);for(int A=0;A<C; ++A){D[A]=arguments[A].run(G);}Map J=new MB();B(J,D);return J;}else{throw 'invalid call to ${target}';}}}class wb extends NL{wb(String A,d B,d C):super(null,<d>[B,C]),OO=new cC(A);cC OO;d get left=>arguments[0];d get right=>arguments[1];i(v A)=>A.EBB(this);void oB(v A){for(d B in arguments)B.i(A);}Object run(EB A){return OO.vg(A,left,right);}}abstract class ES extends d{final String name;XC bZ;ES(this.name);i(v A);void oB(v A){}Object run(EB A){while(A!=null&&A.h!=bZ){A=A.parent;}if(A!=null){return A.L(name);}return null;}mD YG(EB A){while(A!=null&&A.h!=bZ){A=A.parent;}if(A!=null){return new qb(A,name);}return null;}}class xI extends ES{xI(String A):super(A);i(v A)=>A.jBB(this);}class XH extends ES{XH(String A):super(A);i(v A)=>A.Th(this);}class GI extends XH{GI(String A):super(A);i(v A)=>A.Sh(this);}class xb extends GI{xb():super("this");i(v A)=>A.fBB(this);}class FS extends d{final XH name;final AK function;FS(this.name,this.function);i(v A)=>A.Rh(this);void oB(v A){name.i(A);function.i(A);}Object run(EB A){var B=function.run(A);while(A!=null&&A.h!=name.bZ){A=A.parent;}A.rB(name.name,B);return B;}}class AK extends d{final List<GI> params;final VH mC;AK(this.params,this.mC);i(v A)=>A.Ph(this);void oB(v A){for(GI B in params)B.i(A);mC.i(A);}Object run(EB A){return new Ol(this,A);}Object IAB(EB I,List B,Object J){EB C=new Kl(this,I);int D=B.length;if(params.length<B.length){D=params.length;}for(int A=0;A<D; ++A){C.rB(params[A].name,B[A]);}C.rB('this',J);Object G=mC.run(C);if(G is PW){return G.value;}return null;}}class BK extends d{final d TO;final d GR;BK(this.TO,this.GR);i(v A)=>A.aBB(this);void oB(v A){TO.i(A);GR.i(A);}mD YG(EB A){return mD.Q1(TO.run(A),GR.run(A));}Object run(EB A){return i0(TO.run(A),GR.run(A));}}abstract class CK extends d{void oB(v A){}}class UW extends CK{final bool value;UW(this.value);i(v A)=>A.SBB(this);Object run(EB A){return value;}}class VW extends CK{VW();i(v A)=>A.WBB(this);Object run(EB A){return null;}}class GS extends CK{GS();i(v A)=>A.TBB(this);Object run(EB A){return null;}}class yI extends CK{static RegExp v1=new RegExp(r'\\(u....|.|\n)');static String w1(Match C){String B=C.group(0);if(B.length==6){int A=int.parse(B.substring(2),radix:16,onError:x2);if(A>-1){return new String.fromCharCode(A);}return '';}int A=B.codeUnitAt(1);if(A==yJ.H1)return '\n';if(A==yJ.I1)return '\r';if(A==yJ.E1)return '\b';if(A==yJ.K1)return '\t';if(A==yJ.F1)return '\f';if(A==yJ.S1)return '';return B.substring(1,2);}final String value;String IR;yI(this.value,[this.IR=null]){if(IR==null){IR=value.substring(1,value.length-1).replaceAllMapped(v1,w1);}}i(v A)=>A.VBB(this);Object run(EB A){return IR;}}class HS extends CK{final String value;num HZ;HS(this.value){HZ=W(value);}Object run(EB A){return HZ;}i(v A)=>A.UBB(this);}class WW extends d{final int length;final List<OL> Uf;WW(this.length,this.Uf);i(v A)=>A.DBB(this);void oB(v A){for(OL B in Uf)B.i(A);}Object run(EB B){List A=[] ;for(OL C in Uf){A.add(C.value.run(B));}return A;}}class OL extends XC{int index;d value;OL(this.index,this.value);i(v A)=>A.CBB(this);void oB(v A){value.i(A);}Object run(EB A){return value.run(A);}}class XW extends d{List<DK> kg;XW(this.kg);i(v A)=>A.YBB(this);void oB(v A){for(DK B in kg)B.i(A);}Object run(EB C){Map B=new MB<String,Object>();for(DK A in kg){if(A.name is yI){B[(A.name as yI).IR]=A.value.run(C);}}return B;}}class DK extends XC{CK name;d value;DK(this.name,this.value);i(v A)=>A.ZBB(this);void oB(v A){name.i(A);value.i(A);}Object run(EB A){return value.run(A);}}class YW extends d{String pattern;EI cG;YW(this.pattern){cG=new EI(pattern);}i(v A)=>A.bBB(this);void oB(v A){}Object run(EB A){return cG;}}abstract class cC{static const Map<String,cC> zz=const{'+':const Il(),'-':const Ll(),'*':const Pl(),'/':const Rl(),'%':const Tl(),'<<':const Vl(),'>>':const Wl(),'<':const Zl(),'>':const bl(),'<=':const cl(),'>=':const dl(),'in':const el(),'==':const fl(),'===':const gl(),'!=':const il(),'!==':const kl(),'&&':const ml(),'||':const nl(),'&':const pl(),'|':const ql(),'^':const rl()};factory cC(String A){return zz[A];}final String name;const cC.HCB(this.name);Object vg(EB A,d B,d C){return XD(B.run(A),C.run(A));}Object XD(Object A,Object B){return null;}}class Il extends cC{const Il():super.HCB('+');Object XD(Object A,Object B){if(A is num){return A+W(B);}if(A is String){return A+b(B,'');}return null;}}class Ll extends cC{const Ll():super.HCB('-');Object XD(Object A,Object B){return W(A)-W(B);}}class Pl extends cC{const Pl():super.HCB('*');Object XD(Object A,Object B){return W(A)*W(B);}}class Rl extends cC{const Rl():super.HCB('/');Object XD(Object A,Object B){return W(A)/W(B);}}class Tl extends cC{const Tl():super.HCB('%');Object XD(Object A,Object B){return W(A).remainder(W(B));}}class Vl extends cC{const Vl():super.HCB('<<');Object XD(Object A,Object B){return bB(A,0)<<bB(B,0);}}class Wl extends cC{const Wl():super.HCB('>>');Object XD(Object A,Object B){return bB(A,0)>>bB(B,0);}}class Zl extends cC{const Zl():super.HCB('<');Object XD(Object A,Object B){if(A is String&&B is String){return A.compareTo(B)<0;}return W(A)<W(B);}}class bl extends cC{const bl():super.HCB('>');Object XD(Object A,Object B){if(A is String&&B is String){return A.compareTo(B)>0;}return W(A)>W(B);}}class cl extends cC{const cl():super.HCB('<=');Object XD(Object A,Object B){if(A is String&&B is String){return A.compareTo(B)<=0;}return W(A)<=W(B);}}class dl extends cC{const dl():super.HCB('>=');Object XD(Object A,Object B){if(A is String&&B is String){return A.compareTo(B)>=0;}return W(A)>=W(B);}}class el extends cC{const el():super.HCB('in');Object XD(Object B,Object A){if(A is Map){return A.containsKey(B.toString());}else if(A is EB){return A.contains(B.toString());}else if(A is List&&B is num){int C=B.toInt();if(C>=0&&C<A.length){return true;}}return false;}}class fl extends cC{const fl():super.HCB('==');Object XD(Object A,Object B){return QL(A,B);}}class gl extends cC{const gl():super.HCB('===');Object XD(Object A,Object B){return A==B;}}class il extends cC{const il():super.HCB('!=');Object XD(Object A,Object B){return !QL(A,B);}}class kl extends cC{const kl():super.HCB('!==');Object XD(Object A,Object B){return A==B;}}class ml extends cC{const ml():super.HCB('&&');Object vg(EB A,d C,d D){Object B=C.run(A);if(JI(B)){return D.run(A);}return B;}Object XD(Object A,Object B){if(JI(A)){return B;}return A;}}class nl extends cC{const nl():super.HCB('||');Object vg(EB A,d C,d D){Object B=C.run(A);if(JI(B)){return B;}return D.run(A);}Object XD(Object A,Object B){if(JI(A)){return A;}return B;}}class pl extends cC{const pl():super.HCB('&');Object XD(Object A,Object B){return bB(A,0)&bB(B,0);}}class ql extends cC{const ql():super.HCB('&');Object XD(Object A,Object B){return bB(A,0)|bB(B,0);}}class rl extends cC{const rl():super.HCB('&');Object XD(Object A,Object B){return bB(A,0)^bB(B,0);}}class lb{final yJ xf;List<XB> zQ;String hg=null;lb(this.xf):this.zQ=<XB>[] ;void error(String A,var B,XB C){throw "${A}: ${B}. ${C}";}void fO(XB A){throw "Unexpected token: ${A}";}XB BL(){if(zQ.isEmpty){XB A;while(true){A=xf.next();if(A.type=="NEW_LINE"){hg=A.type;}else{break;}}zQ.add(A);}return zQ.last;}void q$(XB A){zQ.add(A);}String vB()=>BL().type;bool jQ()=>hg=='NEW_LINE';dynamic SB(String B){XB A=uB();if(A.type==B)return A.value;print("Expected: ${B}");return fO(A);}void BO(){String A=vB();if(A=="SEMICOLON"){uB();}else if(A=="RBRACE"||jQ()||A=="EOF"){}else{fO(BL());}}XB uB(){XB A=BL();hg=A.type;zQ.length-- ;return A;}bool Y7()=>vB()=="EOF";SD Z$()=>new SD(g$());List<sB> g$(){List<sB> A=<sB>[] ;while(!Y7()){sB B=jJ();A.add(B);}return A;}sB jJ(){switch (vB()){case "LBRACE":return Hs();case "SEMICOLON":return F$();case "IF":return N$();case "FOR":return I$();case "WHILE":return k$();case "DO":return E$();case "CONTINUE":return B$();case "BREAK":return w_();case "RETURN":return b$();case "SWITCH":return h$();case "FUNCTION":return L$();case "ID":return P$();default:return Is();}}VH Hs(){SB("LBRACE");List<sB> A=<sB>[] ;while(vB()!="RBRACE"){A.add(jJ());}uB();return new VH(A);}CS F$(){SB("SEMICOLON");return new CS();}LW N$(){SB("IF");SB("LPAREN");d B=pH(false);SB("RPAREN");sB C=jJ();sB A;if(vB()=="ELSE"){uB();A=jJ();}else{A=new CS();}return new LW(B,C,A);}zM I$(){SB("FOR");SB("LPAREN");d A;if(vB()!="SEMICOLON"){A=Qs(true);}else{A=new GS();}switch (vB()){case "SEMICOLON":return K$(A);case "IN":return J$(A);default:throw "internal error";}}MW K$(d C){SB("SEMICOLON");d A=null;if(vB()!="SEMICOLON"){A=pH(false);}else{A=new UW(true);}SB("SEMICOLON");d B;if(vB()!="RPAREN"){B=pH(false);}else{B=new GS();}SB("RPAREN");sB D=jJ();return new MW(C,A,B,D);}DS J$(d A){XB B=BL();SB("IN");d C=pH(false);SB("RPAREN");sB D=jJ();if(A is wI){wI G=A;if(G.PQ.length!=1){error("Only one variable allowed in 'for-in' statement",G.PQ[1].aq.name,B);}return new DS(A,C,D);}else if(A is xI||A is BK){return new DS(A,C,D);}else{print(A);}error("Bad left-hand side in 'for-in' loop construct",A,B);return null;}NW k$(){SB("WHILE");SB("LPAREN");d A=pH(false);SB("RPAREN");sB B=jJ();return new NW(A,B);}OW E$(){SB("DO");sB A=jJ();SB("WHILE");SB("LPAREN");d B=pH(false);SB("RPAREN");BO();return new OW(A,B);}FI B$(){SB("CONTINUE");if(!jQ()&&vB()=="ID"){String A=SB("ID");BO();return new FI(A);}else{BO();return new FI(null);}}pG w_(){SB("BREAK");if(!jQ()&&vB()=="ID"){String A=SB("ID");BO();return new pG(A);}else{BO();return new pG(null);}}QW b$(){SB("RETURN");d A;if(jQ()){A=new VW();}else{switch (vB()){case "EOF":case "ERROR":case "SEMICOLON":A=new VW();break;default:A=pH(false);}BO();return new QW(A);}return null;}RW h$(){SB("SWITCH");SB("LPAREN");d A=pH(false);SB("RPAREN");List<vI> B=x_();return new RW(A,B);}List<vI> x_(){SB("LBRACE");List<vI> A=<vI>[] ;bool B=false;while(vB()!="RBRACE"){switch (vB()){case "CASE":A.add(y_());break;case "DEFAULT":if(B){error("Only one default-clause allowed",BL(),BL());}A.add(D$());break;}}SB("RBRACE");return A;}GP y_(){SB("CASE");d A=pH(false);SB(":");VH B=Os();return new GP(A,B);}SW D$(){SB("DEFAULT");SB(":");return new SW(Os());}VH Os(){List<sB> A=<sB>[] ;while(true){switch (vB()){case "RBRACE":case "EOF":case "ERROR":case "DEFAULT":case "CASE":return new VH(A);default:A.add(jJ());}}}sB P$(){XB A=uB();String B=vB();assert(A.type=="ID");q$(A);if(B==":"){return O$();}else{return Is();}}sB Is(){d A=Qs(false);BO();return new FP(A);}sB O$(){String B=SB("ID");SB(":");sB A=jJ();A.label=B;return A;}TW L$()=>Js(true);d M$()=>Js(false);XC Js(C){SB("FUNCTION");String A=null;if(C||vB()=="ID")A=SB("ID");List<GI> D=V$();VH G=Hs();AK B=new AK(D,G);if(C)return new TW(new XH(A),B);if(A!=null)return new FS(new XH(A),B);return B;}List<GI> V$(){List<GI> A=<GI>[] ;SB("LPAREN");if(vB()=="RPAREN"){uB();return A;}while(true){A.add(new GI(SB("ID")));if(vB()!="COMMA")break;uB();}SB("RPAREN");return A;}d Qs(bool A){if(vB()=="VAR"){return j$(A);}return pH(A);}wI j$(bool A){SB("VAR");List<zJ> B=<zJ>[Ps(A)];while(true){switch (vB()){case "SEMICOLON":return new wI(B);case "COMMA":uB();B.add(Ps(A));break;case "IN":if(!A)error("bad token: ","in",BL());return new wI(B);default:if(!A&&(jQ()||vB()=="EOF")){return new wI(B);}fO(uB());}}}zJ Ps(bool B){String A=SB("ID");if(vB()=="="){uB();return new zJ(new XH(A),iJ(B));}return new zJ(new XH(A),null);}d pH(bool A)=>d$(A);d d$(bool A){d B=iJ(A);if(vB()=="COMMA"){List<d> C=<d>[B];while(vB()=="COMMA"){uB();C.add(iJ(A));}return new sb(C);}else{return B;}}bool j9(String A){switch (A){case "=":case "*=":case "/=":case "%=":case "+=":case "-=":case "<<=":case ">>=":case "&=":case "^=":case "|=":case "~=":return true;default:return false;}}d iJ(bool D){G(String A){assert(A[A.length-1]=="=");return A.substring(0,A.length-1);}XB I=BL();d B=A$(D);if(!j9(vB()))return B;String A=uB().value;d C=iJ(D);if((A=="=")&&B is BK)return new ML(B,C);if((A=="=")&&B is xI)return new ML(B,C);if(A=="=")error("bad assignment",null,I);if(B is BK){A=G(A);if(A=='~'){return new tb(B,C);}return new ML.ICB(B,A,C);}if(B is xI){A=G(A);return new ML.ICB(B,A,C);}error("bad assignment",null,I);return null;}d A$(bool A){d B=v_(A);if(vB()!="?")return B;uB();d C=iJ(false);SB(":");d D=iJ(A);return new ub(B,C,D);}int n_(String A){switch (A){case "||":return 1;case "&&":return 2;case "|":return 3;case "^":return 4;case "&":return 5;case "==":case "!=":case "===":case "!==":return 6;case "<":case ">":case "<=":case ">=":case "INSTANCEOF":case "IN":return 7;case "<<":case ">>":case ">>>":return 8;case "+":case "-":return 9;case "*":case "/":case "%":return 10;default:return null;}}d v_(bool I){d C(int B){if(B>10)return AL();d A=C(B+1);while(true){String D=vB();if(I&&D=="IN")return A;int G=n_(D);if(G==null)return A;if(G!=B)return A;String J=uB().value;d K=C(B+1);A=new wb(J,A,K);}}return C(1);}d AL(){switch (vB()){case "DELETE":uB();return new Jl(AL());case "VOID":uB();return new Nl(AL());case "TYPEOF":uB();return new Ql(AL());case "!":uB();return new Ul(AL());case "++":uB();return new Dl(AL());case "--":uB();return new Fl(AL());case "+":uB();return AL();case "-":uB();d A=AL();if(A is HS){A.HZ=-A.HZ;return A;}return new Gl(A);default:return X$();}}d X$(){d A=Q$();if(!jQ()){String B=vB();if(B=='++'){uB();return new Yl(A);}else if(B=='--'){uB();return new al(A);}}return A;}d Q$(){return Fs(Ls(),true);}d Ls(){if(vB()!="NEW"){return Fs(Y$(),false);}uB();d A=Ls();List<d> B=vB()=="LPAREN"?Gs():<d>[] ;return new vb(A,B);}d Fs(d A,bool C){String D(){if(vB()=="ID")return SB("ID");fO(uB());return null;}while(true){switch (vB()){case "LBRACKET":uB();d B=pH(false);SB("RBRACKET");A=new BK(A,B);break;case "DOT":uB();String B=D();A=new BK(A,new yI('"${B}"'));break;case "LPAREN":if(C){A=new NL(A,Gs());}else{return A;}break;default:return A;}}}List<d> Gs(){SB("LPAREN");List<d> A=<d>[] ;if(vB()=="RPAREN"){uB();return A;}A.add(iJ(false));while(vB()!="RPAREN"){SB("COMMA");A.add(iJ(false));}uB();return A;}d Y$(){switch (vB()){case "FUNCTION":return M$();case "THIS":uB();return new xb();case "ID":return new xI(SB("ID"));case "LPAREN":uB();d A=pH(false);SB("RPAREN");return A;case "LBRACKET":return u_();case "LBRACE":return T$();case "NULL":uB();return new GS();case "TRUE":case "FALSE":return new UW(uB().value=="true");case "NUMBER":return new HS(uB().value);case "STRING":return new yI(uB().value);case "/":case "/=":return a$();default:fO(BL());}return null;}WW u_(){SB("LBRACKET");List<OL> B=<OL>[] ;int A=0;while(true){switch (vB()){case "RBRACKET":uB();return new WW(A,B);case "COMMA":uB();A++ ;break;default:B.add(new OL(A,iJ(false)));A++ ;if(vB()!="RBRACKET"){SB("COMMA");}}}}XW T$(){CK C(){switch (vB()){case "ID":String B=SB("ID");return new yI('"${B}"',B);case "STRING":return new yI(SB("STRING"));case "NUMBER":return new HS(SB("NUMBER"));default:fO(uB());}return null;}DK D(){CK G=C();SB(":");d I=iJ(false);return new DK(G,I);}SB("LBRACE");List<DK> A=<DK>[] ;while(vB()!="RBRACE"){if(!A.isEmpty)SB("COMMA");A.add(D());}uB();return new XW(A);}YW a$(){XB A=xf.r9();if(A.type!="REGEXP")fO(A);XB B=uB();return new YW("${B.value}${A.value}");}}abstract class uI extends d{uI(this.ND);d ND;i(v A)=>A.ht(this);void oB(v A){ND.i(A);}}class Dl extends uI{Dl(d A):super(A);Object run(EB C){mD A=ND.YG(C);if(A!=null){Object B=A.L();if(B is num){A.xF(B+1);return B+1;}}return null;}}class Fl extends uI{Fl(d A):super(A);Object run(EB C){mD A=ND.YG(C);if(A!=null){Object B=A.L();if(B is num){A.xF(B-1);return B-1;}}return null;}}class Gl extends uI{Gl(d A):super(A);Object run(EB B){Object A=ND.run(B);if(A is num){return -A;}return null;}}class Jl extends uI{Jl(d A):super(A);Object run(EB B){mD A=ND.YG(B);if(A!=null){A.delete();}return null;}}class Nl extends uI{Nl(d A):super(A);Object run(EB A){ND.run(A);return null;}}class Ql extends uI{Ql(d A):super(A);Object run(EB B){Object A=ND.run(B);if(A is hC){return A.FD();}else if(A is List){return 'list';}else if(A is String){return 'string';}else if(A is num){return 'number';}else if(A is bool){return 'boolean';}return 'object';}}class Ul extends uI{Ul(d A):super(A);Object run(EB A){Object B=ND.run(A);return !JI(B);}}abstract class AS extends d{AS(this.ND);d ND;i(v A)=>A.gt(this);void oB(v A){ND.i(A);}}class Yl extends AS{Yl(d A):super(A);Object run(EB C){mD A=ND.YG(C);if(A!=null){Object B=A.L();if(B is num){A.xF(B+1);}return B;}return null;}}class al extends AS{al(d A):super(A);Object run(EB C){mD A=ND.YG(C);if(A!=null){Object B=A.L();if(B is num){A.xF(B-1);}return B;}return null;}}Object Al(Future B,String A){if(A=="then"||A=="next"){return A0;}else if(A=="catch"||A=="catchError"||A=="error"){return E0;}return null;}Object A0(Future A,List B){if(A is!Future||B.length!=1||B[0] is!rE){return null;}rE C=B[0];return A.then((D){return C(A,[D]);});}Object E0(Future A,List B){if(A is!Future||B.length!=1||B[0] is!rE){return null;}rE C=B[0];return A.catchError((D,G){return C(A,[D,G]);});}void H0(SD B){mb A=new mb();A.v7(B);ob C=new ob(A.QQ,A.kU);C.Fa(B);}class mb extends Xl{final Map<XC,Map<String,LG>> QQ;final Set<XC> kU;XC kT;Map<String,LG> EM;bool get IO=>kT is SD;mb():QQ=new MB<XC,Map<String,LG>>(),kU=new Set<XC>();void v7(SD A){A.i(this);}jO(XC A,void B()){XC C=kT;Map D=EM;kT=A;EM=new MB<String,LG>();QQ[A]=EM;B();A.oB(this);EM=D;kT=C;}void qp(){EM["this"]=new LG("this",isParam:true);}void I7(){EM["arguments"]=new LG("arguments",isParam:true);}Fa(SD A){jO(A,(){qp();A.oB(this);});}Rh(FS A){jO(A,(){A.oB(this);});}Ph(AK A){jO(A,(){qp();I7();A.oB(this);});}Th(XH B){String A=B.name;EM[A]=new LG(A,isGlobal:IO);}Sh(GI B){String A=B.name;EM[A]=new LG(A,isParam:true);}Nh(NL A){if(A.target is xI){xI B=A.target;if(B.name=="eval")kU.add(kT);}A.oB(this);}ht(uI A){A.oB(this);}gt(AS A){A.oB(this);}}class ob extends Xl{final Map<XC,Map<String,LG>> QQ;final Set<XC> kU;final List<XC> jU;final List<Map<String,LG>> cZ;ob(this.QQ,this.kU):jU=<XC>[] ,cZ=<Map<String,LG>>[] ;jO(XC A){jU.add(A);cZ.add(QQ[A]);A.oB(this);cZ.length-- ;jU.length-- ;}Fa(SD A)=>jO(A);Rh(FS A)=>jO(A);Ph(AK A)=>jO(A);Uh(ES A){A.bZ=resolve(A.name,jU.length-1);}XC resolve(String C,int A){Map<String,LG> D=cZ[A];XC B=jU[A];LG G=D[C];if(G!=null)return B;if(B is SD){return B;}return resolve(C,A-1);}}class EB extends AJ{final EB parent;final XC h;Map<String,Object> map=new MB<String,Object>();EB(this.h,this.parent);Object L(String A){return map[A];}void rB(String A,Object B){map[A]=B;}void o(String A,Object B){map[A]=B;}void ZC(String A,String B){throw '~= not supported for this type';}bool contains(String A){return map.containsKey(A);}}class HW extends EB{static final Map<String,Object> K0=xz;Map<String,Object> nf;AJ uU;HW(XC A,EB B,this.nf,this.uU):super(A,B);Object L(String B){if(B.startsWith('@')){if(B=='@'){return uU;}else{return uU.L(B);}}var A=map[B];if(A!=null){return A;}A=nf!=null?nf[B]:null;if(A!=null){return A;}A=K0[B];if(A!=null){return A;}return null;}}class Kl extends EB{Kl(XC A,EB B):super(A,B);}typedef Object rE(Object _0,List _1);abstract class Ml{}class Ol{final AK function;final EB qs;Ol(this.function,this.qs);Object call(Object A,List B){return function.IAB(qs,B,A);}}Object i0(Object A,Object B){if(A==null){throw 'can not access ${B} of null';}if(A is Map){return A[B.toString()];}if(A is AJ){return A.L(B.toString());}if(A is String){return Hl(A,B);}if(A is List&&B is num){return A[B.toInt()];}if(A is List){return Bl(A,B);}if(A is eB){return El(A,B);}if(A is DateTime){return J0(A,B);}if(A is Future){return Al(A,B);}if(A is EI){return M0(A,B);}throw 'can not access ${B} of ${A}';}abstract class mD{void xF(Object A);void Ft(Object A){throw '~= not supported for this type';}Object L();Object gQ();void delete();static mD Q1(Object A,Object B){if(A is Map&&B is String){return new hl(A,B);}if(A is AJ){return new qb(A,B.toString());}if(A is List){if(B is num){return new jl(A,B.toInt());}else if(B=='length'){return new ll(A);}else{return new BS(A,Bl(A,B));}}if(A is String){return new BS(A,Hl(A,B));}if(A is KD){return new BS(A,El(A,B));}if(A is Future){return new BS(A,Al(A,B));}return null;}}class BS extends mD{final Object target;final Object value;Object gQ()=>target;BS(this.target,this.value);void xF(Object A){}Object L(){return value;}void delete(){}}abstract class pb{}class qb implements mD{final AJ map;final String XG;Object gQ()=>map;qb(this.map,this.XG);void xF(Object A){if(A is pb){map.o(XG,A.Er());}else{map.rB(XG,A);}}void Ft(Object A){if(A is List){if(A.length==1&&A[0] is String){map.ZC(XG,A[0]);}else{map.ZC(XG,null);}}else if(A is pb){map.o(XG,A.Er());}else{map.o(XG,A);}}Object L(){return map.L(XG);}void delete(){map.o(XG,null);}}class hl extends mD{final Map map;final String XG;Object gQ()=>map;hl(this.map,this.XG);void xF(Object A){map[XG]=A;}Object L(){return map[XG];}void delete(){map.remove(XG);}}class jl extends mD{final List list;final int BU;Object gQ()=>list;jl(this.list,this.BU);void xF(Object A){list[BU]=A;}Object L(){return list[BU];}void delete(){}}class ll extends mD{final List list;Object gQ()=>list;ll(this.list);void xF(Object A){list.length=A;}Object L(){return list.length;}void delete(){}}class EI{RegExp cG;bool IO=false;EI(String A){int B=A.lastIndexOf('/');bool C=!A.contains('i',B);bool D=A.contains('m',B);IO=A.contains('g',B);cG=new RegExp(A.substring(1,B),multiLine:D,caseSensitive:C);}Object m8(Object I,List G){Object C=G[0];if(C is String){Match A=cG.firstMatch(C);if(A!=null){List<String> D=[] ;for(int B=0;B<=A.groupCount; ++B){D.add(A.group(B));}return D;}}return null;}Object test(Object C,List B){Object A=B[0];if(A is String){return cG.hasMatch(A);}return null;}}Object M0(EI A,String B){if(B=='exec'){return A.m8;}else if(B=='test'){return A.test;}return null;}Object Hl(String B,String A){if(A=='length')return B.length;if(A=='replace')return R1;if(A=='replaceAll')return Y1;if(A=='replaceAllMapped')return d1;if(A=='match')return g1;if(A=='matchAll')return h1;if(A=='charAt')return i1;if(A=='charCodeAt')return j1;if(A=='indexOf')return l1;if(A=='lastIndexOf')return m1;if(A=='split')return o1;if(A=='subStr')return ol;if(A=='subString')return rb;if(A=='substr')return ol;if(A=='substring')return rb;if(A=='slice')return rb;if(A=='toLowerCase')return p1;if(A=='toUpperCase')return q1;if(A=='trim')return r1;if(A=='trimLeft')return s1;if(A=='trimRight')return t1;if(A=='encodeBase64')return sl;if(A=='decodeBase64')return tl;if(A=='encodeUriComponent')return ul;if(A=='decodeUriComponent')return vl;if(A=='encodeCamelCase')return wl;if(A=='decodeCamelCase')return xl;if(A=='splitQuery')return u1;if(A=='md5')return yl;if(A=='sha1')return zl;if(A=='sha256')return Am;return null;}Object R1(Object B,List D){if(B is String){Object A=D[0];Object C=b(D[1]);if(A is String){return B.replaceFirst(A,C);}else if(A is EI){if(A.IO){return B.replaceAll(A.cG,C);}else{return B.replaceFirst(A.cG,C);}}}return null;}Object Y1(Object B,List C){if(B is String){Object A=C[0];Object D=b(C[1]);if(A is String){return B.replaceAll(A,D);}else if(A is EI){return B.replaceAll(A.cG,D);}}return null;}Object d1(Object B,List C){if(B is String){Object D=C[0];Object G=C[1];String K(Match I){List<String> J=[] ;for(int A=0;A<=I.groupCount; ++A){J.add(I.group(A));}return (G as rE)(null,[J]);}if(D is EI&&G is rE){return B.replaceAllMapped(D.cG,K);}}return null;}Object g1(Object C,List D){if(C is String){Object B=D[0];if(B is EI){if(B.IO){Iterable<Match> A=B.cG.allMatches(C);if(A.length==0){return null;}return A.map((Match G)=>G.group(0)).toList();}else{Match A=B.cG.firstMatch(C);if(A!=null){return A.group(0);}}}}return null;}Object h1(Object A,List C){if(A is String){Object B=C[0];if(B is EI){return B.cG.allMatches(A).map((Match D)=>D.group(0)).toList();}}return null;}Object i1(Object A,List B){if(A is String&&B[0] is num){int C=B[0].toInt();return A.substring(C,C+1);}return null;}Object j1(Object A,List B){if(A is String&&B[0] is num){int C=B[0].toInt();return A.codeUnitAt(C);}return null;}Object l1(Object A,List B){if(A is String&&B[0] is String){return A.indexOf(B[0]);}return null;}Object m1(Object A,List B){if(A is String&&B[0] is String){return A.lastIndexOf(B[0]);}return null;}Object o1(Object C,List D){if(C is String){Object B=D[0];List A;if(B is String){A=C.split(B);}else if(B is EI){A=C.split(B.cG);}if(D.length>1&&D[1]==true){A=A.where((G)=>G!='').toList();}return A;}return null;}Object rb(Object B,List C){if(B is String&&C[0] is num){if(C.length>1&&C[1] is num){int A=C[0].toInt();int D=C[1].toInt();if(A<0)A=B.length+A;if(D<0)D=B.length+D;return B.substring(A,D);}else{int A=C[0].toInt();if(A<0)A=B.length+A;return B.substring(A);}}return null;}Object ol(Object B,List A){if(B is String&&A[0] is num){if(A.length>1&&A[1] is num){int C=A[0].toInt();int D=A[1].toInt();return B.substring(C,D+C);}else{return B.substring(A[0].toInt());}}return null;}Object p1(Object A,List B){if(A is String){return A.toLowerCase();}return null;}Object q1(Object A,List B){if(A is String){return A.toUpperCase();}return null;}Object r1(Object A,List B){if(A is String){return A.trim();}return null;}Object s1(Object A,List B){if(A is String){return A.trimLeft();}return null;}Object t1(Object A,List B){if(A is String){return A.trimRight();}return null;}Object sl(Object A,List B){if(A is String){return TH.pO((const Utf8Codec(allowMalformed:true)).encode(A));}return null;}Object tl(Object A,List B){if(A is String){if(B.length>0&&B[0]==true){return TH.ea(A);}else{return (const Utf8Codec(allowMalformed:true)).decode(TH.ea(A),allowMalformed:true);}}return null;}Object ul(Object A,List B){if(A is String){return Uri.encodeComponent(A);}return null;}Object vl(Object A,List B){if(A is String){return ON.PN(A);}return null;}Object wl(Object A,List B){if(A is String){return Km.d2(A);}return null;}Object xl(Object A,List B){if(A is String){return Km.n2(A);}return null;}Object u1(Object A,List B){if(A is String){return Uri.splitQueryString(A);}return null;}Object yl(Object A,List C){if(A is String){oO B=new PV();B.add((const Utf8Codec(allowMalformed:true)).encode(A));return TH.ba(B.close());}return null;}Object zl(Object A,List C){if(A is String){oO B=new oM();B.add((const Utf8Codec(allowMalformed:true)).encode(A));return TH.ba(B.close());}return null;}Object Am(Object A,List C){if(A is String){oO B=new OV();B.add((const Utf8Codec(allowMalformed:true)).encode(A));return TH.ba(B.close());}return null;}class LG{final String id;final bool IO;final bool n9;final bool p9;const LG(this.id,{isGlobal: false,isImplicit: false,isParam: false}):this.IO=isGlobal,this.n9=isImplicit,this.p9=isParam;}class xk implements AJ{const xk();Object L(String A){return C0[A];}void o(String A,Object B){throw "can't change readonly object";}void rB(String A,Object B){throw "can't change readonly object";}void ZC(String A,String B){throw "can't change readonly object";}}const Map<String,Object> C0=const{'parse':U0,'stringify':b0};Object El(eB A,Object B){if(B=='children'){if(A is KD){return A.p;}return null;}if(B=='elements'){if(A is KD){return A.p.where((C)=>C is KD).toList();}return null;}if(B=='name'){if(A is KD){return A.name.aG;}return null;}if(B=='data'){if(A is JK){return A.kE;}return null;}if(B=='text'){if(A is KD){return RP.S3(A);}return null;}if(B=='getAttribute')return e0;if(B=='query')return j0;if(B=='queryAll')return o0;if(B=='remove')return r0;return null;}Object U0(Object C,List B){Object A=B[0];if(A is String){return RP.R3(A);}return null;}Object b0(Object C,List B){Object A=B[0];if(A is KD){return A.toString();}return null;}Object e0(Object A,List C){Object B=C[0];if(A is KD&&B is String){return A.cJ(B);}return null;}Object j0(Object A,List B){if(A is KD){return RP.T3(A,B[0]);}return null;}Object o0(Object A,List B){if(A is KD){return RP.U3(A,B[0]);}return null;}Object r0(Object A,List B){if(A is eB){A.parent.p.remove(A);}return null;}Object v0(Object A,List B){if(A is List<eB>&&A.length>0&&A[0] is eB){return RP.Oc(A,B[0]);}return null;}Object B1(Object A,List B){if(A is List<eB>&&A.length>0&&A[0] is eB){return RP.Pc(A,B[0],new List<eB>());}return null;}class ZW{final String path;final gB u;Set<qG> DV=new HashSet<qG>();ZW(this.path,this.u);Object gD;bool SJB=false;void xL(qG A){DV.add(A);if(Cf!=null){A.yU(Cf);}if(!SJB){u.Ah(path);SJB=true;}}void nJ(qG A){DV.remove(A);if(DV.length==0&&SJB){if(!TJB){TJB=true;LI.YL(o7);}}}bool TJB=false;void o7(){TJB=false;if(DV.length==0&&SJB){u.lZ(path);SJB=false;}}Map Cf;void process(Map A){Cf=A;DV.forEach((qG B){B.yU(A);});}}abstract class A2 implements gB{Map<String,ZW> FG=new MB<String,ZW>();void xL(qG B,String A){if(!FG.containsKey(A)){FG[A]=new ZW(A,this);}FG[A].xL(B);}void nJ(qG B,String A){if(FG.containsKey(A)){FG[A].nJ(B);}}void lZ(String A){FG.remove(A);}}class sE{final gB u;bool DDB=false;String path;String UJB;String get name=>UJB;void set name(String A){UJB=A;}String AU;bool oY=false;String type;String unit;String mK;bool pY=false;bool hQ=false;Object s9;List<aD> iK;sE(this.u);void xL(qG A){u.xL(A,path);}void nJ(qG A){u.nJ(A,path);}}class QC{String name;String type;String unit;List<String> VJB;List<String> get mK=>VJB;String WJB;String get IM=>WJB;Map meta;QC(this.name,this.type,{this.unit,this.meta}){if(type=='table'){type='tabledata';}else if(type.startsWith('enum[')&&type.endsWith(']')){WJB=type.substring(5,type.length-1);VJB=WJB.split(',').map((A)=>ON.PN(A)).toList();type='enum';}else if(type.startsWith('bool[')&&type.endsWith(']')){String C=type.substring(5,type.length-1);List B=C.split(',').map((A)=>ON.PN(A)).toList();if(B.length==2){if(meta==null)meta={};meta['trueLabel']=B[1];meta['falseLabel']=B[0];type='bool';}}}Object o8(Object A){if(type=='string'){return b(A);}else if(type=='bool'||type=='boolean'){return UB(A);}else if(type=='number'||type=='numeric'){Object C=W(A);if((C as num).isFinite){return C;}return null;}else if(type=='enum'){String D=b(A);if(VJB!=null&&D==null&&VJB.length>0){return VJB[0];}return D;}else if(type=='time'||type=='duration'){return b(A);}else if(type=='daterange'){String B=b(A,'today');if(B.length==59&&B.codeUnitAt(29)==47){return B;}PB G=PB.EE(B);if(G!=null){return G.toIso8601String('');}}else if(type=='dynamic'){if(A is String||A is num||A is bool||A is Map||A is List){return A;}}else if(type=='array'){if(A is List){return A;}else if(A is pF){return A.rJ();}else if(A is String){if(A.startsWith('[')){Object I=tG.EN(A);if(I is List){return I;}}else{return A.split(',');}}}else if(type=='map'){if(A is Map){return A;}if(A is String){if(A.startsWith('{')){Object J=tG.EN(A);if(J is Map){return J;}}return A;}}return b(A);}Object U$(Object A){if(type=='string'){return b(A);}if(type=='bool'){return UB(A);}if(type=='number'){return W(A);}if(type=='tabledata'){if(A is Map){return new U.NCB(A);}return null;}return A;}}class aD{bool GDB=false;bool getTable;bool stream;String name;String label;List<QC> params;List<QC> results;bool allowCache=true;aD(this.name,{this.params,this.results,this.allowCache: true,this.getTable: false,this.stream: false,this.label: null});String p$;aD.JCB(String C,List B){for(Object A in B){if(A is List){if(A.length==3){if(params==null)params=new List<QC>();Map B;if(A[2] is Map){B=A[2] as Map;}params.add(new QC(b(A[0]),b(A[1]),meta:B));}else if(A.length==2){if(results==null)results=new List<QC>();results.add(new QC(b(A[0]),b(A[1])));}}}}List dAB(){List B=[] ;if(params!=null){for(QC A in params){if(A.meta==null){B.add([A.name,A.type,null]);}else{B.add([A.name,A.type,A.meta]);}}}if(results!=null){for(QC C in results){B.add([C.name,C.type]);}}return B;}}abstract class qG{}abstract class gB{}class MG{static Map<String,gB> cW=new MB<String,gB>();static void Ac(gB A,[String B]){if(B!=null){cW[B]=A;}cW[A.dZ()]=A;}static gB rG(String A){if(A==null||A==''){A='default';}if(cW.containsKey(A)){return cW[A];}gB B=G2(A);if(B!=null){Ac(B,A);return B;}B=nF.L2(A);if(B!=null){Ac(B,A);return B;}return null;}static gB G2(String A){return null;}}typedef void ZD(String _0);typedef void z1(List<int> _0);typedef void Bm();String IS(String B,String A){if(B==null){B='';}if(A==null||A==''){return B;}if(A.endsWith('/')){A=A.substring(0,A.length-1);}int C=0;if(B==''||B.endsWith('/')){ ++C;}if(A.startsWith('/')){ ++C;}if(C==0){return '${B}/${A}';}if(C==2){return '${B}${A.substring(1)}';}return '${B}${A}';}class GC{Function callback;ZD onError;Map meta;GC(this.callback,this.onError,[this.meta]);void cancel(){callback=null;onError=null;}bool get canceled=>callback==null;}class yb{}abstract class Cm{}typedef void E2(String _0,String _1);class F2{}class nF{static Cm PL;static String Bc(){return PL.ADB();}static GC dW(Function A,String C,{bool refresh: false,ZD onError,bool ignoreConnectionToProject: false}){bool B=false;if(A is ZD){B=true;}else if(A is z1){B=false;}else{if(onError!=null){onError('DGFileService.loadFile callback should accept a String or  List<int>');}return null;}if(HI.D2(C,onError)){return null;}return PL.FDB(A,C,B,refresh:refresh,onError:onError,ignoreConnectionToProject:ignoreConnectionToProject);}static String H2(String A,[Map<String,String> B]){if(HI.bW(A)){return A;}if(HI.aW(A)!=null){return null;}return PL.BDB(A,B);}static GC I2(void B(List<yb> files),String A,{String filter,ZD onError}){if(HI.C2(A,onError)){return null;}return PL.EDB(B,A,filter:filter,onError:onError);}static GC Cc(Bm B,String A,Object C,{bool overwrite: true,ZD onError}){if(HI.zb(A,onError)){return null;}return PL.cDB(B,A,C,overwrite:overwrite,onError:onError);}static void J2(Bm B,String A,{ZD onError}){if(HI.zb(A,onError)){return;}PL.uCB(B,A,onError:onError);}static F2 K2(E2 B,String A,[String C]){String D=HI.aW(A);if(D!=null){return null;}return PL.aDB(B,A,C);}static gB L2(String A){return PL.yCB(A);}}class HI{static RegExp x1=new RegExp(r'''[\\\?%\*:\|\"]''');static RegExp y1=new RegExp(r'''[\\\?%\*:\|\"\.]''');static String aW(String A){if(A==null||A==''){return O('path is blank');}int C=A.indexOf(x1);if(C>-1){return '${O("path contains invalid char")}: ${A.substring(C,C+1)} : ${A}';}if(A.contains('//')){return '${O("path contains blank directory")} : ${A}';}int D=A.lastIndexOf('/');String G;String B;if(D<0){G='';B=A;}else{G=A.substring(0,D);B=A.substring(D+1);}if(G.indexOf('.')>-1){return '${O("dot(.) is not allowed in dglux directory name")} : ${A}';}int I=B.lastIndexOf('.');if(I<0){return 'dglux ${O("requires at least one dot(.) in the file name")} : ${B}';}if(I==B.length-1){return 'dglux ${O("filename can not end with dot(.)")} : ${B}';}return null;}static String B2(String A){if(A==null){return O('path is blank');}int B=A.indexOf(y1);if(B>-1){return '${O("path contains invalid char")}: ${A.substring(B,B+1)} : ${A}';}if(A.contains('//')||A.endsWith('/')){return '${O("path contains blank directory")}: ${A}';}return null;}static bool bW(String A){return A==null||(A.contains('://')||A.startsWith('//')||A.startsWith('../')||A.startsWith('./')||A.startsWith('data:')||A.startsWith('blob:'));}static bool zb(String C,ZD A){String B=aW(C);if(B!=null){if(A!=null){A(B);}return true;}return false;}static bool C2(String C,ZD A){String B=B2(C);if(B!=null){if(A!=null){A(B);}return true;}return false;}static bool D2(String A,ZD B){if(bW(A)){return false;}return zb(A,B);}static String Dm(String A,String B){if(bW(A)||A==null||A.startsWith('lib/')){return A;}if(B==''){return 'lib/${nF.Bc()}/${A}';}return '${B}${A}';}}class NE implements gB{final gB u;final String MQ;final bool Rs;NE(this.u,this.MQ,this.Rs);String hG(String A){if(Rs){return '${MQ}${A}';}else{return IS(MQ,A);}}String dZ(){return u.dZ();}gB gf(String A,bool B){return u.gf(hG(A),B);}GC query(void A(U data),String B,String C,{ZD onError}){return u.query(A,B,C,onError:onError);}GC BG(void A(Map data),String B,String C,Map D,{bool reuseReq: false,bool table: false,int streamCache: 0,ZD onError,List defaultColumns}){return u.BG(A,B,hG(C),D,reuseReq:reuseReq,table:table,streamCache:streamCache,onError:onError,defaultColumns:defaultColumns);}void xL(qG A,String B){u.xL(A,hG(B));}void nJ(qG A,String B){u.nJ(A,hG(B));}GC iY(void A(U data),String B,String C,String D,String G,{ZD onError}){return u.iY(A,hG(B),C,D,G,onError:onError);}void Ah(String A){u.Ah(hG(A));}void lZ(String A){u.lZ(hG(A));}GC cf(void A(List<sE> nodes),String B,{ZD onError}){return u.cf(A,IS(MQ,B),onError:onError);}GC UE(void A(sE node),String B,{bool noCache: false,ZD onError}){return u.UE(A,hG(B),noCache:noCache,onError:onError);}GC gY(void A(aD action),String B,String C,{bool noCache: false,ZD onError}){return u.gY(A,hG(B),C,noCache:noCache,onError:onError);}}class M2 extends KI implements zc{static dynamic Em(A){return null;}JsonEncoder encoder=new JsonEncoder(Em);JsonDecoder decoder=new JsonDecoder();JsonEncoder XJB;Object bq(String A){return decoder.convert(A);}String gq(Object B,{bool pretty: false}){JsonEncoder A=encoder;if(pretty){if(XJB==null){XJB=encoder=new JsonEncoder.withIndent("  ",Em);}A=XJB;}return A.convert(B);}JsonDecoder YJB;Map SY(List<int> A){return RQ(UTF8.decode(A));}Object RQ(String B){if(ZJB==null){ZJB=(D,A){if(A is String&&A.length>0&&A.codeUnitAt(0)==0x1B){if(A=='\u001BNaN'){return double.NAN;}if(A=='\u001BInfinity'){return double.INFINITY;}if(A=='\u001B-Infinity'){return double.NEGATIVE_INFINITY;}if(A.startsWith('\u001Bbytes:')){try {return NN.On(uG.ZP(A.substring(7)));}catch (G){return null;}}}return A;};}if(YJB==null){YJB=new JsonDecoder(ZJB);}var C=YJB.convert(B);return C;}Function ZJB;Function aJB;Object qT(Map D){if(aJB==null){aJB=(A){if(A is ByteData){return '\u001Bbytes:${uG.QN(NN.uc(A))}';}if(A is num){num B=A;if(B.isNaN){return '\u001BNaN';}else if(B.isInfinite){if(B.isNegative){return '\u001B-Infinity';}else{return '\u001BInfinity';}}}return null;};}JsonEncoder C;if(bJB==null){bJB=new JsonEncoder(aJB);}C=bJB;var G=C.convert(D);return G;}JsonEncoder bJB;}class II implements GC{Function callback;ZD onError;Map meta;StreamSubscription gD;II(this.gD,this.callback,this.onError,[this.meta]);void cancel(){if(gD!=null){gD.cancel();gD=null;}callback=null;onError=null;}bool get canceled=>callback==null;}class ZE extends A2 implements gB{static final Map Fm={"oneYear":"1Y","threeMonths":"3N","oneMonth":"1N","oneWeek":"1W","oneDay":"1D","twelveHours":"12H","sixHours":"6H","fourHours":"4H","threeHours":"3H","twoHours":"2H","oneHour":"1H","thirtyMinutes":"30M","twentyMinutes":"20M","fifteenMinutes":"15M","tenMinutes":"10M","fiveMinutes":"5M","oneMinute":"1M","thirtySeconds":"20S","fifteenSeconds":"15S","tenSeconds":"10S","fiveSeconds":"5S","oneSecond":"1S"};final String host;TS sD;bool Vf;String cJB='default';String dZ(){return cJB;}N2 iq;ZE.KCB(this.host,this.sD);Map<String,NE> dJB=new MB<String,NE>();Map<String,NE> eJB=new MB<String,NE>();NE gf(String A,bool C){if(A==null){A='';}Map<String,NE> B;if(C){B=eJB;}else{B=dJB;}if(B.containsKey(A)){return B[A];}NE D=new NE(this,A,C);B[A]=D;return D;}String fJB;GC query(void A(U data),String B,String C,{ZD onError}){return new GC(A,onError);}GC BG(void D(Map data),String S,String a,Map q,{bool reuseReq: false,bool table: false,int streamCache: 0,ZD onError,List defaultColumns}){if(S=='@set'){GC B=new GC(D,onError);sD.GB.set(a,q['value']).then((UF A){if(B.callback!=null){B.callback({});}B.cancel();});return B;}if(S=='@remove'){GC B=new GC(D,onError);sD.GB.remove(a).then((UF A){if(B.callback!=null){B.callback({});}B.cancel();});return B;}if(S=='@addAttribute'){GC B=new GC(D,onError);Object N=q['name'];if(N is!String||N==''){return null;}Object lB=q['value'];if(!(N as String).startsWith('@')){N='@${N}';}String xB=IS(a,N);sD.GB.set(xB,lB).then((UF A){if(B.callback!=null){B.callback({});}B.cancel();});return B;}II B;String HB;if(a=='/'){HB='/${S}';}else{HB='${a}/${S}';}List J;List C;String P='stream';B=new II(sD.GB.BG(HB,q).listen((EJ A){if(D!=null){if(A.error!=null){if(onError!=null){onError(A.error.T9());}}else if(table){if(A.QZ!=null){if(J==null||P=='refresh'){J=[U.oF];}J.addAll(V.Qm(A.QZ));}else if(J==null){if(A.g==null){if(defaultColumns==null){J=[U.oF];}else{J=[U.oF]..addAll(defaultColumns);}}else{J=[U.oF]..addAll(A.g.map((EC){return new V.LCB(EC.zB());}));}}String R;if(A.meta!=null){if(A.meta['mode'] is String){P=A.meta['mode'];}if(A.meta['modify'] is String){R=A.meta['modify'];}}if(C==null){C=A.m.map((List G){return [0]..addAll(G);}).toList();;}else{var BB=A.m.map((List G){return G..insert(0,0);});if(R!=null&&P!='stream'){if(R.startsWith('insert ')){int aB=bB(R.substring(7),0);if(aB>=0&&aB<=C.length){C.insertAll(aB,BB);}}else if(R.startsWith('replace ')){List<int> K=R.substring(8).split('-').map((aC)=>bB(aC,-1)).toList();if(K.length==2&&K[0]>=0&&K[1]>=K[0]&&K[1]<C.length){C.replaceRange(K[0],K[1]+1,BB);}}}else if(P=='refresh'){C.clear();C.addAll(BB);}else{C.addAll(BB);}}if(P=='stream'&&streamCache>0&&streamCache<C.length){C=C.sublist(C.length-streamCache);}if(A.jD!=jB.DJ){D({'output':new U(C,J)});}}else{if(A.g==null){if(A.JF!=null&&A.JF.length>0){Object G=A.JF.last;if(G is Map){D(G);}else if(G is List&&defaultColumns!=null&&G.length<=defaultColumns.length){Map j={};for(int I=0;I<G.length; ++I){j[defaultColumns[I].name]=G[I];}D(j);}else{D({});}}else{D({});}}else if(A.m.length>0&&A.g!=null){List G=A.m.last;Map j={};for(int I=0;I<A.g.length; ++I){j[A.g[I].name]=G[I];}D(j);}else{D({});}}}if(A.jD==jB.jC||(A.jD==jB.WL&&P!='append'&&streamCache<=0)){B.cancel();if(onError!=null){onError(null);}}}),D,onError);return B;}List gJB=[new V('timestamp'),new V('value')];GC iY(void B(U data),String C,String D,String A,String G,{ZD onError}){if(A!=null&&Fm.containsKey(A)){A=Fm[A];}return BG((I){B(I["output"]);},"getHistory",C,{"Timerange":D,"Interval":A,"Rollup":G},table:true,defaultColumns:gJB,onError:onError);}void Ah(String A){tB D=new tB(A);if(D.xY){FG[A].gD=sD.GB.nI(A,(hB B){FG[A].process({'value':B.value,'lastUpdate':B.ts,'status':B.status});});}else{bool I=true;String G=D.name;bool J=D.rf;FG[A].gD=sD.GB.list(D.WC).listen((JD B){if(B.eD.contains(G)){Object C=B.h.get(G);if(J&&C is Map&&C.containsKey('@')){C=(C as Map)['val'];}FG[A].process({'value':C});}else if(I){FG[A].process({'value':B.h.get(G)});I=false;}});}}void lZ(String A){if(FG[A].gD is StreamSubscription){(FG[A].gD as StreamSubscription).cancel();FG[A].gD=null;}FG.remove(A);}GC cf(void I(List<sE> nodes),String J,{ZD onError}){II A;A=new II(sD.GB.list(J).listen((JD B){if(B.jD!=jB.DJ){List<sE> C=new List<sE>();B.h.p.forEach((String K,RC D){if(D.CC(r'$invokable') is!String){sE G=df(D);if(G!=null){C.add(G);}}});if(A.callback!=null){A.callback(C);}A.cancel();}}),I,onError);return A;}GC UE(void C(sE node),String D,{bool noCache: false,ZD onError}){II A;A=new II(sD.GB.list(D).listen((JD B){if(B.jD!=jB.DJ){sE G=df(B.h);if(A.callback!=null){A.callback(G);}A.cancel();}}),C,onError);return A;}GC gY(void G(aD action),String I,String C,{bool noCache: false,ZD onError}){if(C=='@set'){int N=I.lastIndexOf('/');String K;if(N>=0){K=I.substring(N+1);}if(K==null||K.startsWith('@')||I.contains('/data/')){LI.YL((){G(new aD('@set',params:[new QC('value','dynamic')],allowCache:false));});return null;}II A;A=new II(sD.GB.list(I).listen((JD B){if(B.jD!=jB.DJ){if(A.callback!=null){sE J=df(B.h);if(J.iK!=null&&J.iK.length>0&&J.iK[0].name=='@set'){A.callback(J.iK[0]);}else{A.callback(null);}}A.cancel();}}),G,onError);return A;}if(C=='@remove'){LI.YL((){G(new aD('@remove',allowCache:false));});return null;}if(C=='@addAttribute'){LI.YL((){G(new aD('@addAttribute',params:[new QC('name','string'),new QC('value','dynamic')],allowCache:false));});return null;}II A;void P(JD B){aD R=yq(C,B.h);if(A.callback!=null){A.callback(R);}A.cancel();}void S(JD B){if(A.gD!=null){A.gD.cancel();A.gD=null;}if(A.canceled)return;BC D;if(B.h.p.containsKey(C)){D=B.h.p[C];}else if(B.h.pC!=null&&B.h.pC.p.containsKey(C)){D=B.h.pC.p[C];}if(D==null||D.f[r'$invokable']==null){if(A.callback!=null){A.callback(null);}return;}A.meta={'actionPath':D.YC};A.gD=sD.GB.list(D.YC).listen(P);}A=new II(sD.GB.list(I).listen(S),G,onError);return A;}sE hJB;sE df(BC B){sE A=new sE(this);A.name=(new tB(B.YC)).name;if(B.f.containsKey(r'$name')){Object J=B.f[r'$name'];if(J is String&&J!=''){A.name=J;}}else if(A.name.contains('%')){A.name=ON.PN(A.name);}A.path=B.YC;A.s9=B;A.oY=false;if(B.cJ('@icon') is String){if(iq!=null){A.AU=iq.WDB(B.cJ('@icon'));}else{A.AU=B.cJ('@icon');}}List G=[] ;if(B.CC(r'$type') is String){A.type=B.CC(r'$type');if(A.type.startsWith('enum[')){A.mK=A.type.substring(5,A.type.length-1);A.type='enum';}if(B.cJ('@unit') is String){A.unit=B.cJ('@unit');}A.pY=true;if(B.CC(r'$writable') is String){QC C=new QC('value',A.type);if(B.CC(r"$editor") is String){Object D=B.f[r"$editor"];if(D=='daterange'||D=='date'||D=='textarea'){C.type=D;}else if(D=='password'){C.type='string';C.meta={'displayAsPassword':true};}else if(D=='color'){C.type='color';}else if(D=='int'){C.meta={'snapInterval':1.0,'snapSpeed':1.0};}}if(C.type=='number'){if(B.CC(r"$min") is num){if(C.meta==null)C.meta={};C.meta['minimum']=B.CC(r"$min");}if(B.CC(r"$max") is num){if(C.meta==null)C.meta={};C.meta['maximum']=B.CC(r"$max");}}if(B.CC(r"$placeholder") is String){if(C.meta==null)C.meta={};C.meta['placeholder']=B.f[r"$placeholder"];}G.add(new aD('@set',params:[C],allowCache:false));}if(A.type=='map'||A.type=='array'){A.oY=true;}}B.mq((String N,BC A){Object P=A.CC(r'$invokable');if(P is String&&P!='never'){aD K=yq(N,A);if(!B.p.containsKey(N)){K.p$=A.YC;}if(K!=null){G.add(K);}}});if(G.length>0){A.hQ=B.CC(r"$hasHistory")==true||G.any((aD R)=>R.name=="getHistory");A.iK=G;}if(!A.hQ){Object I=B.cJ('@@getHistory');if(I is Map&&I['@']!=null&&I['val'] is List&&I['val'].length>0){A.hQ=true;}}return A;}aD yq(String J,RC G){List D;List K;Object N=G.CC(r'$result');bool j=(N=='table'||N=='stream');bool q=(N=='stream');Object I=G.CC(r'$params');if(I is Map){D=[] ;I.forEach((J,B){QC A=new QC(J,B['type']);if(B.containsKey('editor')){Object C=B['editor'];if(C is String){if(C=='daterange'||C=='date'||C=='textarea'){A.type=C;}else if(C=='password'){A.type='string';A.meta={'displayAsPassword':true};}else if(C.startsWith('enum[')){A.type='editableEnum';String P=C.substring(5,C.length-1);List R=P.split(',').map((S)=>ON.PN(S)).toList();A.meta={'enums':R};}}}if(B.containsKey('default')){if(A.meta==null)A.meta={};A.meta['default']=B['default'];}if(B.containsKey('placeholder')){if(A.meta==null)A.meta={};A.meta['placeholder']=B['placeholder'];}if(B.containsKey('description')){if(A.meta==null)A.meta={};A.meta['description']=B['description'];}D.add(A);});}else if(I is List){D=[] ;for(Map B in I){QC A=new QC(B['name'],B['type']);if(B.containsKey('editor')){Object C=B['editor'];if(C is String){if(C=='daterange'||C=='date'||C=='textarea'){A.type=C;}else if(C=='password'){A.type='string';A.meta={'displayAsPassword':true};}else if(C.startsWith('enum[')){A.type='editableEnum';String P=C.substring(5,C.length-1);List R=P.split(',').map((S)=>ON.PN(S)).toList();A.meta={'enums':R};}else if(C=='color'){A.type='color';}else if(C=='int'){A.meta={'snapInterval':1.0,'snapSpeed':1.0};}}}if(A.type=='number'){if(B['min'] is num){if(A.meta==null)A.meta={};A.meta['minimum']=B['min'];}if(B['max'] is num){if(A.meta==null)A.meta={};A.meta['maximum']=B['max'];}}if(B.containsKey('default')){if(A.meta==null)A.meta={};A.meta['default']=B['default'];}if(B.containsKey('placeholder')){if(A.meta==null)A.meta={};A.meta['placeholder']=B['placeholder'];}if(B.containsKey('description')){if(A.meta==null)A.meta={};A.meta['description']=B['description'];}D.add(A);}}Object a=G.CC(r'$columns');if(a is List){K=[] ;for(var B in a){QC A=new QC(B['name'],B['type']);if(B.containsKey('default')){if(A.meta==null)A.meta={};A.meta['default']=B['default'];}if(B.containsKey('editor')){Object C=B['editor'];if(C=='daterange'||C=='date'||C=='textarea'){A.type=C;}}K.add(A);}}var BB=G.CC(r"$name");return new aD(J,params:D,results:K,allowCache:false,getTable:j,stream:q,label:BB);}}class N2 implements Cm{}class Lm implements pF{}class Km{static RegExp Z2=new RegExp(r'([^a-zA-Z0-9_\- ])|^[_0-9]+');static RegExp a2=new RegExp(r'[ -]+([a-zA-Z0-9_])');static RegExp b2=new RegExp(r'([0-9])([a-z])');static RegExp c2=new RegExp(r'[A-Z]');static String d2(String B){String A=B.replaceAll(Z2,"").trim().toLowerCase();A=A.replaceAllMapped(a2,j2);A=A.replaceAllMapped(b2,l2);return A;}static String j2(Match A){return A.group(1).toUpperCase();}static String l2(Match A){return '${A.group(1)}${A.group(2).toUpperCase()}';}static String n2(String A){return A.replaceAllMapped(c2,q2);}static String q2(Match A){return ' ${A.group(0).toLowerCase()}';}}typedef void CN(Iterable<String> _0);abstract class zI{}class MB<vG,aE> extends vh<vG,aE>{MB():super(new Map<vG,aE>());MB.PCB(Map<vG,aE> A):super(new Map<vG,aE>.from(A));}abstract class AJ{Object L(String A);void rB(String A,Object B);void o(String A,Object B);void ZC(String A,String B);}abstract class hC extends AJ{static int gW=0;}abstract class pF extends hC{}abstract class LP{}abstract class Um{}bool QL(Object A,Object B){if(A is String){if(B is num){return double.parse(A,BJ)==B;}if(B is bool){return B.toString()==A;}}if(B is String){if(A is num){return double.parse(B,BJ)==A;}if(A is bool){return A.toString()==B;}}return A==B;}String b(Object A,[String B=null]){if(A is String){return A;}if(A==null){return B;}if(A is DateTime){return A.toIso8601String();}if(A is ByteData){return A.buffer.asUint8List().map((C)=>C.toRadixString(16)).join(" ");}if(A is Map||A is List){try {return tG.MS(A);}catch (D){if(A is Map){return '{encodingError}';}return '[encodingError]';}}return A.toString();}String MP(Object A,[String B=null]){if(A==null||A==''){return B;}if(A is String){return A;}return A.toString();}num BJ(String A)=>double.NAN;num W(Object A,[num B=double.NAN]){if(A is num){if(A.isNaN){return B;}return A;}if(A==null){return B;}if(A is String){int D=int.parse(A,onError:Vm);if(D!=null){return D;}double C=double.parse(A,BJ);if(C==C){return C;}return B;}if(A is bool){if(A){return 1;}else{return 0;}}return B;}double sG(Object A,[double B=double.NAN]){if(A==null){return B;}if(A is num){return A.toDouble();}if(A is String){double C=double.parse(A,BJ);if(C.isNaN){return B;}return C;}return B;}double YH(Object A,[double C=double.NAN]){if(A==null){return C;}double B=double.NAN;if(A is num){B=A.toDouble();}else if(A is String){B=double.parse(A,BJ);}if(B.isNaN||B<0){return C;}return B;}int Vm(String A)=>null;int x2(String A)=>-1;int bB(Object A,[int C=null]){if(A==null){return C;}if(A is int){return A;}if(A is num&&A.isFinite){return A.toInt();}if(A is String){double B=double.parse(A,BJ);if(B==B){return B.toInt();}}return C;}int nD(Object A,[int C=null]){if(A==null){return C;}int B;if(A is int){B=A;}else if(A is num&&A.isFinite){B=A.toInt();}else if(A is String){double D=double.parse(A,BJ);if(D==D){B=D.toInt();}}else{return C;}if(B==null||B<0){return C;}return B;}int RF(String A){if(A==null||A==''){return -1;}int G=A.length;int B=0;for(int C=0;C<G; ++C){int D=A.codeUnitAt(C);if(D>57||D<48){return -1;}B=B*10+D-48;}if(B>0&&A.startsWith('0')){return -1;}return B;}bool UB(Object A,[bool C=false]){if(A==null){return C;}if(A==false||A=="false"||A=="False"||A=="FALSE"||am(A)||A==''||A==0){return false;}if(A==true||A=='true'||A=='TRUE'||A=='True'||A is num){return true;}if(A is String){int D=A.codeUnitAt(0);if(D>47&&D<58){num B=double.parse(A,BJ);if(B==0.0){return false;}if(B==B){return true;}}}return C;}bool JI(Object A){if(A==false||A==null||A==0||A==''||am(A)){return false;}return true;}String NP(Object A,[String B='']){if(A==null){return B;}if(A is String){double C=double.parse(A,BJ);if(C.isFinite&&C>0){A=C;}else{return A;}}if(A is num){if(A.isNaN){return B;}int I=A.toInt()&0xFFFFFF;String D=I.toRadixString(16);const List<String> J=const['#000000','#00000','#0000','#000','#00','#0','#'];return '${J[D.length]}${D}';}if(A is hC){Object G;try {G=A.L('fillType');}catch (N){return B;}if(G=='solid'){Object K=A.L('color');return NP(K,B);}}return B;}int OP(Object B,[int C=0x000000]){if(B==null){return C;}if(B is int){return B;}if(B is num){if(B.isFinite){return B.toInt();}return C;}if(B is String){String A=B;if(A.startsWith('#')){A=A.replaceFirst('#','0x');}num G=W(A,double.NAN);if(G.isFinite){return G.toInt();}if(A.contains(",")){A=A.substring(A.indexOf("(")+1,A.length-1);List<String> D=A.split(",");if(D.length<3){return C;}int I=nD(D[0],0);int J=nD(D[1],0);int K=nD(D[2],0);I&= 0xFF;J&= 0xFF;K&= 0xff;return (I<<16)|(J<<8)|K;}}return C;}String PP(Object A,Object D,[String G='rgba(0,0,0,0)']){double C=sG(D,1.0);if(A is String&&C!=1.0){if((A as String).indexOf('rgba')>-1)return A;A=OP(A);}if(A is num&&A>=0){int B=A.toInt();if(C>=0&&C<=1){return 'rgba(${(B&0xFF0000)>>16},${(B&0xFF00)>>8},${B&0xFF},${C})';}else{return 'rgb(${(B&0xFF0000)>>16},${(B&0xFF00)>>8},${B&0xFF})';}}else{if(A is String)return A;}return G;}String y2(int B,int C,num D,num G,num A){return PP(Ic(B,C,A),Ym(D,G,A));}num Ym(num A,num B,num C){if(!A.isFinite)return B;if(!B.isFinite)return A;return (B-A)*C+A;}int Hc(int A,int B,num C){return ((B-A)*C+A).round();}num Ic(int A,int B,num C){return (Hc((A&0xFF0000)>>16,(B&0xFF0000)>>16,C)<<16)+(Hc((A&0xFF00)>>8,(B&0xFF00)>>8,C)<<8)+Hc(A&0xFF,B&0xFF,C);}String CJ(Object A,List B,[String C=null]){if(A is String&&B.contains(A)){return A;}return C;}List Zm(Object A,[List B=null]){if(A is List){return A;}if(A is pF){return A.rJ();}return B;}RegExp z2=new RegExp(r'\b(\d{4})-(\d{1,2})-(\d{1,2})\b');RegExp A3=new RegExp(r'\b(\d{4})\/(\d{1,2})\/(\d{1,2})\b');RegExp B3=new RegExp(r'\b(\d{1,2})\/(\d{1,2})\/(\d{4})\b');RegExp C3=new RegExp(r'\b(\d{2}):(\d{2}):(\d{2})\b');RegExp D3=new RegExp(r'(\d{2}:\d{2}:\d{2}\.\d{3})\d+');RegExp E3=new RegExp(r'\bam\b');RegExp F3=new RegExp(r'\bpm\b');MB<Object,DateTime> iW=new MB<Object,DateTime>();String G3(Match A){return A.group(1);}DateTime tE(Object B){DateTime A=iW[B];if(A!=null){return A;}if(iW.length>8196){iW.clear();}A=H3(B);iW[B]=A;return A;}DateTime H3(Object B){if(B is num&&B.isFinite){return new DateTime.fromMillisecondsSinceEpoch(B.toInt());}if(B is String){if(B.length>40){return null;}try {return DateTime.parse(B).toLocal();}catch (a){String K=B.replaceFirstMapped(D3,G3);if(K!=B){try {return DateTime.parse(K).toLocal();}catch (a){}}int D;int G;int I;Match A=z2.firstMatch(B);if(A!=null){D=int.parse(A.group(1));G=int.parse(A.group(2));I=int.parse(A.group(3));}else{A=A3.firstMatch(B);if(A!=null){D=int.parse(A.group(1));G=int.parse(A.group(2));I=int.parse(A.group(3));}else{A=B3.firstMatch(B);if(A!=null){D=int.parse(A.group(3));G=int.parse(A.group(1));I=int.parse(A.group(2));}}}if(A!=null){int C=0;int N=0;int P=0;Match J=C3.firstMatch(B);if(J!=null){C=int.parse(J.group(1));N=int.parse(J.group(2));P=int.parse(J.group(3));String R=B.toLowerCase();if(R.contains(E3)){if(C==12){C=0;}}else if(R.contains(F3)){if(C!=12){C+= 12;}}}return new DateTime(D,G,I,C,N,P);}num S=W(B);if(S.isFinite){return new DateTime.fromMillisecondsSinceEpoch(S.toInt());}}}return null;}bool am(A){if(A is num){return A.isNaN;}else{return A!=A;}}class PB{static int Nm=0;static const String IP='relative';static const String JP='day';static const String JS='month';static const String KS='year';static const String fW='range';static const String e2='days';static const String f2='weeks';static const String Om='months';static const String Pm='years';static const String g2='seconds';static const String h2='hours';static const String i2='minutes';static const String LS='current';static const String k2='previous';static final RegExp m2=new RegExp(r'^\d\d\d\d-\d\d-\d\dT\d\d:\d\d:\d\d\/\d\d\d\d-\d\d-\d\dT\d\d:\d\d:\d\d$');static final RegExp o2=new RegExp(r'^\d\d\d\d-\d\d-\d\d$');static final RegExp p2=new RegExp(r'^\d\d\d\d-\d\d$');static final RegExp r2=new RegExp(r'^\d\d\d\d$');static final RegExp s2=new RegExp(r'^(current|previous)([1-9]\d*)(seconds|minutes|hours|days|weeks|months|years)$');static final String Rm=(){DateTime D=new DateTime.now();Duration C=D.timeZoneOffset;int A=C.inHours;int B=C.inMinutes-A*60;if(B<0||A<0){return '-${ZH(-A)}:${ZH(-B)}';}return '+${ZH(A)}:${ZH(B)}';}();static int t2(String A){try {int C=int.parse(A.substring(1,3));int D=int.parse(A.substring(4,6));int B=(C*60+D)*60000;if(A.startsWith('-')){B=-B;}DateTime G=new DateTime.now();Duration I=G.timeZoneOffset;return B-I.inMilliseconds;}catch (J){return 0;}}static final Map<String,int> v2={'days':24*3600*1000,'weeks':7*24*3600*1000,'seconds':1000,'hours':3600*1000,'minutes':60*1000};static const Sm=const{'today':'day','yesterday':'day','thisWeek':'range','lastWeek':'range','thisMonth':'month','lastMonth':'month','thisYear':'year','lastYear':'year'};static PB w2(String A){PB B;if(A==null)return null;if(!A.contains('/')){B=PB.EE(A);}else{List<String> C=A.split('/');B=new PB.RCB(tE(C[0]),tE(C[1]));}return B;}final DateTime explictStart;DateTime iJB;final String mode;final bool FU;final String data;final String relativeMode;final int relativeCount;final String relativeUnit;List<DateTime> DH(){if(explictStart!=null){if(iJB==null){if(mode==JP){iJB=new DateTime(explictStart.year,explictStart.month,explictStart.day,23,59,59,999);}else if(mode==JS){iJB=new DateTime(explictStart.year,explictStart.month+1,0,23,59,59,999);}else if(mode==KS){iJB=new DateTime(explictStart.year+1,1,0,23,59,59,999);}else if(mode==fW){DateTime G=tE(data.substring(20,39));iJB=new DateTime.fromMillisecondsSinceEpoch(G.millisecondsSinceEpoch+999);}else{print('error: unexpected DateRange state');iJB=explictStart;}}return [explictStart,iJB];}if(FU){DateTime A=new DateTime.now();if(data=='today'){return [new DateTime(A.year,A.month,A.day),new DateTime(A.year,A.month,A.day,23,59,59,999)];}if(data=='yesterday'){return [new DateTime(A.year,A.month,A.day-1),new DateTime(A.year,A.month,A.day-1,23,59,59,999)];}if(data=='thisWeek'){int B=A.weekday-Nm;if(B==7)B=0;return [new DateTime(A.year,A.month,A.day-B),new DateTime(A.year,A.month,A.day-B+6,23,59,59,999)];}if(data=='lastWeek'){int B=A.weekday-Nm;if(B==7)B=0;return [new DateTime(A.year,A.month,A.day-B-7),new DateTime(A.year,A.month,A.day-B-1,23,59,59,999)];}if(data=='thisMonth'){return [new DateTime(A.year,A.month),new DateTime(A.year,A.month+1,0,23,59,59,999)];}if(data=='lastMonth'){return [new DateTime(A.year,A.month-1),new DateTime(A.year,A.month,0,23,59,59,999)];}if(data=='thisYear'){return [new DateTime(A.year),new DateTime(A.year+1,1,0,23,59,59,999)];}if(data=='lastYear'){return [new DateTime(A.year-1),new DateTime(A.year,1,0,23,59,59,999)];}}if(mode==IP){DateTime A=new DateTime.now();int C=0;int D=0;if(relativeUnit==e2){C=(new DateTime(A.year,A.month,A.day)).millisecondsSinceEpoch;D=1000*60*60*24;}if(relativeUnit==h2){C=(new DateTime(A.year,A.month,A.day,A.hour)).millisecondsSinceEpoch;D=1000*60*60;}if(relativeUnit==i2){C=(new DateTime(A.year,A.month,A.day,A.hour,A.minute)).millisecondsSinceEpoch;D=1000*60;}if(relativeUnit==g2){C=(new DateTime(A.year,A.month,A.day,A.hour,A.minute,A.second)).millisecondsSinceEpoch;D=1000;}if(relativeUnit==Om){if(relativeMode==LS){return [new DateTime(A.year,A.month-(relativeCount-1)),new DateTime(A.year,A.month+1,0,23,59,59,999)];}else{return [new DateTime(A.year,A.month-relativeCount),new DateTime(A.year,A.month,0,23,59,59,999)];}}if(relativeUnit==f2){int B=A.weekday;if(B==7)B=0;if(relativeMode==LS){return [new DateTime(A.year,A.month,A.day-B-(relativeCount-1)*7),new DateTime(A.year,A.month,A.day-B+6,23,59,59,999)];}else{return [new DateTime(A.year,A.month,A.day-B-relativeCount*7),new DateTime(A.year,A.month,A.day-B-1,23,59,59,999)];}}if(relativeUnit==Pm){if(relativeMode==LS){return [new DateTime(A.year-(relativeCount-1)),new DateTime(A.year+1,0,1,23,59,59,999)];}else{return [new DateTime(A.year-relativeCount),new DateTime(A.year,0,1,23,59,59,999)];}}if(relativeMode==LS){return [new DateTime.fromMillisecondsSinceEpoch(C-(relativeCount-1)*D),new DateTime.fromMillisecondsSinceEpoch(C+D-1)];}else{return [new DateTime.fromMillisecondsSinceEpoch(C-D*relativeCount),new DateTime.fromMillisecondsSinceEpoch(C-1)];}}return null;}String toIso8601String(String B){List<DateTime> A=DH();if(mode==IP){return '${A[0].toUtc().toIso8601String()}/${A[1].toUtc().toIso8601String()}';}else{return '${A[0].toIso8601String()}${B}/${A[1].toIso8601String()}${B}';}}PB.QCB(this.data,this.mode,this.FU,{this.explictStart,this.relativeMode,this.relativeCount: 0,this.relativeUnit}){}static PB EE(String A){if(Sm.containsKey(A)){return new PB.QCB(A,Sm[A],true);}Match B=s2.matchAsPrefix(A);if(B!=null){return new PB.QCB(A,IP,false,relativeMode:B.group(1),relativeCount:bB(B.group(2)),relativeUnit:B.group(3));}int C=A.length;if(C==4&&r2.matchAsPrefix(A)!=null){return new PB.QCB(A,KS,false,explictStart:new DateTime(int.parse(A)));}if(C==7&&p2.matchAsPrefix(A)!=null){return new PB.QCB(A,JS,false,explictStart:new DateTime(int.parse(A.substring(0,4)),int.parse(A.substring(5))));}if(C==10&&o2.matchAsPrefix(A)!=null){return new PB.QCB(A,JP,false,explictStart:tE(A));}if(C==39&&m2.matchAsPrefix(A)!=null){return new PB.QCB(A,fW,false,explictStart:tE(A.substring(0,19)));}return null;}factory PB.RCB(DateTime A,DateTime B){if(A==null||B==null){return null;}return new PB.QCB('${hW(A)}/${hW(B)}',fW,false,explictStart:A);}PB Cr(){if(FU){if(data=='yesterday'){return PB.EE('today');}if(data=='lastWeek'){return PB.EE('thisWeek');}if(data=='lastMonth'){return PB.EE('thisMonth');}if(data=='lastYear'){return PB.EE('thisYear');}}if(mode==IP){if(relativeMode==k2){return PB.EE('current${relativeCount}${relativeUnit}');}}if(mode==KS){int I=DH()[0].year;return PB.EE('${I+1}');}if(mode==JS){DateTime A=DH()[0];DateTime D=new DateTime(A.year,A.month+1);return PB.EE(Wm(D));}if(mode==JP){DateTime A=DH()[0];DateTime D=new DateTime(A.year,A.month,A.day+1);return PB.EE(Xm(D));}List<DateTime> G=DH();int B=G[0].millisecondsSinceEpoch;int C=G[1].millisecondsSinceEpoch;int J=C-B;B=C+1;C=B+J;return new PB.RCB(new DateTime.fromMillisecondsSinceEpoch(B),new DateTime.fromMillisecondsSinceEpoch(C));}PB Gr(){if(FU){if(data=='today'){return PB.EE('yesterday');}if(data=='thisWeek'){return PB.EE('lastWeek');}if(data=='thisMonth'){return PB.EE('lastMonth');}if(data=='thisYear'){return PB.EE('lastYear');}}if(mode==IP){if(relativeMode==LS){return PB.EE('previous${relativeCount}${relativeUnit}');}}if(mode==KS){int I=DH()[0].year;return PB.EE('${I-1}');}if(mode==JS){DateTime A=DH()[0];DateTime D=new DateTime(A.year,A.month-1);return PB.EE(Wm(D));}if(mode==JP){DateTime A=DH()[0];DateTime D=new DateTime(A.year,A.month,A.day-1);return PB.EE(Xm(D));}List<DateTime> G=DH();int B=G[0].millisecondsSinceEpoch;int C=G[1].millisecondsSinceEpoch;int J=C-B;C=B-1;B=C-J;return new PB.RCB(new DateTime.fromMillisecondsSinceEpoch(B),new DateTime.fromMillisecondsSinceEpoch(C));}static String hW(DateTime A){String B=Gc(A.year);String C=ZH(A.month);String D=ZH(A.day);String G=ZH(A.hour);String I=ZH(A.minute);String J=ZH(A.second);return "${B}-${C}-${D}T${G}:${I}:${J}";}static String Wm(DateTime A){String B=Gc(A.year);String C=ZH(A.month);return "${B}-${C}";}static String Xm(DateTime A){String B=Gc(A.year);String C=ZH(A.month);String D=ZH(A.day);return "${B}-${C}-${D}";}static String Gc(int B){int A=B.abs();String C=B<0?"-":"";if(A>=1000)return "${B}";if(A>=100)return "${C}0${A}";if(A>=10)return "${C}00${A}";return "${C}000${A}";}static String ZH(int A){int B=A.abs();if(A>=10)return "${B}";return "0${B}";}}class Mm implements hC,pF{void o(String A,Object B){}void rB(String A,Object B){}void ZC(String A,String B){}Object L(String A){return null;}String FD(){return null;}Object s(int A){return null;}int fF(){return 0;}int Kr(Object A){return -1;}List rJ(){return [] ;}void forEach(void A(Object val)){}void JY(CN A){}void XZ(CN A){}void nU(String A,Object B){}Object GO(String A){return null;}String eQ(){return null;}}class V{String name;String type='string';String cY;int width=100;Map<String,Object> meta;Object zB(){Map<String,Object> A=<String,Object>{};A['name']=name;if(type!='string'){A['type']=type;}if(cY!=null){A['formula']=cY;}if(meta!=null){A['meta']=meta;}return A;}V(this.name);V.LCB(Map<String,Object> A){name=A['name'];if(A.containsKey('type')){type=A['type'];}if(A.containsKey('formula')){cY=A['formula'];}if(A.containsKey('meta')){meta=A['meta'];}else{meta=A;}}static List<V> Qm(Iterable<Map> B){List A=[] ;for(Map C in B){A.add(new V.LCB(C));}return A;}}class KP extends Mm{String FD()=>'row';Map<String,int> DC;KP(this.jJB,this.GH,this.kJB){DC=jJB.DC;}U jJB;U get data=>jJB;List<Object> GH;int kJB;Object L(String A){if(A=='row'){return kJB;}if(A=='@length'){return GH.length;}if(DC.containsKey(A)){return GH[DC[A]];}int B=RF(A);if(B>-1&&B<GH.length){return GH[B];}return null;}void o(String A,Object B){}void rB(String A,Object B){}Object s(int A){return GH[A];}int fF(){return GH.length;}List rJ(){return GH;}void forEach(void A(Object val)){GH.forEach(A);}}class U extends Mm implements pF,zI{static final V oF=new V('row')..type='number';static final V u2=new V('timestamp')..type='time';final hC parent;final int tK= ++hC.gW;final List<List<Object>> m;final List<V> g;final int FM;factory U.MCB(Map<String,Object> A,hC D){if(A['cols'] is List&&A['rows'] is List){List<V> B=[] ;for(Map G in A['cols']){B.add(new V.LCB(G));}List C=[] ;for(List I in A['rows']){C.add(I.toList());}return new U(C,B,-1,D);}return null;}factory U.NCB(Map<String,Object> A){List B;if(A['cols'] is List){B=A['cols'];}else if(A['columns'] is List){B=A['columns'];}if(B!=null&&A['rows'] is List){List<V> C=[] ;for(Map G in B){C.add(new V.LCB(G));}List D=[] ;for(List I in A['rows']){D.add(I.toList());}return new U(D,C,-1,null);}return null;}U(this.m,this.g,[this.FM=-1,this.parent]){int C=m.length;int B=g.length;if(g[0].name=='row'){g[0].type='number';for(int A=0;A<C; ++A){m[A][0]=A;if(m[A].length<B){m[A].length=B;}}}else{g.insert(0,oF); ++B;for(int A=0;A<C; ++A){m[A].insert(0,A);if(m[A].length<B){m[A].length=B;}}}for(int A=B-1;A>=0; --A){DC[g[A].name]=A;}}U.OCB(U A,[this.FM=-1,this.parent]):m=A.m,g=A.g,DC=A.DC{}Map<String,int> DC=new MB<String,int>();int LM(String A){if(DC.containsKey(A)){return DC[A];}return -1;}int fF(){return m.length;}List rJ(){return m;}void forEach(void A(Object val));Object L(String A){if(A.indexOf(',')>0){var G=A.split(',');if(G.length==2){int B=RF(G[0]);int C=RF(G[1]);if(B>-1&&C>-1&&B<m.length){var D=m[B];if(C<D.length){return D[C];}}}}else if(A.indexOf('_')>0){int I=A.indexOf('_');int B=RF(A.substring(0,I));Object C=DC[A.substring(I+1)];if(C is int&&B>-1&&B<m.length){var D=m[B];if(C<D.length){return D[C];}}}else if(A=='@length'){return m.length;}else if(A=='@parent'){return parent;}return null;}Object s(int A){return new KP(this,m[A],A);}Object zB(){Map A=<String,Object>{};A['@type']='tabledata';A['cols']=g.map((B)=>B.zB()).toList(growable:false);A['rows']=m;return A;}void JE(Map<String,Object> A){}String toString(){if(parent!=null){try {return parent.eQ();}catch (A){}}return 'Table';}String Jt(bool G,bool I){StringBuffer B=new StringBuffer();int C=I?1:0;int D=g.length;if(!G){for(int A=C;A<D; ++A){if(A!=C)B.write(',');B.write(Tm(g[A].name));}B.write('\n');}for(List J in m){for(int A=C;A<D; ++A){if(A!=C)B.write(',');B.write(Tm(b(J[A])));}B.write('\n');}return B.toString();}static String Tm(String A){if(A==null)return '';if(A.contains('"')){return '"${A.replaceAll('"','""')}"';}else if(A.contains(',')){return '"${A}"';}return A;}}class tG{static final Object bm=new MB();static final JsonEncoder J3=new JsonEncoder(L3);static final JsonDecoder K3=new JsonDecoder(M3);static String MS(Object A){return J3.convert(A);}static Object Jc(String A){if(A!=null&&A.length>0){int B=A.lastIndexOf('}');if(B!=A.length-1){return EN(A.substring(0,B+1));}return EN(A);}return bm;}static Object EN(String A){try {return K3.convert(A);}catch (B){return bm;}}static dynamic L3(B){if(B is num){num A=B;if(A.isNaN){return '\u001BNaN';}else if(A.isInfinite){if(A.isNegative){return '\u001B-Infinity';}else{return '\u001BInfinity';}}}return null;}static dynamic M3(B,A){if(A=='\u001BNaN'){return double.NAN;}else if(A=='\u001BInfinity'){return double.INFINITY;}else if(A=='\u001B-Infinity'){return double.NEGATIVE_INFINITY;}return A;}}bool I3(Object A,Object B){if(A==B){return true;}if(A is Map&&B is Map){return NS(A,B);}if(A is List&&B is List){return kW(A,B);}return Kc(A,B);}bool NS(Map D,Map C){if(D==C){return true;}var I=D.keys;if(I.length!=C.keys.length){return false;}for(String G in I){if(!C.containsKey(G)){return false;}Object A=D[G];Object B=C[G];if(A is Map&&B is Map){if(!NS(A,B)){return false;}}else if(A is List&&B is List){if(!kW(A,B)){return false;}}else if(!Kc(A,B)){return false;}};return true;}bool kW(List A,List D,[Function I=Kc]){if(A==D){return true;}if(A==null||D==null||A.length!=D.length){return false;}int J=A.length;for(int G=0;G<J; ++G){Object B=A[G];Object C=D[G];if(B is Map&&C is Map){if(!NS(B,C)){return false;}}else if(B is List&&C is List){if(!kW(B,C,I)){return false;}}else if(!I(B,C)){return false;}}return true;}bool Kc(Object A,Object B){if(A!=A&&B!=B){return true;}return A==B;}const int jW=6527;const bool OS=false;class RL implements Future{final Future lJB;Function mJB;Function nJB;Function oJB;Function pJB;Function qJB;Function rJB;void sJB(Object A,Object B){if(mJB!=null){mJB(A,B);}}void tJB(Object A,Object B){if(pJB!=null){pJB(A);}}bool uJB(Object A){if(nJB!=null){return nJB(A);}return false;}void vJB(Object A){if(oJB!=null){oJB(A);}}void wJB(){if(qJB!=null){qJB();}}void xJB(){if(rJB!=null){rJB();}}factory RL(Future A){if(A is RL){return A;}return new RL.SCB(A);}RL.SCB(this.lJB);Stream asStream(){return lJB.asStream();}Future catchError(Function A,{bool test(Object error)}){mJB=A;nJB=nJB;return lJB.catchError(sJB,test:uJB);}Future then(A(value),{Function onError}){oJB=A;pJB=onError;if(onError==null){return lJB.then(vJB);}return lJB.then(vJB,onError:tJB);}Future timeout(Duration A,{onTimeout()}){qJB=onTimeout;return lJB.timeout(A,onTimeout:wJB);}Future whenComplete(A()){rJB=A;return lJB.whenComplete(xJB);}Function yJB;void onCancel(Function A){yJB=A;}void cancel(){if(yJB!=null){yJB();}mJB=null;nJB=null;oJB=null;qJB=null;rJB=null;pJB=null;yJB=null;}}String O(String A){return nu.bAB(A);}String PS(DateTime C,[String A]){try {if(A!=null&&A.indexOf('|')>0){List G=A.split('|');String B='';for(String D in G){if(D!=''){B+= new SL(D).FB(C);}else{B+= "|";}}return B;}return (new SL(A)).FB(C);}catch (I){print(I);}return '';}class SL{static Map<String,SL> Lc=new MB<String,SL>();factory SL(String A){if(Lc.containsKey(A)){return Lc[A];}SL B=new SL.TCB(A);Lc[A]=B;return B;}GN mT;SL.TCB(String A){mT=new GN(A);}String FB(DateTime A){return mT.FB(A);}}String QS(num B,String A){try {if(A==',0.00'){A=',###.00';}return (new FN(A)).FB(B);}catch (C){print(C);}return '';}class FN{static Map<String,FN> Mc=new MB<String,FN>();factory FN(String A){if(Mc.containsKey(A)){return Mc[A];}FN B=new FN.UCB(A);Mc[A]=B;return B;}RN mT;FN.UCB(String A){mT=new RN(A);}String FB(num A){return mT.FB(A);}}class GN{GN([String A,String B]){zJB=Vn.Hd(B,N3);ve(A);}String FB(DateTime B){var A=new StringBuffer();AKB.forEach((C)=>A.write(C.FB(B)));return A.toString();}DateTime KE(String A,[B=false])=>BKB(A,utc:B,strict:false);DateTime BKB(String B,{utc: false,strict: false}){var A=new DN();if(utc)A.Xt=true;var C=new SF(B);AKB.forEach((D)=>D.KE(C,A));if(strict&&!C.LQ()){throw new FormatException("Characters remaining after date parsing in ${B}");}if(strict)A.bt(B);return A.ze();}String get zf=>zJB;GN R7()=>ve("yMMMMd");GN Q7()=>ve("jms");String zJB;String CKB;List<QP> DKB;get AKB{if(DKB==null){if(CKB==null)EKB();DKB=W$(CKB);}return DKB;}EKB(){R7();Q7();}static List<RegExp> fm=[new RegExp("^\'(?:[^\']|\'\')*\'"),new RegExp("^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|D+|m+|s+|v+|z+|Z+)"),new RegExp("^[^\'GyMkSEahKHcLQdDmsvzZ]+")];FKB(String A,[String B=' ']){CKB=CKB==null?A:"${CKB}${B}${A}";}GN ve(String A,[String B=' ']){DKB=null;if(A==null)return this;if(!GKB.containsKey(A)){FKB(A,B);}else{FKB(GKB[A],B);}return this;}get pattern=>CKB;Map get GKB=>t4[zf];static bool N3(A){if(A==null)return false;return gn.containsKey(A);}static List get O3=>[(A,B)=>new dm(A,B),(A,B)=>new em(A,B),(A,B)=>new cm(A,B)];List W$(String A){if(A==null)return null;return HKB(A).reversed.toList();}List HKB(String A){if(A.isEmpty)return [] ;var B=IKB(A);if(B==null)return [] ;var C=HKB(A.substring(B.qq().length));C.add(B);return C;}QP IKB(String C){for(var A=0;A<fm.length;A++ ){var D=fm[A];var B=D.firstMatch(C);if(B!=null){return O3[A](B.group(0),this);}}return null;}}abstract class QP{String pattern;GN parent;QP(this.pattern,this.parent);int get width=>pattern.length;String qq()=>pattern;String toString()=>pattern;String FB(DateTime A){return pattern;}void KE(SF A,DN B);void Ks(SF A){var B=A.read(width);if(B!=pattern){oZ(A);}}void oZ(SF A){throw new FormatException("Trying to read ${this} from ${A.MD} " "at position ${A.index}");}}class cm extends QP{cm(A,B):super(A,B);KE(SF A,DN B){Ks(A);}}class dm extends QP{String JKB;String qq()=>JKB;dm(A,B):super(A,B){JKB=A;l$();}KE(SF A,DN B){Ks(A);}void l$(){if(pattern=="''"){pattern="'";}else{pattern=pattern.substring(1,pattern.length-1);var A=new RegExp(r"''");pattern=pattern.replaceAll(A,"'");}}}class em extends QP{em(A,B):super(A,B);String FB(DateTime A){return y8(A);}void KE(SF A,DN B){H$(A,B);}void H$(SF A,DN B){try {switch (pattern[0]){case 'a':t_(A,B);break;case 'c':e$(A);break;case 'd':EH(A,B.us);break;case 'D':EH(A,B.us);break;case 'E':C$(A);break;case 'G':G$(A);break;case 'h':s_(A,B);break;case 'H':EH(A,B.hZ);break;case 'K':EH(A,B.hZ);break;case 'k':EH(A,B.hZ,-1);break;case 'L':f$(A,B);break;case 'M':R$(A,B);break;case 'm':EH(A,B.QAB);break;case 'Q':break;case 'S':EH(A,B.PAB);break;case 's':EH(A,B.UAB);break;case 'v':break;case 'y':EH(A,B.WAB);break;case 'z':break;case 'Z':break;default:return;}}catch (C){oZ(A);}}String y8(DateTime A){switch (pattern[0]){case 'a':return t8(A);case 'c':return E9(A);case 'd':return u8(A);case 'D':return w8(A);case 'E':return v8(A);case 'G':return x8(A);case 'h':return r8(A);case 'H':return q8(A);case 'K':return p8(A);case 'k':return s8(A);case 'L':return F9(A);case 'M':return B9(A);case 'm':return A9(A);case 'Q':return C9(A);case 'S':return z8(A);case 's':return D9(A);case 'v':return H9(A);case 'y':return J9(A);case 'z':return G9(A);case 'Z':return I9(A);default:return '';}}Gd get JB=>gn[parent.zf];x8(DateTime B){var A=B.year>0?1:0;return width>=4?JB.ERANAMES[A]:JB.ERAS[A];}J9(DateTime B){var A=B.year;if(A<0){A=-A;}return width==2?iD(2,A%100):iD(width,A);}void EH(SF A,Function C,[int D=0]){var B=A.or();if(B==null)oZ(A);C(B+D);}int yQ(SF B,List A){var C=new SF(A).jq((D)=>B.qH(D.length)==D);if(C.isEmpty)oZ(B);C.sort((I,J)=>A[I].length.compareTo(A[J].length));var G=C.last;B.read(A[G].length);return G;}String B9(DateTime A){switch (width){case 5:return JB.NARROWMONTHS[A.month-1];case 4:return JB.MONTHS[A.month-1];case 3:return JB.SHORTMONTHS[A.month-1];default:return iD(width,A.month);}}void R$(B,C){var A;switch (width){case 5:A=JB.NARROWMONTHS;break;case 4:A=JB.MONTHS;break;case 3:A=JB.SHORTMONTHS;break;default:return EH(B,C.vs);}C.month=yQ(B,A)+1;}String s8(DateTime A){return iD(width,A.hour);}String z8(DateTime B){var A=iD(3,B.millisecond);if(width-3>0){var C=iD(width-3,0);return A+C;}else{return A;}}String t8(DateTime B){var A=B.hour;var C=(A>=12)&&(A<24)?1:0;var D=JB.AMPMS;return D[C];}void t_(A,B){var C=yQ(A,JB.AMPMS);if(C==1)B.Ss=true;}String r8(DateTime B){var A=B.hour;if(B.hour>12)A=A-12;if(A==0)A=12;return iD(width,A);}void s_(SF B,DN A){EH(B,A.hZ);if(A.hour==12)A.hour=0;}String p8(DateTime A){return iD(width,A.hour%12);}String q8(DateTime A){return iD(width,A.hour);}String E9(DateTime A){switch (width){case 5:return JB.STANDALONENARROWWEEKDAYS[A.weekday%7];case 4:return JB.STANDALONEWEEKDAYS[A.weekday%7];case 3:return JB.STANDALONESHORTWEEKDAYS[A.weekday%7];default:return iD(1,A.day);}}void e$(SF B){var A;switch (width){case 5:A=JB.STANDALONENARROWWEEKDAYS;break;case 4:A=JB.STANDALONEWEEKDAYS;break;case 3:A=JB.STANDALONESHORTWEEKDAYS;break;default:return EH(B,(C)=>C);}yQ(B,A);}String F9(DateTime A){switch (width){case 5:return JB.STANDALONENARROWMONTHS[A.month-1];case 4:return JB.STANDALONEMONTHS[A.month-1];case 3:return JB.STANDALONESHORTMONTHS[A.month-1];default:return iD(width,A.month);}}void f$(B,C){var A;switch (width){case 5:A=JB.STANDALONENARROWMONTHS;break;case 4:A=JB.STANDALONEMONTHS;break;case 3:A=JB.STANDALONESHORTMONTHS;break;default:return EH(B,C.vs);}C.month=yQ(B,A)+1;}String C9(DateTime B){var A=((B.month-1)/3).truncate();if(width<4){return JB.SHORTQUARTERS[A];}else{return JB.QUARTERS[A];}}String u8(DateTime A){return iD(width,A.day);}String w8(DateTime A)=>iD(width,H8(A));int H8(DateTime A){if(A.month==1)return A.day;if(A.month==2)return A.day+31;return o_(A)+59+(o9(A)?1:0);}int o_(DateTime A)=>((30.6*A.month)-91.4).floor()+A.day;bool o9(DateTime A){var B=new DateTime(A.year,2,29);return B.month==2;}String v8(DateTime A){return (width>=4?JB.WEEKDAYS:JB.SHORTWEEKDAYS)[(A.weekday)%7];}void C$(SF A){var B=width>=4?JB.WEEKDAYS:JB.SHORTWEEKDAYS;yQ(A,B);}void G$(SF A){var B=width>=4?JB.ERANAMES:JB.ERAS;yQ(A,B);}String A9(DateTime A){return iD(width,A.minute);}String D9(DateTime A){return iD(width,A.second);}String H9(DateTime A){return A.timeZoneName;}String G9(DateTime C){num A=C.timeZoneOffset.inMinutes;String B=A>=0?'+':'-';A=A.abs();if(width<3){if(A%60==0){return B+iD(width,(A~/60));}else{return B+iD(width,(A~/60))+":"+iD(2,(A%60));}}else{return B+iD(width-1,(A~/60))+":"+iD(width-1,(A%60));};}String I9(DateTime B){num A=B.timeZoneOffset.inMinutes;String C=A>=0?'+':'-';A=A.abs();return C+iD(width,(A~/60))+iD(width<2?2:width,(A%60));}String iD(int C,Object G){var A=G.toString();if(A.length>=C)return A;var B=new StringBuffer();for(var D=0;D<C-A.length;D++ ){B.write('0');}B.write(A);return B.toString();}}class DN{int year=1970;int month=1;int day=1;int hour=0;int minute=0;int second=0;int dY=0;bool Ss=false;bool Xt=false;void WAB(A){year=A;}void vs(A){month=A;}void us(A){day=A;}void hZ(A){hour=A;}void QAB(A){minute=A;}void UAB(A){second=A;}void PAB(A){dY=A;}get qY=>Ss?hour+12:hour;bt(String A){KKB(month,1,12,"month",A);KKB(qY,0,23,"hour",A);KKB(minute,0,59,"minute",A);KKB(second,0,59,"second",A);KKB(dY,0,999,"fractional second",A);var B=ze();KKB(qY,B.hour,B.hour,"hour",A);KKB(day,B.day,B.day,"day",A);KKB(year,B.year,B.year,"year",A);}KKB(int A,int B,int C,String D,String G){if(A<B||A>C){throw new FormatException("Error parsing ${G}, invalid ${D} value: ${A}");}}DateTime ze({retry: true}){var A;if(Xt){A=new DateTime.utc(year,month,day,qY,minute,second,dY);}else{A=new DateTime(year,month,day,qY,minute,second,dY);if(A.toUtc()==A){A=ze(retry:false);}}return A;}}class SF{var MD;int index=0;SF(this.MD);bool LQ()=>index>=MD.length;next()=>MD[index++ ];read([int A=1]){var B=qH(A);index+= A;return B;}bool startsWith(String A){if(MD is String)return MD.startsWith(A,index);return A==qH(A.length);}qH([int B=1]){var A;if(MD is String){A=MD.substring(index,wH.min(index+B,MD.length));}else{A=MD.sublist(index,index+B);}return A;}eG()=>qH(MD.length-index);List jq(Function B){var A=[] ;while(!LQ()){if(B(next()))A.add(index-1);}return A;}var Of=new RegExp(r'\d+');int or(){var A=Of.stringMatch(eG());if(A==null||A.isEmpty)return null;read(A.length);return int.parse(A);}}class AN{final String name;final Object data;AN(this.name,this.data);}abstract class Dc{}abstract class EK{static const List<String> T2=const['xml','json','csv','txt','html','htm','css','js','log','log','dg5','df5'];static dynamic U2(String A,Function C,Function D,Function G){int B=A.lastIndexOf('.');if(B>0){String I=A.substring(B+1).toLowerCase();if(T2.contains(I)){return C();}else{return D();}}else{return G();}}static bool V2(String B,List<String> A){if(A==null){return true;}return A.any((String C){return B.endsWith(C);});}static Dc HP;static void set W2(Dc A){if(HP!=null){throw 'Error: DGFileSystem can be initialized only once';}HP=A;}static Future<bool> Hm(String A,Object B){if(B is!String&&B is!List<int>&&B!=null){return new Future.value(false);}int D=A.lastIndexOf('/');int G=A.lastIndexOf(r'\');int C=A.indexOf('.');if(C<=D||C<=G){return new Future.value(false);}HP.pJ(A,B);return new Future.value(true);}static Stream<AN> X2(String A,[List<String> B]){return HP.v9(A);}static Function Im;static Map<String,String> Ec;static Future<BN> Jm(String A,bool C,{String method: 'GET',String query,Map headers,bool sendCookies: false,List<int> bytes}){if(Im!=null){A=Im(A);}if(headers==null){headers={};}if(Ec!=null){for(String B in Ec.keys){if(!(headers.keys.any((D)=>D==B.toLowerCase()))){headers[B.toLowerCase()]=Ec[B];}}}return HP.B_(A,C,method:method,query:query,headers:headers,sendCookies:sendCookies,bytes:bytes);}static Future<String> Y2(String A,String B){return HP.x9(A,B);}}class BN{Map headers;Object data;int statusCode;BN(this.headers,this.data,this.statusCode);}class Fc{String data;int statusCode;Fc(this.data,this.statusCode){if(data==null||data==''){data='error';}}}typedef Nc gm();typedef void hm(_0);typedef void P3();abstract class Nc{static gm im;static void set Q3(gm A){if(im!=null){throw 'Error: DGWebSocket factory can be initialized only once';}im=A;}}class RP{static KD R3(Object A){return b5(A).GAB;}static S3(KD A){if(A.p.length==1&&A.kq is JK){return (A.kq as JK).kE;}return null;}static eB T3(KD A,String B){return Oc(A.p,B);}static eB Oc(List<eB> D,String B){for(eB A in D){if(A is KD){if(A.name.aG==B){return A;}else{eB C=Oc(A.p,B);if(C!=null){return C;}}}}return null;}static List<eB> U3(KD A,String B){List<eB> C=new List<eB>();return Pc(A.p,B,C);}static List<eB> Pc(List<eB> D,String C,List<eB> B){for(eB A in D){if(A is KD){if(A.name.aG==C){B.add(A);}else{Pc(A.p,C,B);}}}return B;}}class Qc{RawDatagramSocket LKB;Qc();Future init([bool D=false])async{LKB=await RawDatagramSocket.bind("0.0.0.0",D?1900:0);LKB.multicastHops=10;LKB.broadcastEnabled=true;LKB.listen((RawSocketEvent B){if(B==RawSocketEvent.READ){var A=LKB.receive();LKB.writeEventsEnabled=true;if(A==null){return;}var G=UTF8.decode(A.data);MKB(A,G);}else if(B==RawSocketEvent.CLOSED){if(!NKB.isClosed){NKB.close();}}});LKB.writeEventsEnabled=true;var I=await NetworkInterface.list();try {for(var C in I){try {LKB.joinMulticast(new InternetAddress("239.255.255.230"),interface:C);}catch (J){LKB.joinMulticast(new InternetAddress("239.255.255.230"),interface:C);}}}catch (J){LKB.joinMulticast(new InternetAddress("239.255.255.230"));}}Stream<String> N8({Duration timeout: const Duration(seconds:5)}){OKB("DISCOVER","239.255.255.230",1900);Stream<String> A=NKB.stream;new Future.delayed(timeout,(){close();});return A;}void OKB(String A,String B,int C){LKB.send(UTF8.encode(A),new InternetAddress(B),C);}void MKB(Datagram C,String D){var A=D.split(" ");var B=A[0];var G=A.skip(1).join(" ");if(B=="BROKER"){NKB.add(G);}else if(B=="DISCOVER"){PKB.add(new Rc(this,C));}}StreamController<Rc> PKB=new StreamController.broadcast();StreamController<String> NKB=new StreamController.broadcast();void close(){LKB.close();}}class Rc{final Qc u7;final Datagram r_;Rc(this.u7,this.r_);}typedef void V3(sJ _0);typedef dynamic W3(String _0,QG _1);class Sc{lW ZG;FJ provider;aH bG;String jK;File QKB;String kI;List<String> PE;bool isRequester=false;String command="link";bool isResponder=true;Map<String,dynamic> defaultNodes;Map<String,Function> profiles;bool enableHttp=true;bool encodePrettyJson=false;bool strictOptions=false;bool exitOnFailure=true;bool loadNodesJson=true;String defaultLogLevel="INFO";String D_;bool savePrivateKey=false;vC overrideRequester;OC overrideResponder;Map linkData;String home;String token;Sc(this.PE,this.kI,{this.isRequester: false,this.command: "link",this.isResponder: true,this.defaultNodes,Map<String,dynamic> nodes,this.profiles,this.provider,this.enableHttp: true,this.encodePrettyJson: false,bool autoInitialize: true,this.strictOptions: false,this.exitOnFailure: true,this.loadNodesJson: true,this.defaultLogLevel: "INFO",this.savePrivateKey: true,this.overrideRequester,this.overrideResponder,FJ nodeProvider,this.linkData}){exitOnFailure=Zone.current["dslink.runtime.config"] is!Map;if(nodeProvider!=null){provider=nodeProvider;}if(nodes!=null){defaultNodes=nodes;}if(autoInitialize){init();}}String get MQ=>RKB;String RKB=Directory.current.path;String SKB;String TKB;bool UKB=false;String VKB(ZB A){return A.name.toLowerCase();}bool Lq({JH argp,V3 optionsHandler}){UKB=true;if(ZG!=null){ZG.close();ZG=null;}if(argp==null){argp=new JH(allowTrailingOptions:!strictOptions);}argp.wL("broker",abbr:"b",help:"Broker URL",defaultsTo:"http://127.0.0.1:8080/conn");argp.wL("name",abbr:"n",help:"Link Name");argp.wL("home",help:"Home");argp.wL("token",help:"Token");argp.wL("base-path",help:"Base Path for DSLink");argp.wL("watch-file",help:"Watch File for DSLink",hide:true);argp.wL("log-file",help:"Log File for DSLink");List<String> S=ZB.pn.map(VKB).toList();S.addAll(["auto","debug"]);argp.wL("log",abbr:"l",allowed:S,help:"Log Level",defaultsTo:"AUTO");argp.pp("help",abbr:"h",help:"Displays this Help Message",negatable:false);argp.pp("discover",abbr:"d",help:"Automatically Discover a Broker",negatable:false);sJ A=argp.KE(PE);if(A["log"]=="auto"){if(Z4){DX("all");}else{DX(defaultLogLevel);}}else{DX(A["log"]);}if(A["base-path"]!=null){RKB=A["base-path"];if(RKB.endsWith("/")){RKB=RKB.substring(0,RKB.length-1);}}if(A["watch-file"]!=null){SKB=A["watch-file"];}TKB=A["log-file"];if(TKB!=null){var G=new File(TKB);if(!G.existsSync()){G.createSync(recursive:true);}wC.Dq();IOSink J=WKB=G.openWrite(mode:FileMode.APPEND);wC.tr.listen((B){J.writeln("[${new DateTime.now()}][${B.level.name}] ${B.message}");if(B.error!=null){J.writeln(B.error);}if(B.stackTrace!=null){J.writeln(B.stackTrace);}J.flush();});}if(SKB!=null){var G=new File(SKB);StreamSubscription a;a=G.watch(events:FileSystemEvent.DELETE).listen((xD){close();a.cancel();if(WKB!=null){try {WKB.close();}catch (C){}}});}if(const bool.fromEnvironment("dslink.debugger.console",defaultValue:false)){l3().listen((String j){if(j=="list-stored-nodes"){if(provider is QG){QG I=provider;print(I.VC.keys.join("\n"));}else{print("Not a SimpleNodeProvider.");}}else if(j=="list-stub-nodes"){if(provider is QG){QG I=provider;for(var P in I.VC.values){tB R=new tB(P.path);if(I.VC[R.WC]==null){print(P.path);}else if(!I.VC[R.WC].p.containsKey(R.name)){print(P.path);}}}else{print("Not a SimpleNodeProvider.");}}});}{var q=Zone.current["dslink.runtime.config"];if(q!=null){var aC=(){close();if(WKB!=null){try {WKB.close();}catch (C){}}};q["closeHandler"]=aC;}}String BB="usage: ${command} [--broker URL] [--log LEVEL] [--name NAME] [--discover]";if(A["help"]){print(BB);print(argp.Wt);if(exitOnFailure){exit(1);}else{return false;}}jK=A["broker"];if(jK==null&&!A["discover"]){print("No Broker URL Specified. One of [--broker, --discover] is required.");print(BB);print(argp.Wt);if(exitOnFailure){exit(1);}else{return false;}}String K=A["name"];home=A["home"];token=A["token"];if(K!=null){if(K.endsWith("-")){kI=K;}else{kI="${K}-";}}File HB=new File("${RKB}/dslink.json");if(HB.existsSync()){var C;try {String YD=HB.readAsStringSync();HM=IJ.xc(YD);}catch (aB){C=aB;}if(HM==null){wC.iZ("Invalid dslink.json",C);if(exitOnFailure){exit(1);}else{return false;}}}else{HM={};}if(jK!=null){if(!jK.startsWith("http")){jK="http://${jK}";}}File lB=CC("key")==null?new File("${RKB}/.dslink.key"):new File.fromUri(Uri.parse(CC("key")));String D;try {D=lB.readAsStringSync();bG=new aH.ZCB(D);}catch (aB){}if(D==null||D.length!=131){if(AX.Gn.T_){String N;if(Platform.isWindows){N=Process.runSync("getmac",[] ).stdout.toString();}else{try {N=Process.runSync("arp",["-an"]).stdout.toString();}catch (C){try {var xB="";for(var EC in Platform.environment.keys){xB+= "${EC}=${Platform.environment[EC]}\n";}N=xB;}catch (C){}}}AX.Gn.N7(N);}bG=new aH.YCB();D=bG.KAB();if(savePrivateKey){lB.writeAsStringSync(D);}}if(A["discover"]){XKB=true;}if(optionsHandler!=null){optionsHandler(A);}return true;}Future<String> r7(Stream<String> A)async{return await A.first;}bool XKB=false;String get YC=>ZG.YC;IOSink WKB;bool YKB=false;void init(){if(!UKB){if(!Lq()){return;}}if(ZKB){return;}ZKB=true;if(profiles!=null){for(var A in profiles.keys.toList()){var B=profiles[A];if(B is W3){profiles[A]=(String I){return B(I,provider);};}}}if(provider==null){provider=new QG(null,profiles);(provider as QG).RAB(JAB);}y9();void C(){ZG=E8();aKB=true;if(bKB){connect();}}if(XKB){var D=new Qc();new Future(()async{await D.init();try {var G=await r7(D.N8());wC.sY("Discovered Broker at ${G}");jK=G;C();}catch (J,K){wC.iZ("Failed to discover a broker.",J,K);exit(1);}});}else{C();}}lW E8(){var A=new lW(jK,kI,bG,isRequester:isRequester,isResponder:isResponder,nodeProvider:provider,overrideRequester:overrideRequester,overrideResponder:overrideResponder,home:home,token:token,linkData:linkData);A.KO=D_;return A;}void y9(){if(provider is VF&&!YKB){QKB=CC("nodes")==null?new File("${RKB}/nodes.json"):new File.fromUri(Uri.parse(CC("nodes")));Map<String,dynamic> A;if(loadNodesJson){QKB=CC("nodes")==null?new File("${RKB}/nodes.json"):new File.fromUri(Uri.parse(CC("nodes")));try {String C=QKB.readAsStringSync();var B=IJ.xc(C);if(B is Map<String,dynamic>){A=B;}}catch (D){}}if(A!=null){a_(A);(provider as VF).init(A);}else if(defaultNodes!=null){(provider as VF).init(defaultNodes);}}}Map HM;Object CC(String A){if(HM!=null&&HM["configs"] is Map&&HM["configs"][A] is Map&&HM["configs"][A].containsKey("value")){return HM["configs"][A]["value"];}return null;}void a_(Map A){}bool ZKB=false;bool aKB=false;bool bKB=false;Future connect(){if(cKB==null){cKB=new Completer();}if(!UKB||!ZKB){init();}if(aKB){ZG.Pg.then(cKB.complete);if(ZG!=null)ZG.connect();}else{bKB=true;}return cKB.future;}Completer cKB;vC get GB=>ZG.GB;Future<vC> get vQ=>ZG.vQ;void close(){cKB=null;if(ZG!=null){ZG.close();ZG=null;ZKB=false;YKB=true;}}void stop()=>close();void pJ(){if(QKB!=null&&provider!=null){if(provider is!VF){return;}QKB.writeAsStringSync(IJ.wc((provider as VF).pJ(),pretty:encodePrettyJson));}}Future JAB()async{if(QKB!=null&&provider!=null){if(provider is!VF){return;}var A=0;while(dKB){await new Future.delayed(const Duration(milliseconds:5));A++ ;if(A==100){break;}}var B=IJ.wc((provider as VF).pJ(),pretty:encodePrettyJson);dKB=true;await QKB.writeAsString(B);dKB=false;}}bool dKB=false;QB UE(String A){return provider.UE(A);}QB HY(String A,Map B){if(provider is!LN){throw new Exception("Unable to Modify Node Provider: It is not mutable.");}return (provider as LN).HY(A,B);}void VZ(String A){if(provider is!LN){throw new Exception("Unable to Modify Node Provider: It is not mutable.");}(provider as LN).VZ(A);}void rB(String A,dynamic B){if(provider is!LN){throw new Exception("Unable to Modify Node Provider: It is not mutable.");}(provider as LN).rB(A,B);}QB operator[](String A)=>provider[A];QB operator~()=>this["/"];}class lW extends TS{Completer<vC> eKB=new Completer<vC>();Completer fKB=new Completer();Future<vC> get vQ=>eKB.future;Future get Pg=>fKB.future;String YC;final String pT;final String home;final String token;final aH bG;String wU;vC GB;OC rC;bool BBB=true;String KO;GJ gKB;GJ get nonce=>gKB;oc hKB;static const Map<String,int> X3=const{'salt':0,'saltS':1,'saltL':2};final List<String> wg=new List<String>(3);Ut(String A,[int B=0]){wg[B]=A;}String iKB;String jKB;bool Vf=false;Map linkData;List nq=['msgpack','json'];String FB='json';lW(this.jKB,String B,aH A,{FJ nodeProvider,bool isRequester: true,bool isResponder: true,vC overrideRequester,OC overrideResponder,this.home,this.token,this.linkData,List formats}):bG=A,pT='${tB.g3(B)}${A.WM.mg}'{if(isRequester){if(overrideRequester!=null){GB=overrideRequester;}else{GB=new vC();}}if(formats==null&&const String.fromEnvironment("dsa.codec.formats")!=null){var C=const String.fromEnvironment("dsa.codec.formats");formats=C.split(",");}if(formats!=null){this.nq=formats;}if(isResponder){if(overrideResponder!=null){rC=overrideResponder;}else if(nodeProvider!=null){rC=new OC(nodeProvider);}}if(token!=null&&token.length>16){String D=token.substring(0,16);String G=nc.J4(Fd('${pT}${token}'));wU='&token=${D}${G}';}}int kKB=0;connect()async{if(lKB){return;}I4();LI.e4(tY);HttpClient D=new HttpClient();D.badCertificateCallback=(X509Certificate a,String j,int q){return true;};String B='${jKB}?dsId=${Uri.encodeComponent(pT)}';if(home!=null){B='${B}&home=${home}';}if(wU!=null){B='${B}${wU}';}Uri G=Uri.parse(B);wC.sY(zF("Connecting to ${jKB}"));try {HttpClientRequest I=await D.postUrl(G);Map C={'publicKey':bG.WM.PZ,'isRequester':GB!=null,'isResponder':rC!=null,'formats':nq,'version':W4,'enableWebSocketCompression':true};if(linkData!=null){C['linkData']=linkData;}wC.ZQ(zF("Handshake Request: ${C}"));wC.ZY(zF("ID: ${pT}"));I.add(Fd(IJ.wc(C)));HttpClientResponse K=await I.close();List<int> N=await K.fold(<int>[] ,X4);String P=const Utf8Decoder().convert(N);Map A=IJ.xc(P);wC.ZQ(zF("Handshake Response: ${A}"));X3.forEach((R,S){wg[S]=A[R];});String J=A['tempKey'];if(J==null){gKB=const Hn();}else{gKB=await bG.Jr(J);}Vf=A.containsKey('version');YC=A['path'];if(A['wsUri'] is String){iKB='${G.resolve(A['wsUri'])}?dsId=${Uri.encodeComponent(pT)}'.replaceFirst('http','ws');if(home!=null){iKB='${iKB}&home=${home}';}}if(A['format'] is String){FB=A['format'];}tY(false);kKB=0;mKB=0;}catch (BB){LI.Dd(connect,(kKB==0?20:kKB*500));if(kKB<30)kKB++ ;}}int mKB=0;tY([bool C=true])async{if(lKB)return;try {String B='${iKB}&auth=${gKB.jf(wg[0])}&format=${FB}';if(wU!=null){B='${B}${wU}';}var D=await m3.p3(B,useStandardWebSocket:BBB);hKB=new oc(D,clientLink:this,enableTimeout:true,enableAck:Vf,useCodec:KI.Y4(FB));wC.sY(zF("Connected"));if(!fKB.isCompleted){fKB.complete();}if(rC!=null){rC.connection=hKB.os;}if(GB!=null){hKB.vQ.then((G){GB.connection=G;if(!eKB.isCompleted){eKB.complete(GB);}});}hKB.TM.then((J){tY();});}catch (A,I){wC.ZY(zF("Error while initializing WebSocket"),A,I);if(A is WebSocketException&&(A.message.contains('not upgraded to websocket')||A.message.contains('(401)'))){LI.Dd(connect,20);}else if(C){LI.Dd(tY,mKB==0?20:mKB*500);if(mKB<30)mKB++ ;}}}bool lKB=false;void close(){if(lKB)return;fKB=new Completer();lKB=true;if(hKB!=null){hKB.close();hKB=null;}}}abstract class mm{uE get os;Future<uE> get vQ;Future<bool> get TM;void rg();void GY(String A,Object B);void close();KI iT=KI.Nn;ListQueue<HN> dg=new ListQueue<HN>();void op(int C){HN B;for(HN A in dg){if(A.DY==C){B=A;break;}else if(A.DY<C){B=A;}}if(B!=null){int D=(new DateTime.now()).millisecondsSinceEpoch;do{HN A=dg.removeFirst();A.H7(C,D);if(A==B){break;}}while(B!=null);}}}class VL{List<Map> LO;List<qF> UM;VL(this.LO,this.UM);}class HN{int DY;int tH;int xCB;List<qF> UM;HN(this.DY,this.tH,this.UM);void H7(int C,int A){for(qF B in UM){B.XT(DY,tH,A);}}}abstract class uE{}abstract class c3{vC get GB;OC get rC;GJ get nonce;Future<vC> get vQ;void close();}abstract class TS extends c3{aH get bG;Ut(String A,[int B=0]);String get KO=>null;String zF(String A){if(KO!=null){return "[${KO}] ${A}";}return A;}connect();}class jB{static const String DJ="initialize";static const String WL="open";static const String jC="closed";}class oW{static const String ac="request";static const String f3="response";}class KB{String type;String detail;String msg;String path;String phase;KB(this.type,{this.msg,this.detail,this.path,this.phase: oW.f3});KB.WCB(Map A){if(A["type"] is String){type=A["type"];}if(A["msg"] is String){msg=A["msg"];}if(A["path"] is String){path=A["path"];}if(A["phase"] is String){phase=A["phase"];}if(A["detail"] is String){detail=A["detail"];}}String T9(){if(msg!=null){return msg;}if(type!=null){return type;}return "Error";}Map NAB(){Map A={};if(msg!=null){A["msg"]=msg;}if(type!=null){A["type"]=type;}if(path!=null){A["path"]=path;}if(phase==oW.ac){A["phase"]=oW.ac;}if(detail!=null){A["detail"]=detail;}return A;}static final KB XL=new KB("permissionDenied");static final KB cc=new KB("invalidMethod");static final KB pW=new KB("invalidPath");static final KB rm=new KB("invalidPaths");static final KB h3=new KB("invalidValue");static final KB i3=new KB("disconnected",phase:oW.ac);}class RS implements uE{final StreamController<List> xK=new StreamController<List>();Stream<List> get d_=>xK.stream;List<Function> nKB=[] ;final mm Mq;RS(this.Mq,[this.If=false]){}mW handler;void xg(mW A){this.handler=A;Mq.rg();}VL fQ(int A,int B){if(handler!=null){VL C=handler.fQ(A,B);return C;}return null;}bool oKB=false;bool If=true;final Completer<uE> UU=new Completer<uE>();Future<uE> get TM=>UU.future;final Completer<uE> X_=new Completer<uE>();Future<uE> get Pg=>X_.future;}abstract class qF{static const int Tc=64;static const int Y3=1024;}abstract class mW{uE pKB;StreamSubscription qKB;uE get connection=>pKB;set connection(uE A){if(qKB!=null){qKB.cancel();qKB=null;rKB(pKB);}pKB=A;qKB=pKB.d_.listen(onData);pKB.TM.then(rKB);if(pKB.If){uQ();}else{pKB.Pg.then((A)=>uQ());}}void rKB(uE A){if(pKB==A){if(qKB!=null){qKB.cancel();qKB=null;}TM();pKB=null;}}void TM();void uQ(){if(sKB){pKB.xg(this);}}void onData(List A);List<Map> tKB=<Map>[] ;void aT(Map A){tKB.add(A);if(!sKB){if(pKB!=null){pKB.xg(this);}sKB=true;}}List<qF> nKB=[] ;void YT(qF A){nKB.add(A);if(!sKB){if(pKB!=null){pKB.xg(this);}sKB=true;}}bool sKB=false;VL fQ(int B,int C){sKB=false;List<qF> A=nKB;nKB=[] ;for(qF D in A){D.HR(B,C);}List<Map> G=tKB;tKB=[] ;return new VL(G,A);}void t7(){nKB.length=0;sKB=false;}}class RC{static String km(String A){if(A.contains('/')){List B=A.split('/');A=B.removeLast();while(A==''&&!B.isEmpty){A=B.removeLast();}}if(A.contains('%')){A=ON.PN(A);}return A;}RC pC;Map<String,Object> kB={};RC();Object cJ(String A){if(kB.containsKey(A)){return kB[A];}if(pC!=null&&pC.kB.containsKey(A)){return pC.kB[A];}return null;}Map<String,Object> f={r'$is':'node'};Object CC(String A){if(f.containsKey(A)){return f[A];}if(pC!=null&&pC.f.containsKey(A)){return pC.f[A];}return null;}Map<String,RC> p={};void JQ(String A,RC B){p[A]=B;}String og(dynamic A){if(A is String){p.remove(KM(A));return A;}else if(A is RC){p.remove(A);}else{throw new Exception("Invalid Input");}return null;}RC KM(String A){if(p.containsKey(A)){return p[A];}if(pC!=null&&pC.p.containsKey(A)){return pC.p[A];}return null;}Object get(String A){if(A.startsWith(r'$')){return CC(A);}if(A.startsWith('@')){return cJ(A);}return KM(A);}void mq(void A(String name,RC node)){p.forEach(A);if(pC!=null){pC.p.forEach((String B,RC C){if(!p.containsKey(B)){A(B,C);}});}}Map<String,dynamic> xT(){var A=<String,dynamic>{};if(f.containsKey(r'$is')){A[r'$is']=f[r'$is'];}if(f.containsKey(r'$type')){A[r'$type']=f[r'$type'];}if(f.containsKey(r'$name')){A[r'$name']=f[r'$name'];}if(f.containsKey(r'$invokable')){A[r'$invokable']=f[r'$invokable'];}if(f.containsKey(r'$writable')){A[r'$writable']=f[r'$writable'];}return A;}}class tB{static final RegExp d3=new RegExp(r'[\\\?\*|"<>:]');static final RegExp e3=new RegExp(r'[\/\\\?\*|"<>:]');static String g3(String A){if(A.contains(e3)){return Uri.encodeComponent(A);}return A;}static tB qm(Object A,[String C]){if(A is String){tB B=new tB(A);if(B.zU){return B..ir(C);}}return null;}static tB bc(Object B,[String C]){if(B is String){tB A=new tB(B);if(A.zU&&A.xY){return A..ir(C);}}return null;}String path;String WC;tB get parent=>new tB(WC);tB q7(String A)=>new tB((path.endsWith("/")?path.substring(0,path.length-1):path)+"/"+(A.startsWith("/")?A.substring(1):A));String name;bool zU=true;tB(this.path){uKB();}void uKB(){if(path==''||path.contains(d3)||path.contains('//')){zU=false;}if(path=='/'){zU=true;name='/';WC='';return;}if(path.endsWith('/')){path=path.substring(0,path.length-1);}int A=path.lastIndexOf('/');if(A<0){name=path;WC='';}else if(A==0){WC='/';name=path.substring(1);}else{WC=path.substring(0,A);name=path.substring(A+1);if(WC.contains(r'/$')||WC.contains('/@')){zU=false;}}}bool get isAbsolute{return name=='/'||WC.startsWith('/');}bool get q9{return name=='/';}bool get Rr{return name.startsWith(r'$');}bool get rf{return name.startsWith(r'@');}bool get xY{return !name.startsWith(r'@')&&!name.startsWith(r'$');}void ir(String A,[bool B=false]){if(A==null){return;}if(!isAbsolute){if(WC==''){WC=A;}else{WC='${A}/${WC}';}path='${WC}/${name}';}else if(B){if(name==''){path=A;uKB();}else{WC='${A}${WC}';path='${WC}/${name}';}}}}class iB{static const int Uc=0;static const int Z3=1;static const int jm=2;static const int SS=3;static const int iC=4;static const int nW=5;static const List<String> lm=const['none','list','read','write','config','never'];static const Map<String,int> nm=const{'none':Uc,'list':Z3,'read':jm,'write':SS,'config':iC,'never':nW};static int UL(Object A,[int B=nW]){if(A is String&&nm.containsKey(A)){return nm[A];}return B;}}class TF{String type;String name;Object BF;TF(this.name,this.type,[this.BF]);Map<String,dynamic> zB(){var A=<String,dynamic>{"type":type,"name":name};if(BF!=null){A["default"]=BF;}return A;}static List<Map<String,dynamic>> b3(List C){var B=<Map<String,dynamic>>[] ;for(Object A in C){if(A is Map<String,dynamic>){B.add(A);}else if(A is TF){B.add(A.zB());}}return B;}static List<TF> Wc(List D){List<TF> B=<TF>[] ;for(Object A in D){if(A is Map&&A["name"] is String){String C="string";if(A["type"] is String){C=A["type"];}B.add(new TF(A["name"],C,A["default"]));}else if(A is TF){B.add(A);}else{return null;}}return B;}}class Xc{}class Yc{}class Zc{}typedef t TL<t>(hB _0);class hB{static final String a3=(){int A=(new DateTime.now()).timeZoneOffset.inMinutes;String B="+";if(A<0){A=-A;B="-";}int C=A~/60;int D=A%60;return "${B}${C<10?'0':''}${C}:${D<10?"0":''}${D}";}();static String Vc;static int om=0;static String pm(){DateTime A=new DateTime.now();if(A.millisecondsSinceEpoch==om){return Vc;}om=A.millisecondsSinceEpoch;Vc="${A.toIso8601String()}${a3}";return Vc;}int CV=-1;Object value;String ts;DateTime vKB;DateTime get Ht{if(vKB==null){vKB=DateTime.parse(ts);}return vKB;}String status;int count;num sum;num min;num max;DateTime QY;hB(this.value,{this.ts,Map meta,this.status,this.count: 1,this.sum: double.NAN,this.min: double.NAN,this.max: double.NAN}){if(ts==null){ts=pm();}QY=new DateTime.now();if(meta!=null){if(meta["count"] is int){count=meta["count"];}else if(value==null){count=0;}if(meta["status"] is String){status=meta["status"];}if(meta["sum"] is num){sum=meta["sum"];}if(meta["max"] is num){max=meta["max"];}if(meta["min"] is num){min=meta["min"];}}if(value is num&&count==1){if(sum!=sum)sum=value;if(max!=max)max=value;if(min!=min)min=value;}}hB.VCB(hB B,hB A){value=A.value;ts=A.ts;status=A.status;count=B.count+A.count;sum=B.sum;if(!A.sum.isNaN){if(sum==sum){sum=A.sum;}else{sum+= A.sum;}}min=B.min;if(min.isNaN||A.min<min){min=A.min;}max=B.min;if(max.isNaN||A.max>max){max=A.max;}QY=A.QY;}Duration wKB;void J_(hB A){value=A.value;ts=A.ts;status=A.status;count+= A.count;if(!A.sum.isNaN){if(sum==sum){sum+= A.sum;}else{sum=A.sum;}}if(min!=min||A.min<min){min=A.min;}if(max!=max||A.max>max){max=A.max;}}Map fAB(){Map A={"ts":ts,"value":value};if(count==0){A["count"]=0;}else if(count>1){A["count"]=count;if(sum.isFinite){A["sum"]=sum;}if(max.isFinite){A["max"]=max;}if(min.isFinite){A["min"]=min;}}return A;}Object YDB;}class oc extends mm{RS xKB;uE get os=>xKB;RS yKB;Completer<uE> Rg=new Completer<uE>();Future<uE> get vQ=>Rg.future;Completer<bool> zKB=new Completer<bool>();Future<bool> get TM=>zKB.future;final TS clientLink;final WebSocket socket;bool ALB=false;oc(this.socket,{this.clientLink,bool enableTimeout: false,bool enableAck: true,KI useCodec}){if(useCodec!=null){iT=useCodec;}xKB=new RS(this,true);yKB=new RS(this,true);socket.listen(onData,onDone:BLB);socket.add(iT.e7);if(!enableAck){vK=-1;}if(enableTimeout){gg=new Timer.periodic(const Duration(seconds:20),c_);}}Timer gg;bool CLB=false;int DLB=0;static bool MN=false;static int In=0;static int BX=0;static int Jn=0;static int CX=0;static int K4=0;static int L4=0;void c_(Timer A){if(DLB>=3){this.close();return;}DLB++ ;if(CLB){CLB=false;return;}this.GY(null,null);}void rg(){if(!ELB){ELB=true;LI.YL(FLB);}}Map GLB;void GY(String A,Object B){if(GLB==null){GLB={};}if(A!=null){GLB[A]=B;}rg();}void onData(dynamic B){K4++ ;if(zKB.isCompleted){return;}if(!Rg.isCompleted){Rg.complete(yKB);}DLB=0;Map A;if(B is List<int>){try {A=iT.SY(B as List<int>);if(wC.wY(ZB.hS)){wC.ZQ(zF("receive: ${A}"));}}catch (G,I){wC.ZY(zF("Failed to decode binary data in WebSocket Connection"),G,I);close();return;}if(MN){In+= B.length;}B=null;bool C=false;if(A["responses"] is List&&(A["responses"] as List).length>0){C=true;yKB.xK.add(A["responses"]);}if(A["requests"] is List&&(A["requests"] as List).length>0){C=true;xKB.xK.add(A["requests"]);}if(A["ack"] is int){op(A["ack"]);}if(C){Object D=A["msg"];if(D!=null){GY("ack",D);}}}else if(B is String){try {A=iT.RQ(B);if(wC.wY(ZB.hS)){wC.ZQ(zF("receive: ${A}"));}}catch (G,I){wC.iZ(zF("Failed to decode string data from WebSocket Connection"),G,I);close();return;}if(MN){In+= B.length;}if(A["salt"] is String&&clientLink!=null){clientLink.Ut(A["salt"]);}bool C=false;if(A["responses"] is List&&(A["responses"] as List).length>0){C=true;yKB.xK.add(A["responses"]);if(MN){for(Map J in A["responses"]){if(J["updates"] is List){int K=J["updates"].length;if(K>0){BX+= K;}else{BX+= 1;}}else{BX+= 1;}}}}if(A["requests"] is List&&(A["requests"] as List).length>0){C=true;xKB.xK.add(A["requests"]);if(MN){BX+= A["requests"].length;}}if(A["ack"] is int){op(A["ack"]);}if(C){Object D=A["msg"];if(D!=null){GY("ack",D);}}}}int vK=1;bool ELB=false;void FLB(){ELB=false;bool C=false;Map B;if(GLB!=null){B=GLB;GLB=null;C=true;}else{B={};}var D=<qF>[] ;int G=(new DateTime.now()).millisecondsSinceEpoch;VL A=xKB.fQ(G,vK);if(A!=null){if(A.LO.length>0){B["responses"]=A.LO;C=true;if(MN){for(Map I in A.LO){if(I["updates"] is List){int J=I["updates"].length;if(J>0){CX+= J;}else{CX+= 1;}}else{CX+= 1;}}}}if(A.UM.length>0){D.addAll(A.UM);}}A=yKB.fQ(G,vK);if(A!=null){if(A.LO.length>0){B["requests"]=A.LO;C=true;if(MN){CX+= A.LO.length;}}if(A.UM.length>0){D.addAll(A.UM);}}if(C){if(vK!=-1){if(D.length>0){dg.add(new HN(vK,G,D));}B["msg"]=vK;if(vK<0x7FFFFFFF){ ++vK;}else{vK=1;}}M7(B);CLB=true;L4++ ;}}void M7(Map B){Object A=iT.qT(B);if(wC.wY(ZB.hS)){wC.ZQ(zF("send: ${B}"));}if(MN){if(A is String){Jn+= A.length;}else if(A is List<int>){Jn+= A.length;}else{wC.it(zF("invalid data frame"));}}socket.add(A);}bool n$=true;void BLB(){if(ALB){return;}ALB=true;if(n$){wC.sY(zF("Disconnected"));}if(!yKB.xK.isClosed){yKB.xK.close();}if(!yKB.UU.isCompleted){yKB.UU.complete(yKB);}if(!xKB.xK.isClosed){xKB.xK.close();}if(!xKB.UU.isCompleted){xKB.UU.complete(xKB);}if(!zKB.isCompleted){zKB.complete(false);}if(gg!=null){gg.cancel();}}String zF(String A){if(clientLink!=null){return clientLink.zF(A);}if(KO!=null){return "[${KO}] ${A}";}return A;}String KO;void close(){if(socket.readyState==WebSocket.OPEN||socket.readyState==WebSocket.CONNECTING){socket.close();}BLB();}}const bool j3=const bool.fromEnvironment("dsa.io.tcpNoDelay",defaultValue:true);Stream<String> k3(){return const Utf8Decoder().bind(tBB.stdin);}Stream<String> l3(){var A=k3();return const LineSplitter().bind(A);}class m3{static const String n3="258EAFA5-E914-47DA-95CA-C5AB0DC85B11";static const bool o3=const bool.fromEnvironment("calzone.build",defaultValue:false)||const bool.fromEnvironment("websocket.standard",defaultValue:true);static Future<WebSocket> p3(String P,{Iterable<String> protocols,Map<String,dynamic> headers,HttpClient httpClient,bool useStandardWebSocket})async{Uri A=Uri.parse(P);if(useStandardWebSocket==null){useStandardWebSocket=o3;}if(useStandardWebSocket==true&&A.scheme!="wss"){return await WebSocket.connect(P,protocols:protocols,headers:headers);}if(A.scheme!="ws"&&A.scheme!="wss"){throw new WebSocketException("Unsupported URL scheme '${A.scheme}'");}Random BB=new Random();Uint8List R=new Uint8List(16);for(int C=0;C<16;C++ ){R[C]=BB.nextInt(256);}String S=TH.pO(R);int J=A.port;if(J==0){J=A.scheme=="wss"?443:80;}A=new Uri(scheme:A.scheme=="wss"?"https":"http",userInfo:A.userInfo,host:A.host,port:J,path:A.path,query:A.query);HttpClient HB=httpClient==null?(new HttpClient()..badCertificateCallback=(aC,YD,xD)=>true):httpClient;return HB.openUrl("GET",A).then((HttpClientRequest D)async{if(A.userInfo!=null&&!A.userInfo.isEmpty){String aB=TH.pO(UTF8.encode(A.userInfo));D.headers.set(HttpHeaders.AUTHORIZATION,"Basic ${aB}");}if(headers!=null){headers.forEach((lB,K)=>D.headers.add(lB,K));}D.headers..set(HttpHeaders.CONNECTION,"Upgrade")..set(HttpHeaders.UPGRADE,"websocket")..set("Sec-WebSocket-Key",S)..set("Cache-Control","no-cache")..set("Sec-WebSocket-Version","13");if(protocols!=null){D.headers.add("Sec-WebSocket-Protocol",protocols.toList());}return D.close();}).then((B){return B;}).then((HttpClientResponse B){void G(String xB){B.detachSocket().then((Socket I){I.destroy();});throw new WebSocketException(xB);}if(B.statusCode!=HttpStatus.SWITCHING_PROTOCOLS||B.headers[HttpHeaders.CONNECTION]==null||!B.headers[HttpHeaders.CONNECTION].any((K)=>K.toLowerCase()=="upgrade")||B.headers.value(HttpHeaders.UPGRADE).toLowerCase()!="websocket"){G("Connection to '${A}' was not upgraded to websocket");}String a=B.headers.value("Sec-WebSocket-Accept");if(a==null){G("Response did not contain a 'Sec-WebSocket-Accept' header");}oM j=new oM();j.add("${S}${n3}".codeUnits);List<int> N=j.close();List<int> q=TH.ea(a);if(N.length!=q.length){G("Response header 'Sec-WebSocket-Accept' is the wrong length");}for(int C=0;C<N.length;C++ ){if(N[C]!=q[C]){G("Bad response 'Sec-WebSocket-Accept' header");}}var EC=B.headers.value('Sec-WebSocket-Protocol');return B.detachSocket().then((I){I.setOption(SocketOption.TCP_NODELAY,j3);return new WebSocket.fromUpgradedSocket(I,protocol:EC,serverSide:false);});});}}nc zW=kc.E4;bool H4=false;I4()=>H4=true;abstract class nc{static String J4(List<int> A){Uint8List B=NN.Kn(A);return zW.c7(B);}}abstract class GJ{String jf(String A);}abstract class ZS{String get PZ;String get mg;ZS();}abstract class aH{factory aH.YCB()=>zW.sq();factory aH.ZCB(String A)=>zW.w9(A);}abstract class AX{static AX get Gn=>zW.FR;}class Hn implements GJ{final String wCB="";const Hn();String jf(String A){return '';}}class En{static bool get B4=>C4!=null;static Isolate C4;static SendPort D4;static XS wW;static void F4(){if(wW==null&&lc.length>0){wW=lc.removeFirst();D4.send([wW.Xs.aJ.dL.ef(false),wW.pr]);}}static ListQueue<XS> lc=new ListQueue<XS>();static Future<GJ> G4(ZS B,String C){var A=new XS(B,C);lc.add(A);F4();return A.future;}}class XS{YS Xs;String pr;XS(this.Xs,this.pr);Completer<GJ> HLB=new Completer<GJ>();Future<GJ> get future=>HLB.future;}qI Dn;qI get FK{if(Dn!=null){return Dn;}r B=new r("ffffffff00000001000000000000000000000000ffffffffffffffffffffffff",16);r C=new r("ffffffff00000001000000000000000000000000fffffffffffffffffffffffc",16);r D=new r("5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b",16);r G=new r("046b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c2964fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5",16);r I=new r("ffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551",16);r J=new r("1",16);r K=new r("c49d360886e704936a6678e1139d26b7819f7e90",16);var N=K.vU();var A=new JV(B,C,D);return new qh("secp256r1",A,A.Lf(G.vU()),I,J,N);}class kc implements nc{static final kc E4=new kc();final mc FR=new mc();yH ILB;lG JLB;int KLB=-1;Future<GJ> Jr(ZS A)async{if(En.B4){return En.G4(A,"");}var D=new rh();var G=new KV(FK);var I=new MV(G,FR);D.init(I);var B=D.rq() as HV<lG,yH>;YS C;if(A is!YS){throw "Not a PublicKeyImpl: ${C}";}else{C=A;}var J=C.aJ.dL*B.bG.WG;return new xW(B.bG,B.WM,J);}Future<aH> fY()async{return sq();}aH sq(){var A=new rh();var C=new KV(FK);var D=new MV(C,FR);A.init(D);var B=A.rq();return new yW(B.bG,B.WM);}aH w9(String A){if(A.contains(" ")){List D=A.split(" ");var B=new r.yBB(1,uG.ZP(D[0]));yH C=new yH(B,FK);var G=FK.yF.Lf(uG.ZP(D[1]));lG I=new lG(G,FK);return new yW(C,I);}else{var B=new r.yBB(1,uG.ZP(A));yH C=new yH(B,FK);return new yW(C);}}String c7(Uint8List A){mM B=new mM();Uint8List C=B.process(new Uint8List.fromList(A));return uG.QN(C);}}class xW extends GJ{Uint8List CH;yH LLB;lG MLB;xW(this.LLB,this.MLB,SR D){CH=Fn(D.x.HH());if(CH.length>32){CH=CH.sublist(CH.length-32);}else if(CH.length<32){var B=new Uint8List(32);int C=32-CH.length;for(int A=0;A<CH.length; ++A){B[A+C]=CH[A];}for(int A=0;A<C; ++A){B[A]=0;}CH=B;}}String jf(String G){Uint8List B=Fd(G);Uint8List C=new Uint8List(B.length+CH.length);int A;for(A=0;A<B.length;A++ ){C[A]=B[A];}for(var D=0;D<CH.length;D++ ){C[A]=CH[D];A++ ;}mM I=new mM();var J=I.process(C);return uG.QN(J);}}class YS extends ZS{lG aJ;String PZ;String mg;YS(this.aJ){List<int> A=aJ.dL.ef(false);PZ=uG.QN(A);mM B=new mM();mg=uG.QN(B.process(A));}}class yW implements aH{ZS WM;yH WQ;lG aJ;yW(this.WQ,[this.aJ]){if(aJ==null){aJ=new lG(FK.pd*WQ.WG,FK);}WM=new YS(aJ);}String KAB(){return "${uG.QN(Fn(WQ.WG))} ${WM.PZ}";}Future<xW> Jr(String A)async{SR B=WQ.parameters.yF.Lf(uG.ZP(A));lG C=new lG(B,FK);var D=C.dL*WQ.WG;return new xW(WQ,aJ,D);}}class mc extends th implements AX{bool get T_=>true;Wa NLB;mh OLB;mc([int I=-1]){OLB=new mh();NLB=new Wa(OLB);Random A=new Random();final B=[A.nextInt(256),A.nextInt(256),A.nextInt(256),A.nextInt(256),A.nextInt(256),A.nextInt(256),A.nextInt(256),A.nextInt(256),A.nextInt(256),A.nextInt(256),A.nextInt(256),A.nextInt(256),A.nextInt(256),A.nextInt(256),A.nextInt(256),A.nextInt(256)];final C=new Va(new Uint8List.fromList(B));A=new Random((new DateTime.now()).millisecondsSinceEpoch);final D=new Uint8List.fromList([A.nextInt(256),A.nextInt(256),A.nextInt(256),A.nextInt(256),A.nextInt(256),A.nextInt(256),A.nextInt(256),A.nextInt(256)]);final G=new LV<xH>(C,D);NLB.lU(G);}void lU(xH A){if(A is LV<xH>){NLB.lU(A);}else{throw "${A} is not a ParametersWithIV implementation.";}}void N7(String G){List<int> A=const Utf8Encoder().convert(G);int C=(A.length).ceil()*16;if(C>A.length){A=A.toList();while(C>A.length){A.add(0);}}final D=new Uint8List.fromList(A);final I=new Uint8List(16);for(var B=0;B<D.lengthInBytes;){var J=OLB.DR(D,B,I,0);B+= J;}}int Ng(){return NLB.Ng();}}Uint8List Fn(r C){List<int> A=C.vU();if(A.length>32&&A[0]==0){A=A.sublist(1);}int D=A.length;for(int B=0;B<D; ++B){if(A[B]<0){A[B]&=0xff;}}return new Uint8List.fromList(A);}class um{static final Map q3={"node":{},"static":{},"getHistory":{r"$invokable":"read",r"$result":"table",r"$params":[{"name":"Timerange","type":"string","editor":"daterange"},{"name":"Interval","type":"enum","default":"none","editor":Un(["default","none","1Y","3N","1N","1W","1D","12H","6H","4H","3H","2H","1H","30M","15M","10M","5M","1M","30S","15S","10S","5S","1S"])},{"name":"Rollup","default":"none","type":Un(["none","avg","min","max","sum","first","last","count","delta"])}],r"$columns":[{"name":"timestamp","type":"time"},{"name":"value","type":"dynamic"}]}};static final Map<String,RC> vm=(){var C=new Map<String,RC>();q3.forEach((String D,Map I){String J='/defs/profile/${D}';rW A=new rW(J);I.forEach((String B,Object G){if(B.startsWith(r'$')){A.f[B]=G;}else if(B.startsWith('@')){A.kB[B]=G;}});A.yf=true;C[D]=A;});return C;}();}class US{Map<String,BC> PLB=new Map<String,BC>();US(){}BC HO(String A){if(!PLB.containsKey(A)){if(A.startsWith('defs')){PLB[A]=new rW(A);}else{PLB[A]=new BC(A);}}return PLB[A];}void clear(){PLB.clear();}RC P9(String B,String A){if(um.vm.containsKey(A)){return um.vm[A];}return HO(B);}BC xAB(BC C,String D,Map G){String A;if(C.YC=='/'){A='/${D}';}else{A='${C.YC}/${D}';}BC B;if(PLB.containsKey(A)){B=PLB[A];B.Jh(G,this);}else{B=new BC(A);PLB[A]=B;B.Jh(G,this);}return B;}}class BC extends RC{final String YC;bool yf=false;String name;VS QLB;OG RLB;bool get c9{if(RLB==null){return false;}return RLB.SLB!=null;}hB get vf{if(c9){return RLB.SLB;}else{return null;}}BC(this.YC){TLB();}void TLB(){if(YC=='/'){name='/';}else{name=YC.split('/').last;}}Stream<JD> ULB(vC A){if(QLB==null){QLB=F8(A);}return QLB.stream;}VS F8(vC A){return new VS(this,A);}void VLB(vC A,B(hB update),int C){if(RLB==null){RLB=new OG(this,A);}RLB.listen(B,C);}void WLB(vC B,A(hB update)){if(RLB!=null){RLB.jAB(A);}}Stream<EJ> XLB(Map A,vC B,[int C=iB.iC,ec D]){return new wm(this,B,A,C,D).YLB;}void Jh(Map I,US G){String C;if(YC=='/'){C='/';}else{C='${YC}/';}I.forEach((String A,B){if(A.startsWith(r'$')){f[A]=B;}else if(A.startsWith('@')){kB[A]=B;}else if(B is Map){RC D=G.HO('${C}/${A}');p[A]=D;if(D is BC){D.Jh(B,G);}}});}void CAB(){f.clear();kB.clear();p.clear();}Map pJ({bool includeValue: true}){var A={};A.addAll(f);A.addAll(kB);for(String C in p.keys){RC B=p[C];A[C]=B is BC?B.pJ():B.xT();}if(includeValue&&RLB!=null&&RLB.SLB!=null){A["?value"]=RLB.SLB.value;A["?value_timestamp"]=RLB.SLB.ts;}return A;}}class rW extends BC{rW(String A):super(A);}class NG{final vC GB;final int wD;final Map data;final IN hO;bool ZLB=false;bool get isClosed=>ZLB;NG(this.GB,this.wD,this.hO,this.data);String jD=jB.DJ;void ms(){GB.aT(data);}void aLB(Map A){if(A["stream"] is String){jD=A["stream"];}List C;List D;Map G;if(A["updates"] is List){C=A["updates"];}if(A["columns"] is List){D=A["columns"];}if(A["meta"] is Map){G=A["meta"];}if(jD==jB.jC){GB.bLB.remove(wD);}KB B;if(A.containsKey("error")&&A["error"] is Map){B=new KB.WCB(A["error"]);GB.cLB.add(B);}hO.wQ(jD,C,D,G,B);}void dLB([KB A]){if(jD!=jB.jC){jD=jB.jC;hO.wQ(jB.jC,null,null,null,A);}}void close(){GB.Fq(this);}}class EJ extends UF{List QZ;List<TF> g;List JF;KB error;Map meta;EJ(this.JF,this.QZ,this.g,String A,{this.meta,this.error}):super(A);List<List> eLB;List<List> get m{int C=-1;if(g!=null){C=g.length;}if(eLB==null){eLB=[] ;if(JF==null){return eLB;}for(Object A in JF){List<dynamic> B;if(A is List){if(A.length<C){B=A.toList();for(int D=A.length;D<C; ++D){B.add(g[D].BF);}}else if(A.length>C){if(C==-1){B=A.toList();}else{B=A.sublist(0,C);}}else{B=A;}}else if(A is Map){B=[] ;if(g==null){Map I=A;List<String> J=I.keys.map((K)=>K.toString()).toList();g=J.map((N)=>new TF(N,"dynamic")).toList();}if(g!=null){for(TF G in g){if(A.containsKey(G.name)){B.add(A[G.name]);}else{B.add(G.BF);}}}}eLB.add(B);}}return eLB;}}class wm implements IN{static List<TF> r3(BC B){Object A=B.CC(r'$columns');if(A is!List&&B.pC!=null){A=B.pC.CC(r'$columns');}if(A is List){return TF.Wc(A);}return null;}final BC h;final vC GB;StreamController<EJ> fLB;Stream<EJ> YLB;NG gLB;List<TF> hLB;String mode='stream';String Zr=jB.DJ;wm(this.h,this.GB,Map D,[int A=iB.iC,ec B]){fLB=new StreamController<EJ>();fLB.done.then(iLB);YLB=fLB.stream;var C=<String,dynamic>{'method':'invoke','path':h.YC,'params':D};if(A!=iB.iC){C['permit']=iB.lm[A];}gLB=GB.jLB(C,this);if(B!=null){B(gLB);}}void iLB(A){if(gLB!=null&&gLB.jD!=jB.jC){gLB.close();}}void wQ(String A,List D,List C,Map B,KB G){if(B!=null&&B['mode'] is String){mode=B['mode'];}if(C!=null){if(hLB==null||mode=='refresh'){hLB=TF.Wc(C);}else{hLB.addAll(TF.Wc(C));}}else if(hLB==null){hLB=r3(h);}if(G!=null){A=jB.jC;fLB.add(new EJ(null,null,null,A,error:G,meta:B));}else if(D!=null||B!=null||A!=Zr){fLB.add(new EJ(D,C,hLB,A,meta:B));}Zr=A;if(A==jB.jC){fLB.close();}}void TU(){}void XU(){}}class JD extends UF{List<String> eD;BC h;JD(this.h,this.eD,String A):super(A);}class fc{final BC h;final vC GB;StreamSubscription gD;bool RZ=false;fc(this.h,this.GB,void B(RequesterListUpdate)){gD=GB.list(h.YC).listen((JD A){RZ=A.jD!=jB.DJ;B(A);});}void cancel(){gD.cancel();}}class VS implements IN,qF{final BC h;final vC GB;YP<JD> fLB;Stream<JD> get stream=>fLB.stream;NG dG;VS(this.h,this.GB){fLB=new YP<JD>(i_,kLB,lLB);}String TY;void TU(){TY=hB.pm();h.f[r'$disconnectedTs']=TY;fLB.add(new JD(h,[r'$disconnectedTs'],dG.jD));}void XU(){if(TY!=null){h.f.remove(r'$disconnectedTs');TY=null;eD.add(r'$disconnectedTs');}}LinkedHashSet<String> eD=new LinkedHashSet<String>();void wQ(String J,List G,List K,Map N,KB P){bool I=false;if(G!=null){for(Object B in G){String A;Object C;bool D=false;if(B is Map){if(B['name'] is String){A=B['name'];}else{continue;}if(B['change']=='remove'){D=true;}else{C=B['value'];}}else if(B is List){if(B.length>0&&B[0] is String){A=B[0];if(B.length>1){C=B[1];}}else{continue;}}else{continue;}if(A.startsWith(r'$')){if(!I&&(A==r'$is'||A==r'$base'||(A==r'$disconnectedTs'&&C is String))){I=true;h.CAB();}if(A==r'$is'){A_(C);}eD.add(A);if(D){h.f.remove(A);}else{h.f[A]=C;}}else if(A.startsWith('@')){eD.add(A);if(D){h.kB.remove(A);}else{h.kB[A]=C;}}else{eD.add(A);if(D){h.p.remove(A);}else if(C is Map){h.p[A]=GB.NO.xAB(h,A,C);}}}if(dG.jD!=jB.DJ){h.yf=true;}if(mLB){nLB();}sr();}}fc oLB;void A_(String B){pLB=true;String A=B;if(!A.startsWith('/')){Object C=h.f[r'$base'];if(C is String){A='${C}/defs/profile/${A}';}else{A='/defs/profile/${A}';}}if(h.pC is BC&&(h.pC as BC).YC==A){return;}h.pC=GB.NO.P9(A,B);if(B=='node'){return;}if((h.pC is BC)&&!(h.pC as BC).yf){pLB=false;oLB=new fc(h.pC,GB,qLB);}}static const List<String> s3=const[r'$is',r'$permission',r'$settings'];void qLB(JD A){if(oLB==null){wC.ZQ('warning, unexpected state of profile loading');return;}oLB.cancel();oLB=null;eD.addAll(A.eD.where((B)=>!s3.contains(B)));pLB=true;sr();}bool pLB=true;void sr(){if(pLB){if(dG.jD!=jB.DJ){fLB.add(new JD(h,eD.toList(),dG.jD));eD.clear();}if(dG.jD==jB.jC){fLB.close();}}}bool mLB=false;void nLB(){mLB=false;}void i_(){if(dG==null&&!BV){BV=true;GB.YT(this);}}bool BV=false;void HR(int A,int B){if(!BV){return;}dG=GB.jLB({'method':'list','path':h.YC},this);BV=false;}void XT(int A,int B,int C){}void lLB(B(JD update)){if(pLB&&dG!=null){LI.YL((){var A=<String>[] ;A..addAll(h.f.keys)..addAll(h.kB.keys)..addAll(h.p.keys);JD C=new JD(h,A,dG.jD);B(C);});}}void kLB(){rLB();}void rLB(){BV=false;if(oLB!=null){oLB.cancel();oLB=null;}if(dG!=null){GB.Fq(dG);dG=null;}fLB.close();h.QLB=null;}}class tm implements IN{final Completer<UF> jT=new Completer<UF>();Future<UF> get future=>jT.future;final vC GB;final String path;NG gLB;tm(this.GB,this.path){var A=<String,dynamic>{'method':'remove','path':path};gLB=GB.jLB(A,this);}void wQ(String A,List B,List C,Map D,KB G){jT.complete(new UF(A));}void TU(){}void XU(){}}class sm implements IN{final Completer<UF> jT=new Completer<UF>();Future<UF> get future=>jT.future;final vC GB;final String path;final Object value;NG gLB;sm(this.GB,this.path,this.value,[int A=iB.iC]){var B=<String,dynamic>{'method':'set','path':path,'value':value};if(A!=iB.iC){B['permit']=iB.lm[A];}gLB=GB.jLB(B,this);}void wQ(String A,List B,List C,Map D,KB G){jT.complete(new UF(A));}void TU(){}void XU(){}}class dc implements StreamSubscription{TL callback;vC GB;String path;dc(this.GB,this.path,this.callback);Future cancel(){if(callback!=null){GB.CL(path,callback);callback=null;}return null;}Future asFuture([A]){return null;}bool get isPaused=>false;void onData(void A(data)){}void onDone(void A()){}void onError(Function A){}void pause([Future A]){}void resume(){}}class gc implements IN{qW dG;gc();void TU(){}void XU(){}void wQ(String A,List B,List C,Map D,KB G){}}class qW extends NG implements qF{int HU=0;int W9(){do{if(HU<0x7FFFFFFF){ ++HU;}else{HU=1;}}while(tU.containsKey(HU));return HU;}final Map<String,OG> WE=new Map<String,OG>();final Map<int,OG> tU=new Map<int,OG>();qW(vC A,int B):super(A,B,new gc(),null){(hO as gc).dG=this;}void ms(){DG();}void dLB([KB A]){if(WE.isNotEmpty){sLB.addAll(WE.keys);}tLB=0;uLB=-1;vLB=false;}void aLB(Map N){List J=N['updates'];if(J is List){for(Object A in J){String B;int C=-1;Object G;String I;Map K;if(A is Map){if(A['ts'] is String){B=A['path'];I=A['ts'];if(A['path'] is String){B=A['path'];}else if(A['sid'] is int){C=A['sid'];}else{continue;}}G=A['value'];K=A;}else if(A is List&&A.length>2){if(A[0] is String){B=A[0];}else if(A[0] is int){C=A[0];}else{continue;}G=A[1];I=A[2];}else{continue;}OG D;if(B!=null){D=WE[B];}else if(C>-1){D=tU[C];}if(D!=null){var P=new hB(G,ts:I,meta:K);D.dI(P);}}}}HashSet<String> sLB=new HashSet<String>();void addSubscription(OG A,int C){String B=A.h.YC;WE[B]=A;tU[A.jE]=A;DG();sLB.add(B);}void v$(OG A){String B=A.h.YC;if(WE.containsKey(B)){qZ[WE[B].jE]=WE[B];DG();}else if(tU.containsKey(A.jE)){wC.iZ('unexpected remoteSubscription in the requester, sid: ${A.jE}');}}Map<int,OG> qZ=new Map<int,OG>();void HR(int N,int D){wLB=false;if(D!=-1){tLB++ ;uLB=D;}if(GB.connection==null){return;}List B=[] ;HashSet<String> J=sLB;sLB=new HashSet<String>();for(String C in J){if(WE.containsKey(C)){OG A=WE[C];Map G={'path':C,'sid':A.jE};if(A.gI>0){G['qos']=A.gI;}B.add(G);}}if(!B.isEmpty){GB.jLB({'method':'subscribe','paths':B},null);}if(!qZ.isEmpty){List I=[] ;qZ.forEach((int K,OG A){if(A.TC.isEmpty){I.add(K);WE.remove(A.h.YC);tU.remove(A.jE);A.rLB();}});GB.jLB({'method':'unsubscribe','sids':I},null);qZ.clear();}}bool wLB=false;int tLB=0;int uLB=-1;void XT(int A,int B,int C){if(A==uLB){tLB=0;}else{tLB-- ;}if(vLB){vLB=false;DG();}}bool vLB=false;void DG(){if(vLB){return;}if(tLB>qF.Tc){vLB=true;return;}if(!wLB){wLB=true;GB.YT(this);}}}class OG{final BC h;final vC GB;Map<Function,int> TC=new Map<Function,int>();int gI=-1;int jE;OG(this.h,this.GB){jE=GB.xLB.W9();}void listen(B(hB update),int A){if(A<0||A>3){A=0;}bool C=false;if(TC.containsKey(B)){if(TC[B]!=0){TC[B]=A;C=Tt();}else{TC[B]=A;}}else{TC[B]=A;int D=A;if(gI>-1){D|= gI;}C=D>gI;gI=D;if(SLB!=null){B(SLB);}}if(C){GB.xLB.addSubscription(this,gI);}}void jAB(A(hB update)){if(TC.containsKey(A)){int B=TC.remove(A);if(TC.isEmpty){GB.xLB.v$(this);}else if(B==gI&&gI>1){Tt();}}}bool Tt(){int A=0;for(var B in TC.values){A|= B;}if(A!=gI){gI=A;return true;}return false;}hB SLB;void dI(hB A){SLB=A;for(Function B in TC.keys.toList()){B(SLB);}}void rLB(){TC.clear();h.RLB=null;}}typedef t ec<t>(NG _0);abstract class IN{}class UF{final String jD;UF(this.jD);}class vC extends mW{Map<int,NG> bLB=new Map<int,NG>();final US NO;qW xLB;vC([US A]):NO=A!=null?A:new US(){xLB=new qW(this,0);bLB[0]=xLB;}void onData(List B){for(Object A in B){if(A is Map){yLB(A);}}}void yLB(Map A){if(A['rid'] is int&&bLB.containsKey(A['rid'])){bLB[A['rid']].aLB(A);}}StreamController<KB> cLB=new StreamController<KB>.broadcast();Stream<KB> get onError=>cLB.stream;int QM=0;int V9(){do{if(QM<0x7FFFFFFF){ ++QM;}else{QM=1;}}while(bLB.containsKey(QM));return QM;}VL fQ(int A,int B){VL C=super.fQ(A,B);return C;}NG jLB(Map<String,dynamic> A,IN C){A['rid']=V9();NG B;if(C!=null){B=new NG(this,QM,C,A);bLB[QM]=B;}aT(A);return B;}dc nI(String A,B(hB update),[int C=0]){BC D=NO.HO(A);D.VLB(this,B,C);return new dc(this,A,B);}Future<BC> HO(String C){var A=new Completer<BC>();StreamSubscription B;B=list(C).listen((D){if(!A.isCompleted){A.complete(D.h);}if(B!=null){B.cancel();}},onError:(G,I){if(!A.isCompleted){A.completeError(G,I);}},cancelOnError:true);return A.future;}void CL(String A,B(hB update)){BC C=NO.HO(A);C.WLB(this,B);}Stream<JD> list(String A){BC B=NO.HO(A);return B.ULB(this);}Stream<EJ> BG(String A,[Map B=const{},int C=iB.iC,ec D]){BC G=NO.HO(A);return G.XLB(B,this,C,D);}Future<UF> set(String A,Object B,[int C=iB.iC]){return new sm(this,A,B,C).future;}Future<UF> remove(String A){return new tm(this,A).future;}void Fq(NG A){if(bLB.containsKey(A.wD)){if(A.jD!=jB.jC){aT({'method':'close','rid':A.wD});}bLB.remove(A.wD);A.dLB();}}bool zLB=false;void TM(){if(!zLB)return;zLB=false;var B=new Map<int,NG>();B[0]=xLB;bLB.forEach((C,A){if(A.wD<=QM&&A.hO is!VS){A.dLB(KB.i3);}else{B[A.wD]=A;A.hO.TU();}});bLB=B;}void uQ(){if(zLB)return;zLB=true;super.uQ();bLB.forEach((B,A){A.hO.XU();A.ms();});}}class TP{final String name;final String type;final Object BF;TP.XCB(this.name,Map A):type=A.containsKey('type')?A['type']:'string',BF=A.containsKey('default')?A['default']:null{}KB ZO(Object B,VP A,OC C){if(A.f[name]!=B){A.f[name]=B;A.iG(name);}return null;}KB UZ(VP A,OC B){if(A.f.containsKey(name)){A.f.remove(name);A.iG(name);}return null;}}class vW{static const Map y3=const{r'$is':const{'type':'profile'},r'$interface':const{'type':'interface'},r'$permissions':const{'type':'list','require':iB.iC,'writable':iB.iC},r'$name':const{'type':'string'},r'$type':const{'type':'type'},r'$invokable':const{'type':'permission','default':'read'},r'$writable':const{'type':'permission','default':'never'},r'$settings':const{'type':'map'},r'$params':const{'type':'list'},r'$columns':const{'type':'list'},r'$streamMeta':const{'type':'list'}};static final vW An=new vW()..load(y3);static final TP A4=new TP.XCB('',const{});static TP Cn(String A,RC B){if(An.f.containsKey(A)){return An.f[A];}if(B is x3&&B.f.containsKey(A)){return B.f[A];}return A4;}Map<String,TP> f={};void load(Map C){C.forEach((A,B){if(B is Map){f[A]=new TP.XCB(A,B);}});}}class x3 extends VP{}abstract class t3 extends FJ{Map<String,QB> get VC;}abstract class VP extends QB{VP(String A):super(A);bool AMB=false;bool get nQ=>AMB;void load(Map G){if(AMB){f.clear();kB.clear();p.clear();}String C;if(path=='/'){C='/';}else{C='${path}/';}G.forEach((String A,B){if(A.startsWith(r'$')){f[A]=B;}else if(A.startsWith('@')){kB[A]=B;}else if(B is Map){RC D=provider.AG('${C}${A}',false);if(D is VP){D.load(B);}p[A]=D;}});AMB=true;}void iG(String A){OD.add(A);}dB eZ(String A,Object B,OC D,dB C){if(!kB.containsKey(A)||kB[A]!=B){kB[A]=B;iG(A);if(provider is VF){(provider as VF).AR();}}return C..close();}dB hs(String A,OC C,dB B){if(kB.containsKey(A)){kB.remove(A);iG(A);if(provider is VF){(provider as VF).AR();}}return B..close();}dB ZO(String B,Object C,OC D,dB A){var G=vW.Cn(B,pC);A.close(G.ZO(C,this,D));return A;}dB UZ(String A,OC B,dB C){var D=vW.Cn(A,pC);return C..close(D.UZ(this,B));}dB o(Object A,OC C,dB B,[int D=iB.iC]){rB(A);return B..close();}}abstract class sW{}class zm implements sW{int NM(String A,OC B){return iB.iC;}}abstract class ic{}abstract class z3{}typedef dynamic UP(PG _0);class PG{String path;String type;String l7;String EY;int wD;PG(this.path,this.type,this.wD,[this.l7='',this.EY]);}abstract class QB extends RC{YP<String> BMB;YP<String> get OD{if(BMB==null){BMB=new YP<String>((){CMB=true;LZ();},(){CMB=false;Og();},null,true);}return BMB;}Stream<String> get u9=>OD.stream;void LZ(){}void Og(){}bool CMB=false;FJ get provider;final String path;QB(this.path);Map<TL,int> TC=new Map<TL,int>();JN nI(A(hB update),[int B=0]){TC[A]=B;return new JN(this,A);}void CL(TL A){if(TC.containsKey(A)){TC.remove(A);}}hB DMB;hB get vf{if(DMB==null){DMB=new hB(null);}return DMB;}dynamic get value{if(DMB!=null){return DMB.value;}return null;}bool EMB=false;bool get Yt=>EMB;void rB(Object A,{bool force: false}){EMB=true;if(A is hB){DMB=A;TC.forEach((B,C){B(DMB);});}else if(DMB==null||DMB.value!=A||force){DMB=new hB(A);TC.forEach((B,C){B(DMB);});}}bool get exists=>true;bool get br=>true;String get Pf=>null;bool get hasSubscriber=>TC.isNotEmpty;int S9(){return iB.UL(CC(r'$invokable'));}int X9(){return iB.UL(CC(r'$writable'));}rF BG(Map<String,dynamic> B,OC C,rF A,RC D,[int G=iB.iC]){return A..close();}dB eZ(String A,Object C,OC D,dB B){if(B!=null){return B..close();}else{if(!A.startsWith("@")){A="@${A}";}kB[A]=C;if(provider is VF){(provider as VF).AR();}return null;}}dB hs(String A,OC C,dB B){if(B!=null){return B..close();}else{if(!A.startsWith("@")){A="@${A}";}kB.remove(A);if(provider is VF){(provider as VF).AR();}return null;}}dB ZO(String A,Object C,OC D,dB B){if(B!=null){return B..close();}else{if(!A.startsWith(r"$")){A="\$${A}";}f[A]=C;return null;}}dB UZ(String A,OC C,dB B){if(B!=null){return B..close();}else{if(!A.startsWith(r"$")){A="\$${A}";}f.remove(A);return null;}}dB o(Object B,OC C,dB A,[int D=iB.iC]){return A..close();}operator[](String A){return get(A);}operator[]=(String A,Object B){if(A.startsWith(r"$")){f[A]=B;}else if(A.startsWith(r"@")){kB[A]=B;}else if(B is RC){JQ(A,B);}}void load(Map<String,dynamic> A){}}abstract class FJ{QB UE(String A);QB AG(String A,[bool B=true]);QB operator[](String A){return UE(A);}QB operator~()=>AG("/",false);sW get kJ;}class OC extends mW{String qg;int I_=qF.Y3;ic Bt;List<String> groups=[] ;final Map<int,dB> FMB=new Map<int,dB>();uW GMB;final FJ hF;OC(this.hF,[this.qg]){GMB=new uW(this,0);FMB[0]=GMB;if(qg!=null){groups=[qg];}}dB AO(dB A){if(A.HMB!=jB.jC){FMB[A.wD]=A;if(IMB!=null){PG B=A.zT();for(UP C in IMB){C(B);}}}else{if(IMB!=null){PG B=A.zT('');for(UP C in IMB){C(B);}}}return A;}void Lt(dB A){PG B=A.zT('-');for(UP C in IMB){C(B);}}bool M8=false;void onData(List B){if(M8){return;}for(Object A in B){if(A is Map){JMB(A);}}}void JMB(Map A){Object B=A['method'];if(A['rid'] is int){if(B==null){vAB(A);return;}else{if(FMB.containsKey(A['rid'])){if(B=='close'){close(A);}return;}switch (B){case 'list':list(A);return;case 'subscribe':nI(A);return;case 'unsubscribe':CL(A);return;case 'invoke':BG(A);return;case 'set':set(A);return;case 'remove':remove(A);return;}}}eC(A['rid'],error:KB.cc);}void eC(int A,{dB response,KB error}){if(response!=null){if(FMB[response.wD]!=response){return;}response.HMB=jB.jC;A=response.wD;}Map B={'rid':A,'stream':jB.jC};if(error!=null){B['error']=error.NAB();}FMB.remove(A);aT(B);}void zZ(dB A,List C,{String streamStatus,List<dynamic> columns,Map meta,void handleMap(Map m)}){if(FMB[A.wD]==A){Map B={'rid':A.wD};if(streamStatus!=null&&streamStatus!=A.HMB){A.HMB=streamStatus;B['stream']=streamStatus;}if(columns!=null){B['columns']=columns;}if(C!=null){B['updates']=C;}if(meta!=null){B['meta']=meta;}if(handleMap!=null){handleMap(B);}aT(B);if(A.HMB==jB.jC){FMB.remove(A.wD);if(IMB!=null){Lt(A);}}}}void list(Map A){tB B=tB.bc(A['path']);if(B!=null&&B.isAbsolute){int C=A['rid'];KMB(B,(QB D){AO(new xm(this,C,D));},(G,I){var J=new KB("nodeError",msg:G.toString(),detail:I.toString());eC(A['rid'],error:J);});}else{eC(A['rid'],error:KB.pW);}}void nI(Map B){if(B['paths'] is List){for(Object A in B['paths']){String D;int G=0;int I=-1;if(A is Map){if(A['path'] is String){D=A['path'];}else{continue;}if(A['sid'] is int){I=A['sid'];}else{continue;}if(A['qos'] is int){G=A['qos'];}}tB C=tB.bc(D);if(C!=null&&C.isAbsolute){KMB(C,(QB J){GMB.add(C.path,J,I,G);eC(B['rid']);},(K,N){var P=new KB("nodeError",msg:K.toString(),detail:N.toString());eC(B['rid'],error:P);});}else{eC(B['rid']);}}}else{eC(B['rid'],error:KB.rm);}}void KMB(tB J,U4<QB> G,[V4<dynamic,dynamic> B]){try {QB A=hF.AG(J.path,false);if(A is XP){(A as XP).WU.then((I){if(I is QB){A=I;}G(A);}).catchError((C,D){if(B!=null){B(C,D);}});}else{G(A);}}catch (C,D){if(B!=null){B(C,D);}else{rethrow;}}}void CL(Map A){if(A['sids'] is List){for(Object B in A['sids']){if(B is int){GMB.remove(B);}}eC(A['rid']);}else{eC(A['rid'],error:KB.rm);}}void BG(Map A){tB C=tB.bc(A['path']);if(C!=null&&C.isAbsolute){int P=A['rid'];QB D;D=hF.AG(C.WC,false);G([QB K]){QB B=K==null?hF.UE(C.path):K;if(B==null){if(K==null){B=D.KM(C.name);if(B==null){eC(A['rid'],error:KB.XL);return;}if(B is XP){(B as XP).WU.then((R)=>G(B));return;}else{G(B);return;}}else{eC(A['rid'],error:KB.XL);return;}}int I=hF.kJ.NM(C.path,this);int N=iB.UL(A['permit']);if(N<I){I=N;}Map<String,dynamic> J;if(A["params"] is Map<String,dynamic>){J=A["params"] as Map<String,dynamic>;}if(J==null){J={};}if(B.S9()<=I){B.BG(J,this,AO(new rF(this,P,D,B,C.name)),D,I);}else{eC(A['rid'],error:KB.XL);}}if(D is XP){(D as XP).WU.then((R){G();}).catchError((S,a){var j=new KB("nodeError",msg:S.toString(),detail:a.toString());eC(A['rid'],error:j);});}else{G();}}else{eC(A['rid'],error:KB.pW);}}void vAB(Map A){int B=A['rid'];if(FMB[B] is rF){if(A['params'] is Map){(FMB[B] as rF).yAB(A['params']);}}else{eC(A['rid'],error:KB.cc);}}void set(Map A){tB C=tB.qm(A['path']);if(C==null||!C.isAbsolute){eC(A['rid'],error:KB.pW);return;}if(!A.containsKey('value')){eC(A['rid'],error:KB.h3);return;}Object G=A['value'];int I=A['rid'];if(C.xY){KMB(C,(QB B){int D=hF.kJ.NM(B.path,this);int J=iB.UL(A['permit']);if(J<D){D=J;}if(B.X9()<=D){B.o(G,this,AO(new dB(this,I)));}else{eC(A['rid'],error:KB.XL);}eC(A['rid']);},(K,N){var P=new KB("nodeError",msg:K.toString(),detail:N.toString());eC(A['rid'],error:P);});}else if(C.Rr){QB B;B=hF.AG(C.WC,false);int D=hF.kJ.NM(B.path,this);if(D<iB.iC){eC(A['rid'],error:KB.XL);}else{B.ZO(C.name,G,this,AO(new dB(this,I)));}}else if(C.rf){QB B;B=hF.AG(C.WC,false);int D=hF.kJ.NM(B.path,this);if(D<iB.SS){eC(A['rid'],error:KB.XL);}else{B.eZ(C.name,G,this,AO(new dB(this,I)));}}else{throw 'unexpected case';}}void remove(Map C){tB A=tB.qm(C['path']);if(A==null||!A.isAbsolute){eC(C['rid'],error:KB.pW);return;}int G=C['rid'];if(A.xY){eC(C['rid'],error:KB.cc);}else if(A.Rr){QB B;B=hF.AG(A.WC,false);int D=hF.kJ.NM(B.path,this);if(D<iB.iC){eC(C['rid'],error:KB.XL);}else{B.UZ(A.name,this,AO(new dB(this,G)));}}else if(A.rf){QB B;B=hF.AG(A.WC,false);int D=hF.kJ.NM(B.path,this);if(D<iB.SS){eC(C['rid'],error:KB.XL);}else{B.hs(A.name,this,AO(new dB(this,G)));}}else{throw 'unexpected case';}}void close(Map B){if(B['rid'] is int){int A=B['rid'];if(FMB.containsKey(A)){FMB[A].LMB();dB C=FMB.remove(A);if(IMB!=null){Lt(C);}}}}void TM(){t7();FMB.forEach((B,A){A.LMB();});FMB.clear();FMB[0]=GMB;}void uQ(){super.uQ();}List<UP> IMB;}class dB implements qF{final OC rC;final int wD;String HMB=jB.DJ;dB(this.rC,this.wD);void close([KB A=null]){HMB=jB.jC;rC.eC(wD,error:A,response:this);}void LMB(){}void DG(){if(!MMB){MMB=true;rC.YT(this);}}bool MMB=false;void HR(int A,int B){MMB=false;}void XT(int A,int B,int C){}PG zT([String A='+']){return null;}}typedef void ym(rF _0);typedef void v3(rF _0,Map _1);typedef bool w3(rF _0,Map _1);class WP{String status;List g;List JF;Map meta;WP(this.status,this.JF,this.g,this.meta);}class rF extends dB{final QB Ds;final QB h;final String name;rF(OC A,int B,this.Ds,this.h,this.name):super(A,B);List<WP> QO=new List<WP>();bool NMB=false;void LR(List A,{List columns,String streamStatus: jB.WL,Map meta,bool autoSendColumns: true}){if(meta!=null&&meta['mode']=='refresh'){QO.length=0;}if(!NMB){if(columns==null&&autoSendColumns&&h!=null&&h.f[r"$columns"] is List){columns=h.f[r"$columns"];}}if(columns!=null){NMB=true;}QO.add(new WP(streamStatus,A,columns,meta));DG();}w3 ur;void yAB(Map A){if(ur!=null){ur(this,A);}}void HR(int D,int G){MMB=false;if(OMB!=null){rC.eC(wD,response:this,error:OMB);if(HMB==jB.jC){LMB();}return;}for(WP A in QO){List<Map<String,dynamic>> B;if(A.g!=null){B=TF.b3(A.g);}rC.zZ(this,A.JF,streamStatus:A.status,columns:B,meta:A.meta,handleMap:(C){if(vr!=null){vr(this,C);}});if(HMB==jB.jC){LMB();break;}}QO.length=0;}void close([KB A=null]){if(A!=null){OMB=A;}if(!QO.isEmpty){QO.last.status=jB.jC;}else{QO.add(new WP(jB.jC,null,null,null));DG();}}KB OMB;ym FF;v3 vr;void LMB(){if(FF!=null){FF(this);}}PG zT([String A='+']){return new PG(Ds.path,'invoke',wD,A,name);}}class xm extends dB{final QB h;StreamSubscription PMB;int QMB;xm(OC A,int B,this.h):super(A,B){QMB=A.hF.kJ.NM(h.path,A);PMB=h.u9.listen(changed);if(h.br){DG();}else if(h.Pf!=null){DG();}}LinkedHashSet<String> eD=new LinkedHashSet<String>();bool Qr=true;void changed(String A){if(QMB==iB.Uc){return;}if(A.startsWith(r'$$')){if(QMB<iB.iC){return;}if(A.startsWith(r'$$$')){return;}}if(eD.isEmpty){eD.add(A);DG();}else{eD.add(A);}}bool RMB=false;void HR(int j,int a){MMB=false;if(a!=-1){SMB++ ;TMB=a;}Object J;Object P;List G=[] ;List R=[] ;List S=[] ;if(h.Pf!=null){rC.zZ(this,[[r'$disconnectedTs',h.Pf]],streamStatus:jB.WL);RMB=true;eD.clear();return;}else if(RMB&&!eD.contains(r'$disconnectedTs')){RMB=false;G.add({'name':r'$disconnectedTs','change':'remove'});if(h.f.containsKey(r'$disconnectedTs')){h.f.remove(r'$disconnectedTs');}}if(Qr||eD.contains(r'$is')){Qr=false;if(QMB==iB.Uc){return;}else{h.f.forEach((C,K){Object B=[C,K];if(C==r'$is'){J=B;}else if(C==r'$base'){P=B;}else if(C.startsWith(r'$$')){if(QMB==iB.iC&&!C.startsWith(r'$$$')){G.add(B);}}else{if(QMB!=iB.iC){if(C==r'$writable'){if(QMB<iB.SS){return;}}if(C==r'$invokable'){int D=iB.UL(h.CC(r'$invokable'));if(D>QMB){G.add([r'$invokable','never']);return;}}}G.add(B);}});h.kB.forEach((C,K){R.add([C,K]);});h.p.forEach((C,RC K){Map I=K.xT();if(QMB!=iB.iC){int D=iB.UL(I[r'$invokable']);if(D!=iB.nW&&D>QMB){I[r'$invokable']='never';}}S.add([C,I]);});}if(J==null){J=[r'$is','node'];}}else{for(String A in eD){Object B;if(A.startsWith(r'$')){if(QMB!=iB.iC){if(A==r'$writable'){if(QMB<iB.SS){continue;}}if(A==r'$invokable'){int D=iB.UL(h.CC(r'$invokable'));if(D>QMB){G.add([r'$invokable','never']);continue;}}}if(h.f.containsKey(A)){B=[A,h.f[A]];}else{B={'name':A,'change':'remove'};}if(QMB==iB.iC||!A.startsWith(r'$$')){G.add(B);}}else if(A.startsWith(r'@')){if(h.kB.containsKey(A)){B=[A,h.kB[A]];}else{B={'name':A,'change':'remove'};}R.add(B);}else{if(h.p.containsKey(A)){Map I=h.p[A].xT();if(QMB!=iB.iC){int D=iB.UL(I[r'$invokable']);if(D!=iB.nW&&D>QMB){I[r'$invokable']='never';}}B=[A,I];}else{B={'name':A,'change':'remove'};}S.add(B);}}}eD.clear();List N=[] ;if(P!=null){N.add(P);}if(J!=null){N.add(J);}N..addAll(G)..addAll(R)..addAll(S);rC.zZ(this,N,streamStatus:jB.WL);}int SMB=0;int TMB=-1;void XT(int A,int B,int C){if(A==TMB){SMB=0;}else{SMB-- ;}if(UMB){UMB=false;DG();}}bool UMB=false;void DG(){if(UMB){return;}if(SMB>qF.Tc){UMB=true;return;}if(!MMB){MMB=true;rC.YT(this);}}void LMB(){PMB.cancel();}PG zT([String A='+']){return new PG(h.path,'list',wD,A,null);}}class JN{TL callback;QB h;JN(this.h,this.callback);void cancel(){if(callback!=null){h.CL(callback);callback=null;}}}class uW extends dB{uW(OC A,int B):super(A,B);final Map<String,WF> WE=new Map<String,WF>();final Map<int,WF> bM=new Map<int,WF>();final LinkedHashSet<WF> changed=new LinkedHashSet<WF>();WF add(String C,QB D,int B,int G){WF A;if(WE[C]!=null){A=WE[C];if(A.jE!=B){if(A.jE>=0){bM.remove(A.jE);}A.jE=B;if(B>=0){bM[B]=A;}}A.Zs=G;if(B>-1&&A.oC!=null){Ct(A);}}else{int I=rC.hF.kJ.NM(D.path,rC);A=new WF(this,D,B,I>=iB.jm,G);WE[C]=A;if(B>=0){bM[B]=A;}if(rC.IMB!=null){PG J=new PG(C,'subscribe',0,'+');for(UP K in rC.IMB){K(J);}}}return A;}void remove(int A){if(bM[A]!=null){WF B=bM[A];bM[A].destroy();bM.remove(A);WE.remove(B.h.path);if(rC.IMB!=null){PG C=new PG(B.h.path,'subscribe',0,'-');for(UP D in rC.IMB){D(C);}}}}void Ct(WF A){changed.add(A);DG();}void HR(int D,int A){MMB=false;if(A!=-1){SMB++ ;VMB=A;}List B=new List();for(WF C in changed){B.addAll(C.process(A));}rC.zZ(this,B);changed.clear();}int SMB=0;int VMB=-1;void XT(int A,int C,int D){if(A==VMB){SMB=0;}else{SMB-- ;}WE.forEach((String G,WF B){if(B.WMB>0){B.U_(A);}});if(UMB){UMB=false;DG();}}bool UMB=false;void DG(){if(UMB){return;}if(SMB>qF.Tc){UMB=true;return;}if(rC.connection==null){return;}if(!MMB){MMB=true;rC.YT(this);}}void LMB(){List B;WE.forEach((C,WF A){if(A.WMB==0){A.destroy();}else{A.jE=-1;if(B==null){B=new List();}B.add(A);}});WE.clear();if(B!=null){for(WF A in B){WE[A.h.path]=A;}}bM.clear();SMB=0;VMB=-1;UMB=false;}}class WF{final QB h;final uW response;JN XMB;int jE;bool YMB=true;List<hB> RM=new List<hB>();ListQueue<hB> mE;hB oC;int WMB=-1;z3 ZMB;void set Zs(int A){if(A<0||A>3)A=0;if(WMB==A)return;WMB=A;if(mE==null&&WMB>0){mE=new ListQueue<hB>();}i7=(A&1)==1;AR=(A&2)==2;}bool aMB=false;void set i7(bool A){if(A==aMB)return;aMB=A;if(!aMB){RM.length=0;}}bool bMB=false;void set AR(bool B){if(B==bMB)return;bMB=B;ic A=response.rC.Bt;if(A!=null){if(bMB){ZMB=A.zCB(h.path);}else if(ZMB!=null){A.L8(h.path);ZMB=null;}}}WF(this.response,this.h,this.jE,this.YMB,int A){this.Zs=A;XMB=h.nI(dI,WMB);if(h.Yt&&h.vf!=null){dI(h.vf);}}bool cMB=true;void dI(hB A){if(aMB&&cMB){RM.add(A);if(RM.length>response.rC.I_){cMB=false;oC=new hB(null,ts:'');for(hB B in RM){oC.J_(B);}RM.length=0;if(WMB>0){if(ZMB!=null){ZMB.o(mE,oC);}mE..clear()..add(oC);}}else{oC=A;if(WMB>0){mE.add(oC);if(ZMB!=null){ZMB.dI(oC);}}}}else{if(oC!=null){oC=new hB.VCB(oC,A);}else{oC=A;}if(WMB>0){if(ZMB!=null){ZMB.o(mE,oC);}mE..clear()..add(oC);}}if(YMB&&jE>-1){response.Ct(this);}}List process(int B){List A=new List();if(aMB&&cMB){for(hB C in RM){A.add([jE,C.value,C.ts]);}if(WMB>0){for(hB G in RM){G.CV=B;}}RM.length=0;}else{if(oC.count>1||oC.status!=null){Map D=oC.fAB();D['sid']=jE;A.add(D);}else{A.add([jE,oC.value,oC.ts]);}if(WMB>0){oC.CV=B;}cMB=true;}oC=null;return A;}void U_(int A){if(mE.isEmpty){return;}bool B=false;if(!mE.isEmpty&&mE.first.CV!=A){hB C;for(hB G in mE){if(G.CV==A){C=G;break;}}if(C!=null){while(!mE.isEmpty&&mE.first!=C){hB D=mE.removeFirst();if(ZMB!=null){ZMB.x$(D);B=true;}}}}while(!mE.isEmpty&&mE.first.CV==A){hB D=mE.removeFirst();if(ZMB!=null){ZMB.x$(D);B=true;}}if(B&&ZMB!=null){ZMB.dDB(mE);}}void destroy(){if(ZMB!=null){ic A=response.rC.Bt;A.L8(h.path);ZMB=null;}XMB.cancel();}}typedef QB tW(String _0);typedef nB u3(String _0);class hc{List g;List m;hc([this.m,this.g]);}abstract class XP{}class KN{rF response;List g;List m;String status=jB.WL;Map meta;ym FF;KN([this.g]);void update(List A,[String B,Map C]){if(this.m==null){this.m=A;}else{this.m.addAll(A);}this.meta=C;if(B!=null){status=B;}if(response==null){new Future(write);}else{write();}}void write([rF A]){if(A!=null){if(response==null){response=A;}else{wC.it("can not use same AsyncTableResult twice");}}if(response!=null&&(m!=null||meta!=null||status==jB.jC)){response.LR(m,columns:g,streamStatus:status,meta:meta);m=null;g=null;}}void close(){if(response!=null){response.close();}else{status=jB.jC;}}}class Bn{}abstract class VF{}abstract class LN{}class QG extends t3 implements VF,LN{static QG jc;Mn bMB;final Map<String,QB> VC=new Map<String,QB>();List<u3> dMB=[] ;QB UE(String A){return KMB(A);}QB KMB(String B,{bool allowStubs: false}){if(VC.containsKey(B)){nB A=VC[B];if(allowStubs||A.eMB==false){return A;}}if(dMB.isNotEmpty){for(var C in dMB){var A=C(B);if(A!=null){return A;}}}return null;}QB AG(String B,[bool G=true,bool I=true]){QB A=KMB(B,allowStubs:true);if(A!=null){if(G){tB C=new tB(B);if(!C.q9){QB D=UE(C.WC);if(D!=null&&!D.p.containsKey(C.name)){D.JQ(C.name,A);D.OD.add(C.name);A.OD.add(r"$is");}}if(A is nB){A.eMB=false;}}return A;}if(G){return G8(B,I);}else{A=new nB(B,this)..eMB=true;VC[B]=A;return A;}}void RAB(Mn A){bMB=A;}void AR([bool A=false]){if(A){if(bMB==null){return;}bMB();}else{new Future.delayed(const Duration(seconds:5),(){if(bMB==null){return;}bMB();});}}nB G8(String A,[bool I=true]){tB C=new tB(A);QB B=VC[A];if(B!=null){if(B is nB){if(B.eMB!=true){throw new Exception("Node at ${A} already exists.");}else{B.eMB=false;}}else{throw new Exception("Node at ${A} already exists.");}}nB D=B==null?new nB(A,this):B;VC[A]=D;if(I){D.rr();}nB G;if(C.WC!=""){G=UE(C.WC);}if(G!=null){G.p[C.name]=D;G.qr(C.name,D);G.iG(C.name);}return D;}QG([Map<String,dynamic> A,Map<String,tW> B]){if(jc==null){jc=this;}sH=new nB("/",this);VC["/"]=sH;Mf=new WS('/defs',this);VC[Mf.path]=Mf;Dh=new WS('/sys',this);VC[Dh.path]=Dh;init(A,B);}nB sH;WS Mf;WS Dh;void init([Map<String,dynamic> B,Map<String,tW> A]){if(A!=null){if(A.isNotEmpty){fMB.addAll(A);}else{fMB=A;}}if(B!=null){sH.load(B);}}Map pJ(){return sH.pJ();}void rB(String A,Object B){nB C=UE(A);C.rB(B);}nB HY(String B,Map I){if(B=='/'||!B.startsWith('/'))return null;tB G=new tB(B);nB C=KMB(B,allowStubs:true);nB D=UE(G.WC);nB A;if(D!=null){A=D.Y_(G.name,I,this);}if(A==null){String J=I[r'$is'];if(fMB.containsKey(J)){A=fMB[J](B);}else{A=AG(B,true,false);}}if(C!=null){wC.ZY("Found old node for ${B}: Copying subscriptions.");for(TL K in C.TC.keys){A.nI(K,C.TC[K]);}if(A is nB){try {A.BMB=C.BMB;}catch (N){}if(A.CMB){A.LZ();}}}VC[B]=A;A.load(I);A.rr();if(D!=null){D.JQ(G.name,A);D.qr(G.name,A);D.iG(G.name);}A.iG(r"$is");if(C!=null){C.iG(r"$is");}return A;}void VZ(String A,{bool recurse: true}){if(A=='/'||!A.startsWith('/'))return;nB B=UE(A);if(B==null){return;}if(recurse){String C=A;if(!C.endsWith("/")){C+= "/";}int J=Pn(C,"/");List<String> K=VC.keys.where((String I){return I.startsWith(C)&&J==Pn(I,"/");}).toList();for(String N in K){VZ(N);}}tB D=new tB(A);nB G=UE(D.WC);B.e_();B.y$=true;if(G!=null){G.p.remove(D.name);G.W_(D.name,B);G.iG(D.name);}VC.remove(A);}Map<String,tW> fMB=new Map<String,tW>();sW kJ=new zm();String toString({bool showInstances: false}){var A=new StringBuffer();void C(QB B,[int D=0]){tB G=new tB(B.path);A.write("${'  '*D}- ${G.name}");if(showInstances){A.write(": ${B}");}A.writeln();for(var I in B.p.values){C(I,D+1);}}C(sH);return A.toString().trim();}}class nB extends VP{final QG provider;bool eMB=false;nB(String B,[QG A]):provider=A==null?QG.jc:A,super(B);bool y$=false;bool serializable=true;void load(Map D){if(AMB){f.clear();kB.clear();p.clear();}String C;if(path=='/'){C='/';}else{C='${path}/';}D.forEach((String A,B){if(A.startsWith('?')){if(A=='?value'){rB(B);}}else if(A.startsWith(r'$')){f[A]=B;}else if(A.startsWith('@')){kB[A]=B;}else if(B is Map){String G='${C}${A}';provider.HY(G,B);}});AMB=true;}Map pJ(){Map A={};f.forEach((B,C){A[B]=C;});kB.forEach((B,C){A[B]=C;});if(DMB!=null&&DMB.value!=null){A['?value']=DMB.value;}p.forEach((B,RC D){if(D is nB&&D.serializable==true){A[B]=D.pJ();}});return A;}rF BG(Map<String,dynamic> lB,OC xB,rF A,RC EC,[int aC=iB.iC]){Object D;try {D=VU(lB);}catch (G,N){var I=new KB("invokeException",msg:G.toString());try {I.detail=N.toString();}catch (G){}A.close(I);return A;}var R="values";if(f.containsKey(r"$result")){R=f[r"$result"];}if(D==null){if(R=="values"){D={};}else if(R=="table"){D=[] ;}else if(R=="stream"){D=[] ;}}if(D is Iterable){A.LR(D.toList(),streamStatus:jB.jC);}else if(D is Map){var BB=[] ;var HB=[] ;for(var K in D.keys){BB.add({"name":K,"type":"dynamic"});HB.add(D[K]);}A.LR([HB],columns:BB,streamStatus:jB.jC);}else if(D is hc){A.LR(D.m,columns:D.g,streamStatus:jB.jC);}else if(D is KN){(D as KN).write(A);A.FF=(var A){if((D as KN).FF!=null){(D as KN).FF(A);}};return A;}else if(D is Xc){A.LR(D.m,columns:D.g,streamStatus:jB.jC);}else if(D is Stream){var B=new KN();A.FF=(var A){if(B.FF!=null){B.FF(A);}};Stream a=D;if(R=="stream"){StreamSubscription J;B.FF=(aB){if(J!=null){J.cancel();}};J=a.listen((C){if(C is Zc){B.meta=C.meta;return;}else if(C is Yc){B.g=C.g.map((K)=>K.zB()).toList();return;}if(C is Iterable){B.update(C.toList(),jB.WL);}else if(C is Map){var S;if(C.containsKey("__META__")){S=C["__META__"];}B.update([C],jB.WL,S);}else{throw new Exception("Unknown Value from Stream");}},onDone:(){B.close();},onError:(G,N){var I=new KB("invokeException",msg:G.toString());try {I.detail=N.toString();}catch (G){}A.close(I);},cancelOnError:true);B.write(A);return A;}else{var j=[] ;StreamSubscription J;B.FF=(aB){if(J!=null){J.cancel();}};J=a.listen((C){if(C is Zc){B.meta=C.meta;return;}else if(C is Yc){B.g=C.g.map((K)=>K.zB()).toList();return;}if(C is Iterable){j.addAll(C);}else if(C is Map){j.add(C);}else{throw new Exception("Unknown Value from Stream");}},onDone:(){B.update(j);B.close();},onError:(G,N){var I=new KB("invokeException",msg:G.toString());try {I.detail=N.toString();}catch (G){}A.close(I);},cancelOnError:true);}B.write(A);return A;}else if(D is Future){var B=new KN();A.FF=(var A){if(B.FF!=null){B.FF(A);}};D.then((P){if(P is Bn){B=null;P.LAB(A);}else if(P is Stream){Stream a=P;StreamSubscription J;B.FF=(aB){if(J!=null){J.cancel();}};J=a.listen((C){if(C is Zc){B.meta=C.meta;return;}else if(C is Yc){B.g=C.g.map((K)=>K.zB()).toList();return;}if(C is Iterable){B.update(C.toList());}else if(C is Map){var S;if(C.containsKey("__META__")){S=C["__META__"];}B.update([C],jB.WL,S);}else{throw new Exception("Unknown Value from Stream");}},onDone:(){B.close();},onError:(G,N){var I=new KB("invokeException",msg:G.toString());try {I.detail=N.toString();}catch (G){}A.close(I);},cancelOnError:true);}else if(P is Xc){Xc q=P;B.g=q.g.map((K)=>K.zB()).toList();B.update(q.m,jB.jC,q.meta);B.close();}else{B.update(P is Iterable?P.toList():[P]);B.close();}}).catchError((G,N){var I=new KB("invokeException",msg:G.toString());try {I.detail=N.toString();}catch (G){}A.close(I);});B.write(A);return A;}else if(D is Bn){D.LAB(A);}else{A.close();}return A;}dynamic VU(Map<String,dynamic> A){return null;}nB get parent=>provider.UE(new tB(path).WC);bool h_(Object A)=>false;bool g_(String A,String B)=>false;bool f_(String A,String B)=>false;void j_(){}void m_(){}void rr(){}void e_(){}void W_(String A,RC B){}void qr(String A,RC B){}JN nI(TL A,[int B=0]){j_();return super.nI(A,B);}void CL(TL A){m_();super.CL(A);}nB Y_(String A,Map B,QG C){return null;}nB C8(String B,[Map A]){var C=new tB(path).q7(B).path;return provider.HY(C,A==null?{}:A);}String get name=>new tB(path).name;String get type=>f[r"$type"];set type(String A){if(A==null){f.remove(r"$type");}else{f[r"$type"]=A;}iG(r"$type");}void remove(){provider.VZ(path);}void JQ(String A,RC B){super.JQ(A,B);iG(A);}String og(dynamic B){String A=super.og(B);if(A!=null){iG(A);}return A;}dB eZ(String A,Object B,OC D,dB C){if(f_(A,B)!=true){super.eZ(A,B,D,C);}return C;}dB ZO(String A,Object B,OC D,dB C){if(g_(A,B)!=true){super.ZO(A,B,D,C);}return C;}dB o(Object A,OC C,dB B,[int D=iB.iC]){if(h_(A)!=true)super.o(A,C,B,D);return B;}operator[](String A)=>get(A);operator[]=(String A,B){if(A.startsWith(r"$")||A.startsWith(r"@")){if(A.startsWith(r"$")){f[A]=B;}else{kB[A]=B;}}else{if(B==null){return og(A);}else if(B is Map){return C8(A,B);}else{JQ(A,B);return B;}}}}class WS extends nB{WS(String A,QG B):super(A,B){f[r'$hidden']=true;}Map<String,dynamic> xT(){var A=<String,dynamic>{r'$hidden':true};if(f.containsKey(r'$is')){A[r'$is']=f[r'$is'];}if(f.containsKey(r'$type')){A[r'$type']=f[r'$type'];}if(f.containsKey(r'$name')){A[r'$name']=f[r'$name'];}if(f.containsKey(r'$invokable')){A[r'$invokable']=f[r'$invokable'];}if(f.containsKey(r'$writable')){A[r'$writable']=f[r'$writable'];}return A;}}class uG{static const int Ln=61;static const int Q4=13;static const int qc=10;static const int rc=32;static const int R4=43;static const int S4=47;static const String HJ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";static final List<int> tc=((){List<int> A=new List<int>(256);A.fillRange(0,256,-2);List<int> C=HJ.codeUnits;int D=C.length;for(int B=0;B<D; ++B){A[C[B]]=B;}A[R4]=62;A[S4]=63;A[Q4]=-1;A[qc]=-1;A[rc]=-1;A[qc]=-1;A[Ln]=0;return A;})();static String QN(List<int> G,[int a=0,int J=0]){int K=G.length;if(K==0){return "";}final int N=K.remainder(3);final int j=K-N;int I=((K~/3)*4)+((N>0)?4:0)+J;int P=a>>2;if(P>0){I+= ((I-1)~/(P<<2))*(1+J);}List<int> A=new List<int>(I);int B=0,C=0,R=0;for(int C=0;C<J; ++C){A[B++ ]=rc;}while(C<j){int D=(((G[C++ ]%256)<<16)&0xFFFFFF)|(((G[C++ ]%256)<<8)&0xFFFFFF)|(G[C++ ]%256);A[B++ ]=HJ.codeUnitAt(D>>18);A[B++ ]=HJ.codeUnitAt((D>>12)&0x3F);A[B++ ]=HJ.codeUnitAt((D>>6)&0x3F);A[B++ ]=HJ.codeUnitAt(D&0x3f);if(P>0&& ++R==P&&B<I-2){A[B++ ]=qc;for(int C=0;C<J; ++C){A[B++ ]=rc;}R=0;}}if(N==1){int D=G[C]%256;A[B++ ]=HJ.codeUnitAt(D>>2);A[B++ ]=HJ.codeUnitAt((D<<4)&0x3F);return new String.fromCharCodes(A.sublist(0,I-2));}else if(N==2){int D=G[C]%256;int S=G[C+1]%256;A[B++ ]=HJ.codeUnitAt(D>>2);A[B++ ]=HJ.codeUnitAt(((D<<4)|(S>>4))&0x3F);A[B++ ]=HJ.codeUnitAt((S<<2)&0x3F);return new String.fromCharCodes(A.sublist(0,I-1));}return new String.fromCharCodes(A);}static Uint8List ZP(String A){if(A==null){return null;}int C=A.length;if(C==0){return new Uint8List(0);}int N=0;for(int B=0;B<C;B++ ){int G=tc[A.codeUnitAt(B)];if(G<0){N++ ;if(G==-2){return null;}}}int P=(C-N)%4;if(P==2){A='${A}==';C+= 2;}else if(P==3){A='${A}=';C+= 1;}else if(P==1){return null;}int R=0;for(int B=C-1;B>=0;B-- ){int S=A.codeUnitAt(B);if(tc[S]>0)break;if(S==Ln)R++ ;}int J=(((C-N)*6)>>3)-R;Uint8List K=new Uint8List(J);for(int B=0,D=0;D<J;){int I=0;for(int a=4;a>0;){int G=tc[A.codeUnitAt(B++ )];if(G>=0){I=((I<<6)&0xFFFFFF)|G;a-- ;}}K[D++ ]=I>>16;if(D<J){K[D++ ]=(I>>8)&0xFF;if(D<J)K[D++ ]=I&0xFF;}}return K;}}typedef Object M4(Object _0);typedef Object N4(String _0,Object _1);abstract class KI{static final Map<String,KI> T4={"json":IJ.cS,"msgpack":Cd.d4};static final KI Nn=IJ.cS;static KI Y4(String B){KI A=T4[B];if(A==null){return Nn;}return A;}Object gMB;Object get e7{if(gMB==null){gMB=qT({});}return gMB;}Object qT(Map A);Map RQ(String A);Map SY(List<int> A);}abstract class IJ{static zc cS=new zc();static String wc(Object A,{bool pretty: false}){return cS.gq(A,pretty:pretty);}static dynamic xc(String A){return cS.bq(A);}}class zc extends KI implements IJ{static dynamic Qn(A){return null;}JsonEncoder encoder=new JsonEncoder(Qn);JsonDecoder decoder=new JsonDecoder();JsonEncoder hMB;dynamic bq(String A){return decoder.convert(A);}String gq(B,{bool pretty: false}){JsonEncoder A=encoder;if(pretty){if(hMB==null){hMB=encoder=new JsonEncoder.withIndent("  ",Qn);}A=hMB;}return A.convert(B);}JsonDecoder iMB;Map SY(List<int> A){return RQ(const Utf8Decoder().convert(A));}Map RQ(String B){if(jMB==null){jMB=(D,A){if(A is String&&A.startsWith("\u001Bbytes:")){try {return NN.On(uG.ZP(A.substring(7)));}catch (G){return null;}}return A;};}if(iMB==null){iMB=new JsonDecoder(jMB);}var C=iMB.convert(B);return C;}N4 jMB;M4 kMB;Object qT(Object C){if(kMB==null){kMB=(A){if(A is ByteData){return "\u001Bbytes:${uG.QN(NN.uc(A))}";}return null;};}JsonEncoder B;if(lMB==null){lMB=new JsonEncoder(kMB);}B=lMB;var D=B.convert(C);return D;}JsonEncoder lMB;}class Cd extends KI{static Cd d4=new Cd();Map SY(List<int> C){Uint8List A=NN.Kn(C);if(mMB==null){mMB=new Td(A.buffer,A.offsetInBytes);}else{mMB.reset(A.buffer);mMB.offset=A.offsetInBytes;}Object B=mMB.tZ();if(B is Map){return B;}mMB.data=null;return {};}Td mMB;Map RQ(String A){return {};}Object qT(Map A){return B5(A);}}class NN{static Uint8List Kn(List<int> A){if(A is Uint8List){return A;}return new Uint8List.fromList(A);}static ByteData On(Uint8List A){return A.buffer.asByteData(A.offsetInBytes,A.lengthInBytes);}static Uint8List uc(ByteData A){return A.buffer.asUint8List(A.offsetInBytes,A.lengthInBytes);}}class YP<t> implements StreamController<t>{StreamController<t> nMB;Bd<t> oMB;Stream<t> get stream=>oMB;Function pMB;Function qMB;YP([void A(),void B(),void C(callback(t value)),bool D=false]){nMB=new StreamController<t>(sync:D);oMB=new Bd(nMB.stream.asBroadcastStream(onListen:rMB,onCancel:sMB),C);pMB=A;qMB=B;}bool tMB=false;bool uMB=false;void rMB(StreamSubscription<t> A){if(!uMB){if(pMB!=null){pMB();}uMB=true;}tMB=true;}void sMB(StreamSubscription<t> A){tMB=false;if(qMB!=null){if(!vMB){vMB=true;LI.YL(I8);}}else{uMB=false;}}bool vMB=false;void I8(){vMB=false;if(!tMB&&uMB){qMB();uMB=false;}}void add(t A){nMB.add(A);oMB.oC=A;}void addError(Object A,[StackTrace B]){nMB.addError(A,B);}Future addStream(Stream<t> A,{bool cancelOnError: true}){return nMB.addStream(A,cancelOnError:cancelOnError);}Future close(){return nMB.close();}Future get done=>nMB.done;bool get hasListener=>nMB.hasListener;bool get isClosed=>nMB.isClosed;bool get isPaused=>nMB.isPaused;StreamSink<t> get sink=>nMB.sink;void set onCancel(A()){throw ('BroadcastStreamController.onCancel not implemented');}void set onListen(void A()){throw ('BroadcastStreamController.onListen not implemented');}void set onPause(void A()){throw ('BroadcastStreamController.onPause not implemented');}void set onResume(void A()){throw ('BroadcastStreamController.onResume not implemented');}ControllerCancelCallback get onCancel=>null;ControllerCallback get onListen=>null;ControllerCallback get onPause=>null;ControllerCallback get onResume=>null;}class Bd<t> extends Stream<t>{t oC;final Stream<t> oMB;final Function rMB;Bd(this.oMB,this.rMB);Stream<t> asBroadcastStream({void onListen(StreamSubscription<t> subscription),void onCancel(StreamSubscription<t> subscription)}){return this;}bool get isBroadcast=>true;StreamSubscription<t> listen(void A(t event),{Function onError,void onDone(),bool cancelOnError}){if(rMB!=null){rMB(A);}return oMB.listen(A,onError:onError,onDone:onDone,cancelOnError:cancelOnError);}}class vE extends LinkedListEntry<vE>{final int eO;List<Function> wMB=new List<Function>();vE(this.eO);void add(Function A){if(!wMB.contains(A)){wMB.add(A);}}void remove(Function A){wMB.remove(A);}}class LI{static List<Function> sc=[] ;static void vc(){Timer.run(Tn);fS=true;}static void YL(Function A){if(!fS){vc();}sc.add(A);}static LinkedList<vE> JJ=new LinkedList<vE>();static Map<int,vE> yc=new Map<int,vE>();static Map<Function,vE> dS=new Map<Function,vE>();static vE b4(int C){vE B=yc[C];if(B!=null){return B;}B=new vE(C);yc[C]=B;vE A;if(JJ.isNotEmpty){A=JJ.first;}while(A!=null){if(A.eO>C){A.insertBefore(B);break;}else if(A.next!=JJ){A=A.next;}else{A=null;}}if(A==null){JJ.add(B);}if(!fS){vc();}return B;}static vE c4(int C){if(JJ.isNotEmpty&&JJ.first.eO<=C){vE A=JJ.first;yc.remove(A.eO);A.unlink();for(Function B in A.wMB){dS.remove(B);B();}return A;}return null;}static int Ad=-1;static void Dd(Function A,int G){int B=(((new DateTime.now()).millisecondsSinceEpoch+G)/50).ceil();if(dS.containsKey(A)){vE C=dS[A];if(C.eO>=B){return;}else{C.remove(A);}}if(B<=Ad){YL(A);return;}vE D=b4(B);D.add(A);dS[A]=D;}static void e4(Function A){vE B=dS[A];if(B!=null){B.remove(A);}}static bool fS=false;static bool Rn=false;static bool Sn=false;static void Tn(){fS=false;Rn=true;List<Function> B=sc;sc=new List();for(var C in B){C();}int A=(new DateTime.now()).millisecondsSinceEpoch;Ad=(A/50).floor();while(c4(Ad)!=null){}Rn=false;if(Sn){Sn=false;Tn();}if(JJ.isNotEmpty){if(!fS){if(Ed!=JJ.first.eO){Ed=JJ.first.eO;if(ZL!=null&&ZL.isActive){ZL.cancel();}var D=new Duration(milliseconds:Ed*50+1-A);ZL=new Timer(D,vc);}}}else if(ZL!=null){if(ZL.isActive){ZL.cancel();}ZL=null;}}static int Ed=-1;static Timer ZL;}class ON{static const int O4=0x20;static const int pc=0x25;static const int P4=0x2B;static String PN(String D){List<int> C=new List<int>();List<int> A=new List<int>();int J=D.length;for(int B=0;B<J;B++ ){var G=D.codeUnitAt(B);if(G==pc){if(B+3>D.length){A.add(pc);continue;}int I=a4(D,B+1);if(I>0){A.add(I);B+= 2;}else{A.add(pc);}}else{if(!A.isEmpty){C.addAll(const Utf8Decoder(allowMalformed:true).convert(A).codeUnits);A.clear();}if(G==P4){C.add(O4);}else{C.add(G);}}}if(!A.isEmpty){C.addAll(const Utf8Decoder().convert(A).codeUnits);A.clear();}return new String.fromCharCodes(C);}static int a4(String D,int G){int B=0;for(int C=0;C<2;C++ ){int A=D.codeUnitAt(G+C);if(0x30<=A&&A<=0x39){B=B*16+A-0x30;}else if((A>=0x41&&A<=0x46)||(A>=0x61&&A<=0x66)){A|= 0x20;B=B*16+A-0x57;}else{return -1;}}return B;}}typedef dynamic Mn();typedef dynamic U4<t>(t _0);typedef dynamic V4<h5,od>(h5 _0,od _1);const String W4="1.1.2";FE aS;bool bS;List<int> X4(List<int> A,List<int> B){return A..addAll(B);}int Pn(String A,String B){var C=B.codeUnitAt(0);return A.codeUnits.where((D)=>C==D).length;}bool get Z4{if(bS!=null){return bS;}try {assert(false);bS=false;}catch (A){bS=true;}return bS;}bool eS(GK B,String A,[bool D=false]){try {bool C=new bool.fromEnvironment(A,defaultValue:null);if(C!=null){return C;}}catch (G){}if(B.zone[A] is bool){return B.zone[A];}return D;}FE get wC{if(aS!=null){return aS;}aP=true;aS=new FE("DSA");aS.tr.listen((A){List<String> D=A.message.split("\n");bool G=eS(A,"dsa.logger.inline_errors",true);bool I=eS(A,"dsa.logger.sequence",false);if(G){if(A.error!=null){D.addAll(A.error.toString().split("\n"));}if(A.stackTrace!=null){D.addAll(A.stackTrace.toString().split("\n").where((J)=>J.isNotEmpty).toList());}}String C=A.Ag;if(A.zone["dsa.logger.name"] is String){C=A.zone["dsa.logger.name"];}bool K=eS(A,"dsa.logger.show_timestamps",false);if(!eS(A,"dsa.logger.show_name",true)){C=null;}for(String N in D){String B="";if(I){B+= "[${A.rs}]";}if(K){B+= "[${A.Gt}]";}B+= "[${A.level.name}]";if(C!=null){B+= "[${C}]";}B+= " ";B+= N;if(eS(A,"dsa.logger.print",true)){print(B);}}if(!G){if(A.error!=null){print(A.error);}if(A.stackTrace!=null){print(A.stackTrace);}}});DX(const String.fromEnvironment("dsa.logger.default_level",defaultValue:"INFO"));return aS;}void DX(String A){A=A.trim().toUpperCase();if(A=="DEBUG"){A="ALL";}Map<String,ZB> C={};for(var B in ZB.pn){C[B.name]=B;}var B=C[A];if(B!=null){wC.level=B;}}String Un(Iterable<String> A)=>"enum[${A.join(",")}]";Uint8List Fd(String B){int C=B.length;Uint8List D=new Uint8List(C);for(int A=0;A<C;A++ ){int G=B.codeUnitAt(A);if(G>=128){return new Uint8List.fromList(const Utf8Encoder().convert(B));}D[A]=G;}return D;}class Vn{static String get FX{var A=Zone.current[#Intl.locale];return A==null?Wn:A;}static set FX(String A)=>Wn=A;static String Wn;static String h4='en_US';static String Hd(String A,Function B,{Function onFailure: j4}){if(A==null){return Hd(Xn(),B,onFailure:onFailure);}if(B(A)){return A;}for(var C in [l4(A),k4(A),"fallback"]){if(B(C)){return C;}}return onFailure(A);}static String j4(String A){throw new ArgumentError("Invalid locale '${A}'");}static String k4(String A){if(A.length<2)return A;return A.substring(0,2).toLowerCase();}static String l4(String A){if(A==null)return Xn();if(A=="C")return "en_ISO";if(A.length<5)return A;if(A[2]!='-'&&(A[2]!='_'))return A;var B=A.substring(3);if(B.length<=3)B=B.toUpperCase();return '${A[0]}${A[1]}_${B}';}static String Xn(){if(FX==null)FX=h4;return FX;}}class EX{var MD;int index=0;EX(this.MD);bool LQ()=>index>=MD.length;next()=>MD[index++ ];read([int A=1]){var B=qH(A);index+= A;return B;}bool startsWith(String A){if(MD is String)return MD.startsWith(A,index);return A==qH(A.length);}qH([int B=1]){var A;if(MD is String){A=MD.substring(index,wH.min(index+B,MD.length));}else{A=MD.sublist(index,index+B);}return A;}eG()=>qH(MD.length-index);List jq(Function B){var A=[] ;while(!LQ()){if(B(next()))A.add(index-1);}return A;}var Of=new RegExp(r'\d+');int or(){var A=Of.stringMatch(eG());if(A==null||A.isEmpty)return null;read(A.length);return int.parse(A);}}class RN{String xMB='-';String yMB='';String zMB='';String ANB='';int BNB=3;int CNB=3;bool DNB=false;bool ENB=false;bool FNB=false;bool GNB=false;int BZ=40;int gJ=1;int Bg=3;int MU=0;int CZ=0;int get HNB=>INB;set HNB(int A){INB=A;JNB=(log(HNB)/LN10).round();}int INB=1;int JNB=0;String KNB;final String LNB;k MNB;String CO;final StringBuffer NNB=new StringBuffer();factory RN([String A,String B])=>new RN.aCB(B,(C)=>A);RN.aCB(String A,Function B,[this.CO]):LNB=Vn.Hd(A,i4){MNB=fn[LNB];if(CO==null){CO=MNB.DEF_CURRENCY_CODE;}ONB(B(MNB));}String get zf=>LNB;static bool i4(A){if(A==null)return false;return fn.containsKey(A);}k get JB=>MNB;String FB(A){if(PNB(A))return JB.NAN;if(QNB(A))return "${RNB(A)}${JB.INFINITY}";SNB(RNB(A));TNB(A.abs());SNB(UNB(A));var B=NNB.toString();NNB.clear();return B;}num KE(String A)=>new Yn(this,A).value;void TNB(A){if(GNB){VNB(A);}else{WNB(A);}}void VNB(num B){if(B==0.0){WNB(B);XNB(0);return;}var A=(log(B)/log(10)).floor();var C=B/pow(10.0,A);if(BZ>1&&BZ>gJ){while((A%BZ)!=0){C*= 10;A-- ;}}else{if(gJ<1){A++ ;C/= 10;}else{A-= gJ-1;C*= pow(10,gJ-1);}}WNB(C);XNB(A);}void XNB(num A){SNB(JB.EXP_SYMBOL);if(A<0){A=-A;SNB(JB.MINUS_SIGN);}else if(FNB){SNB(JB.PLUS_SIGN);}YNB(CZ,A.toString());}final ZNB=pow(2,52);QNB(A)=>A is num?A.isInfinite:false;PNB(A)=>A is num?A.isNaN:false;aNB(A){if(A.isNegative&&!(A.abs().isNegative)){throw new ArgumentError("Internal error: expected positive number, got ${A}");}return (A is num)?A.floor():A~/1;}bNB(A){if(A is num){return A.round();}else if(A.remainder(1)==0){return A;}else{var C=aNB(A);var B=(A-C).toDouble().round();return B==0?A:A+B;}}void WNB(B){var A;int C;int J;final D=pow(10,Bg);final K=D*HNB;if(QNB(B)){A=B.toInt();J=0;C=0;}else{A=aNB(B);var S=B-A;var G=bNB(S*K).toInt();if(G>=K){A++ ;G-= K;}J=G~/D;C=G%D;}var R=MU>0||C>0;var N=cNB(A,J);var P=N.length;if(dNB(N)){YNB(gJ-P);for(var I=0;I<P;I++ ){eNB(N.codeUnitAt(I));fNB(P,I);}}else if(!R){gNB();}hNB(R);iNB((C+D).toString());}String cNB(A,B){var C='';if(1 is double&&A is num&&A>ZNB){var D=(log(A)/LN10).ceil()-16;var J=pow(10,D).round();C=JB.ZERO_DIGIT*D.toInt();A=(A/J).truncate();}var G=B==0?'':B.toString();var I=jNB(A);var K=I.isEmpty?G:G.padLeft(JNB,'0');return "${I}${K}${C}";}String jNB(B){if(B==0)return '';var A=B.toString();return A.startsWith('-')?A.substring(1):A;}void iNB(String C){var D=C.codeUnits;var A=C.length;while(D[A-1]==kNB&&A>MU+1){A-- ;}for(var B=1;B<A;B++ ){eNB(D[B]);}}void hNB(bool A){if(ENB||A){SNB(JB.DECIMAL_SEP);}}bool dNB(String A)=>A.isNotEmpty||gJ>0;void SNB(String A){NNB.write(A);}void gNB(){NNB.write(JB.ZERO_DIGIT);}void eNB(int A){NNB.writeCharCode(lNB+A-kNB);}void YNB(int C,[String A='']){for(var B=0;B<C-A.length;B++ ){SNB(JB.ZERO_DIGIT);}for(var D in A.codeUnits){eNB(D);}}void fNB(int B,int C){var A=B-C;if(A<=1||BNB<=0)return;if(A==CNB+1){SNB(JB.GROUP_SEP);}else if((A>CNB)&&(A-CNB)%BNB==1){SNB(JB.GROUP_SEP);}}final kNB='0'.codeUnits.first;get lNB=>JB.ZERO_DIGIT.codeUnits.first;String RNB(A)=>A.isNegative?xMB:yMB;String UNB(A)=>A.isNegative?zMB:ANB;void ONB(String A){if(A==null)return;KNB=A.replaceAll(' ','\u00a0');var B=new gS(this,A,CO);B.KE();}String toString()=>"NumberFormat(${LNB}, ${KNB})";}class Yn{final RN FB;final String kE;final EX input;num value;k get JB=>FB.JB;final StringBuffer mNB=new StringBuffer();bool nY=false;bool mY=false;bool Mr=false;bool Lr=false;bool done=false;bool Vs=false;int scale=1;String get yMB=>FB.yMB;String get xMB=>FB.xMB;String get ANB=>FB.ANB;String get zMB=>FB.zMB;int get kNB=>FB.kNB;int get lNB=>FB.lNB;Yn(this.FB,A):this.kE=A,this.input=new EX(A){value=KE();}Map<String,Function> get ls=>nNB==null?nNB=oNB():nNB;var nNB;Map oNB()=>{JB.DECIMAL_SEP:()=>'.',JB.EXP_SYMBOL:()=>'E',JB.GROUP_SEP:hf,JB.PERCENT:(){scale=gS.Ld;return '';},JB.PERMILL:(){scale=gS.Kd;return '';},' ':hf,'\u00a0':hf,'+':()=>'+','-':()=>'-'};h9()=>throw new FormatException("Invalid number: ${input.MD}");hf()=>Z9?'':h9();bool get Z9{if(JB.GROUP_SEP!='\u00a0'||JB.GROUP_SEP!=' ')return true;var A=input.qH(JB.GROUP_SEP.length+1);return xp(A[A.length-1])!=null;}int xp(String B){var C=B.codeUnitAt(0);var A=C-lNB;if(A>=0&&A<10){return A;}else{return null;}}void Bq({bool skip: false}){bool B(String A,D){var C=A.isNotEmpty&&input.startsWith(A);if(D&&C)input.read(A.length);return C;}if(B(yMB,skip))nY=true;if(B(xMB,skip))mY=true;if(nY&&mY){if(yMB.length>xMB.length){mY=false;}else if(xMB.length>yMB.length){nY=false;}}}void p7(){var A=input.eG();if(A==ANB)Mr=true;if(A==zMB)Lr=true;}void o$(){for(var A in ls.keys){if(input.startsWith(A)){mNB.write(ls[A]());input.read(A.length);return;}}if(input.index==0&&!Vs){Vs=true;Bq(skip:true);}else{done=true;}}num KE(){if(kE==JB.NAN)return double.NAN;if(kE=="${yMB}${JB.INFINITY}${ANB}"){return double.INFINITY;}if(kE=="${xMB}${JB.INFINITY}${zMB}"){return double.NEGATIVE_INFINITY;}Bq();var A=S$(input);if(nY&&!Mr)qf();if(mY&&!Lr)qf();if(!input.LQ())qf();return A;}void qf()=>throw new FormatException("Invalid Number: ${input.MD}");num S$(EX A){while(!done&&!A.LQ()){int C=xp(A.qH());if(C!=null){mNB.writeCharCode(kNB+C);A.next();}else{o$();}p7();}var D=mNB.toString();num B=int.parse(D,onError:(G)=>null);if(B==null)B=double.parse(D);return B/scale;}}class gS{static const Zn=';';static const Id="'";static const an='#';static const Jd='0';static const bn=',';static const cn='.';static const m4='\u00A4';static const n4='\u2030';static const Kd=1000;static const o4='%';static const Ld=100;static const p4='E';static const q4='+';final RN FB;final Md pattern;String CO;gS(this.FB,A,this.CO):pattern=dn(A){pattern.moveNext();}k get JB=>FB.JB;void KE(){FB.yMB=pNB();var A=qNB();FB.ANB=pNB();if(pattern.current==gS.Zn){pattern.moveNext();FB.xMB=pNB();for(var B in r4(A)){if(pattern.current!=B&&pattern.current!=null){throw new FormatException("Positive and negative trunks must be the same");}pattern.moveNext();}FB.zMB=pNB();}else{FB.xMB=FB.xMB+FB.yMB;FB.zMB=FB.ANB+FB.zMB;}}bool rY=false;String pNB(){var A=new StringBuffer();rY=false;while(z_(A)&&pattern.moveNext());return A.toString();}bool z_(StringBuffer A){var B=pattern.current;if(B==null)return false;if(B==Id){if(pattern.qH==Id){pattern.moveNext();A.write(Id);}else{rY=!rY;}return true;}if(rY){A.write(B);}else{switch (B){case an:case Jd:case bn:case cn:case Zn:return false;case m4:A.write(CO);break;case o4:if(FB.HNB!=1&&FB.HNB!=Ld){throw new FormatException('Too many percent/permill');}FB.HNB=Ld;A.write(JB.PERCENT);break;case n4:if(FB.HNB!=1&&FB.HNB!=Kd){throw new FormatException('Too many percent/permill');}FB.HNB=Kd;A.write(JB.PERMILL);break;default:A.write(B);}}return true;}var RE=-1;var mH=0;var EL=0;var UQ=0;var oK=-1;String qNB(){var B=true;var C=new StringBuffer();while(pattern.current!=null&&B){B=i$(C);}if(EL==0&&mH>0&&RE>=0){var D=RE==0?1:RE;UQ=mH-D;mH=D-1;EL=1;}if(RE<0&&UQ>0||RE>=0&&(RE<mH||RE>mH+EL)||oK==0){throw new FormatException('Malformed pattern "${pattern.input}"');}var A=mH+EL+UQ;FB.Bg=RE>=0?A-RE:0;if(RE>=0){FB.MU=mH+EL-RE;if(FB.MU<0){FB.MU=0;}}var G=RE>=0?RE:A;FB.gJ=G-mH;if(FB.GNB){FB.BZ=mH+FB.gJ;if(FB.Bg==0&&FB.gJ==0){FB.gJ=1;}}FB.CNB=wH.max(0,oK);if(!FB.DNB){FB.BNB=FB.CNB;}FB.ENB=RE==0||RE==A;return C.toString();}bool i$(A){var B=pattern.current;switch (B){case an:if(EL>0){UQ++ ;}else{mH++ ;}if(oK>=0&&RE<0){oK++ ;}break;case Jd:if(UQ>0){throw new FormatException('Unexpected "0" in pattern "'+pattern.input+'"');}EL++ ;if(oK>=0&&RE<0){oK++ ;}break;case bn:if(oK>0){FB.DNB=true;FB.BNB=oK;}oK=0;break;case cn:if(RE>=0){throw new FormatException('Multiple decimal separators in pattern "${pattern}"');}RE=mH+EL+UQ;break;case p4:A.write(B);if(FB.GNB){throw new FormatException('Multiple exponential symbols in pattern "${pattern}"');}FB.GNB=true;FB.CZ=0;pattern.moveNext();var C=pattern.current;if(C==q4){A.write(pattern.current);pattern.moveNext();FB.FNB=true;}while(pattern.current==Jd){A.write(pattern.current);pattern.moveNext();FB.CZ++ ;}if((mH+EL)<1||FB.CZ<1){throw new FormatException('Malformed exponential pattern "${pattern}"');}return false;default:return false;}A.write(B);pattern.moveNext();return true;}}Iterable r4(String A)=>new en(A);Iterator dn(String A)=>new Md(A);class en extends IterableBase<String>{final Iterator<String> iterator;en(String A):iterator=dn(A);}class Md implements Iterator<String>{final String input;int FZ=0;String rNB=null;Md(A):input=s4(A);String get current=>rNB;bool moveNext(){if(FZ>=input.length){rNB=null;return false;}rNB=input[FZ++ ];return true;}String get qH=>FZ>=input.length?null:input[FZ];Iterator<String> get iterator=>this;static String s4(A){if(A is!String)throw new ArgumentError(A);return A;}}class Nd<i5>{final String message;final i5 hq;const Nd(this.message,this.hq);operator[](String A)=>(A=='en_US')?hq:sNB();List get keys=>sNB();bool containsKey(String A)=>(A=='en_US')?true:sNB();sNB(){throw new hn("Locale data has not been initialized" ", call ${message}.");}}class hn implements Exception{final String message;hn(this.message);toString()=>"LocaleDataException: ${message}";}bool aP=false;ZB u4=ZB.kn;ZB jn=ZB.Pd;class FE{final String name;String get pq=>(parent==null||parent.name=='')?name:'${parent.pq}.${name}';final FE parent;ZB tNB;final Map<String,FE> uNB;final Map<String,FE> p;StreamController<GK> vNB;factory FE(String A){return v4.putIfAbsent(A,()=>new FE.bCB(A));}factory FE.bCB(String A){if(A.startsWith('.')){throw new ArgumentError("name shouldn't start with a '.'");}int B=A.lastIndexOf('.');FE C=null;String D;if(B==-1){if(A!='')C=new FE('');D=A;}else{C=new FE(A.substring(0,B));D=A.substring(B+1);}return new FE.cCB(D,C,new Map<String,FE>());}FE.cCB(this.name,this.parent,Map<String,FE> A):this.uNB=A,this.p=new UnmodifiableMapView(A){if(parent!=null)parent.uNB[name]=this;}ZB get level{if(aP){if(tNB!=null)return tNB;if(parent!=null)return parent.level;}return jn;}void set level(ZB A){if(aP&&parent!=null){tNB=A;}else{if(parent!=null){throw new UnsupportedError('Please set "hierarchicalLoggingEnabled" to true if you want to ' 'change the level on a non-root logger.');}jn=A;}}Stream<GK> get tr=>wNB();void Dq(){if(aP||parent==null){if(vNB!=null){vNB.close();vNB=null;}}else{Od.Dq();}}bool wY(ZB A)=>(A>=level);void oQ(ZB B,A,[Object D,StackTrace G,Zone I]){Object J;if(wY(B)){if(A is Function)A=A();if(A is!String){J=A;A=A.toString();}if(G==null&&B>=u4){try {throw "autogenerated stack trace for ${B} ${A}";}catch (N,P){G=P;if(D==null)D=N;}}if(I==null)I=Zone.current;var K=new GK(B,A,pq,D,G,I,J);if(aP){var C=this;while(C!=null){C.xNB(K);C=C.parent;}}else{Od.xNB(K);}}}void ZQ(A,[Object B,StackTrace C])=>oQ(ZB.hS,A,B,C);void ZY(A,[Object B,StackTrace C])=>oQ(ZB.ln,A,B,C);void sY(A,[Object B,StackTrace C])=>oQ(ZB.Pd,A,B,C);void it(A,[Object B,StackTrace C])=>oQ(ZB.mn,A,B,C);void iZ(A,[Object B,StackTrace C])=>oQ(ZB.nn,A,B,C);Stream<GK> wNB(){if(aP||parent==null){if(vNB==null){vNB=new StreamController<GK>.broadcast(sync:true);}return vNB.stream;}else{return Od.wNB();}}void xNB(GK A){if(vNB!=null){vNB.add(A);}}static final FE Od=new FE('');static final Map<String,FE> v4=<String,FE>{};}class ZB implements Comparable<ZB>{final String name;final int value;const ZB(this.name,this.value);static const ZB w4=const ZB('ALL',0);static const ZB kn=const ZB('OFF',2000);static const ZB hS=const ZB('FINEST',300);static const ZB x4=const ZB('FINER',400);static const ZB ln=const ZB('FINE',500);static const ZB y4=const ZB('CONFIG',700);static const ZB Pd=const ZB('INFO',800);static const ZB mn=const ZB('WARNING',900);static const ZB nn=const ZB('SEVERE',1000);static const ZB z4=const ZB('SHOUT',1200);static const List<ZB> pn=const[w4,hS,x4,ln,y4,Pd,mn,nn,z4,kn];bool operator==(A)=>A is ZB&&value==A.value;bool operator<(ZB A)=>value<A.value;bool operator<=(ZB A)=>value<=A.value;bool operator>(ZB A)=>value>A.value;bool operator>=(ZB A)=>value>=A.value;int compareTo(ZB A)=>value-A.value;int get hashCode=>value;String toString()=>name;}class GK{final ZB level;final String message;final Object SU;final String Ag;final DateTime Gt;final int rs;static int A5=0;final Object error;final StackTrace stackTrace;final Zone zone;GK(this.level,this.message,this.Ag,[this.error,this.stackTrace,this.zone,this.SU]):Gt=new DateTime.now(),rs=GK.A5++ ;String toString()=>'[${level.name}] ${Ag}: ${message}';}Directory Ja;void main(List<String> D){ou("en_US",null);Ny();IJ.cS=new M2();lF C=new lF();Sc A=new Sc(D,'dataflow-',provider:C,isRequester:true,isResponder:true,autoInitialize:false);A.Lq(optionsHandler:(B){if(B!=null&&B["base-path"]!=null){Ja=new Directory(B["base-path"]);}else{Ja=Directory.current;}mu(Ja.uri.resolve('files').toFilePath());});C.U8();A.init();A.connect();String G=A.jK.replaceFirst(new RegExp(r'^https?:\/\/'),'').replaceFirst(new RegExp(r'\/conn$'),'');MG.Ac(new ZE.KCB(G,A.ZG),'default');}final bool C5=identical(1,1.0);class rn{static Map<String,List<int>> sn={};static bool D5(String A){return sn.containsKey(A);}static List<int> E5(String A){return sn[A];}}Uint8List F5(String B){int C=B.length;Uint8List D=new Uint8List(C);for(int A=0;A<C;A++ ){int G=B.codeUnitAt(A);if(G>=128){return new Uint8List.fromList(const Utf8Encoder().convert(B));}D[A]=G;}return D;}abstract class qn{}List<int> B5(A,{bool stateful: true}){if(stateful){if(GX==null){GX=new Qd();}GX.zK(A);return GX.done();}else{return const un().zK(A);}}Qd GX;class tn{}class Sd{}class un{const un();List<int> zK(A){if(A==null)return const[0xc0];else if(A==false)return const[0xc2];else if(A==true)return const[0xc3];else if(A is int)return Yg(A);else if(A is String)return ag(A);else if(A is List)return bU(A);else if(A is Iterable)return bU(A.toList());else if(A is Map)return Zg(A);else if(A is double)return Wg(A);else if(A is ByteData)return Vg(A);else if(A is qn)return q_(A);else if(A is tn)return A.data;else if(A is Sd)return Xg(A.value);throw new Exception("Failed to pack value: ${A}");}List<int> q_(qn A){return bU(A.toList());}List<int> Vg(ByteData G){var B=G.elementSizeInBytes*G.lengthInBytes;if(B<=255){var A=new ByteData(B+2);A.setUint8(0,0xc4);A.setUint8(1,B);var D=2;for(var C=0;C<B;C++ ){A.setUint8(D,G.getUint8(C));D++ ;}return A.buffer.asUint8List();}else if(B<=65535){var A=new ByteData(B+3);A.setUint8(0,0xc5);A.setUint16(1,B);var D=3;for(var C=0;C<B;C++ ){A.setUint8(D,G.getUint8(C));D++ ;}return A.buffer.asUint8List();}else{var A=new ByteData(B+5);A.setUint8(0,0xc6);A.setUint32(1,B);var D=5;for(var C=0;C<B;C++ ){A.setUint8(D,G.getUint8(C));D++ ;}return A.buffer.asUint8List();}}List<int> Yg(int B){if(B>=0&&B<128){var A=new Uint8List(1);A[0]=B;return A;}Uint8List A;if(B<0){if(B>=-32){A=new Uint8List(1);A[0]=0xe0+B+32;}else if(B>-0x80){A=new Uint8List(2);A[0]=0xd0;A[1]=B+0x100;}else if(B>-0x8000){A=new Uint8List(3);yNB(B+0x10000,A,1);}else if(B>-0x80000000){A=new Uint8List(5);A[0]=0xd2;zNB(B+0x100000000,A,1);}else{A=new Uint8List(9);A[0]=0xd3;AOB(B,A,1);}}else{if(B<0x100){A=new Uint8List(2);A[0]=0xcc;A[1]=B;}else if(B<0x10000){A=new Uint8List(3);A[0]=0xcd;yNB(B,A,1);}else if(B<0x100000000){A=new Uint8List(5);A[0]=0xce;zNB(B,A,1);}else{A=new Uint8List(9);A[0]=0xcf;AOB(B,A,1);}}return A;}List<int> yNB(int B,[Uint8List A,int C=0]){if(A==null)A=new Uint8List(2);A[C]=(B>>8)&0xff;A[C+1]=B&0xff;return A;}Uint8List zNB(int B,[Uint8List A,int C=0]){if(A==null)A=new Uint8List(4);A[C]=(B>>24)&0xff;A[C+1]=(B>>16)&0xff;A[C+2]=(B>>8)&0xff;A[C+3]=B&0xff;return A;}List<int> AOB(int B,[Uint8List A,int C=0]){if(A==null)A=new Uint8List(8);A[C]=(B>>56)&0xff;A[C+1]=(B>>48)&0xff;A[C+2]=(B>>40)&0xff;A[C+3]=(B>>32)&0xff;A[C+4]=(B>>24)&0xff;A[C+5]=(B>>16)&0xff;A[C+6]=(B>>8)&0xff;A[C+7]=B&0xff;return A;}static const Utf8Encoder G5=const Utf8Encoder();List<int> ag(String C){List<int> B=[] ;List<int> A=G5.convert(C);if(A.length<32)B.add(0xa0|A.length);else if(A.length<256)B.addAll([0xd9,A.length]);else if(A.length<65536)B..add(0xda)..addAll(yNB(A.length));else B..add(0xdb)..addAll(zNB(A.length));B.addAll(A);return B;}List<int> Xg(double B){var A=new ByteData(4);A.setFloat32(0,B);return [0xca]..addAll(A.buffer.asUint8List());}List<int> Wg(double B){var A=new ByteData(8);A.setFloat64(0,B);return [0xcb]..addAll(A.buffer.asUint8List());}List<int> bU(List A){List<int> B=[] ;if(A.length<16)B.add(0x90+A.length);else if(A.length<0x100)B..add(0xdc)..addAll(yNB(A.length));else B..add(0xdd)..addAll(zNB(A.length));for(var C in A){B.addAll(zK(C));}return B;}List<int> Zg(Map B){var A=<int>[] ;if(B.length<16){A.add(0x80+B.length);}else if(B.length<0x100){A.add(0xde);A.addAll(yNB(B.length));}else{A.add(0xdf);A.addAll(zNB(B.length));}for(var C in B.keys){A.addAll(zK(C));A.addAll(zK(B[C]));}return A;}}class Qd{Qd();void zK(A){if(A is Iterable&&A is!List){A=A.toList();}if(A==null){write(0xc0);}else if(A==false){write(0xc2);}else if(A==true){write(0xc3);}else if(A is int){Yg(A);}else if(A is String){ag(A);}else if(A is List){bU(A);}else if(A is Map){Zg(A);}else if(A is double){Wg(A);}else if(A is Sd){Xg(A);}else if(A is ByteData){Vg(A);}else if(A is tn){writeAll(A.data);}else{throw new Exception("Failed to pack value: ${A}");}}void Vg(ByteData A){var B=A.elementSizeInBytes*A.lengthInBytes;if(B<=255){write(0xc4);write(B);writeAll(A.buffer.asUint8List());}else if(B<=65535){write(0xc5);yNB(B);writeAll(A.buffer.asUint8List());}else{write(0xc6);zNB(B);writeAll(A.buffer.asUint8List());}}void Yg(int A){if(A>=0&&A<128){write(A);return;}if(A<0){if(A>=-32){write(0xe0+A+32);}else if(A>-0x80){write(0xd0);write(A+0x100);}else if(A>-0x8000){write(0xd1);yNB(A+0x10000);}else if(A>-0x80000000){write(0xd2);zNB(A+0x100000000);}else{write(0xd3);AOB(A);}}else{if(A<0x100){write(0xcc);write(A);}else if(A<0x10000){write(0xcd);yNB(A);}else if(A<0x100000000){write(0xce);zNB(A);}else{write(0xcf);AOB(A,true);}}}void yNB(int A){write((A>>8)&0xff);write(A&0xff);}void zNB(int A){write((A>>24)&0xff);write((A>>16)&0xff);write((A>>8)&0xff);write(A&0xff);}void AOB(int A,[bool B=false]){if(C5&&B){write((A~/72057594037927936)&0xff);write((A~/281474976710656)&0xff);write((A~/1099511627776)&0xff);write((A~/4294967296)&0xff);}else{write((A>>56)&0xff);write((A>>48)&0xff);write((A>>40)&0xff);write((A>>32)&0xff);}write((A>>24)&0xff);write((A>>16)&0xff);write((A>>8)&0xff);write(A&0xff);}void ag(String B){List<int> A;if(rn.D5(B)){A=rn.E5(B);}else{A=F5(B);}if(A.length<0x20){write(0xa0+A.length);}else if(A.length<0x100){write(0xd9);write(A.length);}else if(A.length<0x10000){write(0xda);yNB(A.length);}else{write(0xdb);zNB(A.length);}writeAll(A);}void Wg(double B){write(0xcb);var A=new ByteData(8);A.setFloat64(0,B);writeAll(A);}void Xg(Sd B){write(0xca);var A=new ByteData(4);A.setFloat32(0,B.value);writeAll(A);}void bU(List B){var A=B.length;if(A<16){write(0x90+A);}else if(A<0x100){write(0xdc);yNB(A);}else{write(0xdd);zNB(A);}for(var C in B){zK(C);}}void Zg(Map A){if(A.length<16){write(0x80+A.length);}else if(A.length<0x100){write(0xde);yNB(A.length);}else{write(0xdf);zNB(A.length);}for(var B in A.keys){zK(B);zK(A[B]);}}void writeAll(A){if(A is ByteData){for(var B=0;B<A.lengthInBytes;B++ ){write(A.getUint8(B));}}else if(A is List){for(var C in A){write(C);}}else{throw new Exception("I don't know how to write everything in ${A}");}}void write(int A){if(mQ==null){mQ=[] ;}if(list==null||c>=list.length){if(list!=null){mQ.add(new Uint8List.view(list.buffer,0,c));}list=new Uint8List(64);c=0;}list[c]=A;c++ ;VD++ ;}Uint8List done(){if(list!=null&&c!=0){mQ.add(new Uint8List.view(list.buffer,0,c));c=0;}var A=new Uint8List(VD);var B=0;for(var C in mQ){for(var D in C){A[B]=D;B++ ;}}list=null;mQ=null;VD=0;c=0;return A;}int c=0;int VD=0;Uint8List list;List<Uint8List> mQ;}const int Rd=4294967295;class Td{ByteData data;int offset;Td(ByteBuffer A,[this.offset=0]){data=A.asByteData();}void reset(ByteBuffer A){data=A.asByteData();offset=0;}tZ(){int A=data.getUint8(offset++ );if(A>=0xe0)return A-0x100;if(A<0xc0){if(A<0x80)return A;else if(A<0x90)return vZ(A-0x80);else if(A<0xa0)return uZ(A-0x90);else return wZ(A-0xa0);}switch (A){case 0xc0:return null;case 0xc2:return false;case 0xc3:return true;case 0xc4:return Gh(A);case 0xc5:return Gh(A);case 0xc6:return Gh(A);case 0xcf:return qAB();case 0xce:return fM();case 0xcd:return xZ();case 0xcc:return gG();case 0xd3:return oAB();case 0xd2:return nAB();case 0xd1:return mAB();case 0xd0:return pAB();case 0xd9:return wZ(gG());case 0xda:return wZ(xZ());case 0xdb:return wZ(fM());case 0xdf:return vZ(fM());case 0xde:return vZ(xZ());case 0x80:return vZ(gG());case 0xdd:return uZ(fM());case 0xdc:return uZ(xZ());case 0x90:return uZ(gG());case 0xca:return lAB();case 0xcb:return kAB();}}ByteData Gh(int C){int A;var B=0;if(C==0xc4){A=data.getUint8(offset);B=1;}else if(C==0xc5){A=data.getUint16(offset);B=2;}else if(C==0xc6){A=data.getUint32(offset);B=4;}else{throw new Exception("Bad Binary Type");}offset+= B;var G=new Uint8List(A);var D=0;for(var I=offset;D<A;I++ ){G[D]=data.getUint8(I);D++ ;}offset+= A;return G.buffer.asByteData();}double lAB(){var A=data.getFloat32(offset);offset+= 4;return A;}double kAB(){var A=new Uint8List.fromList(data.buffer.asUint8List(offset,8));offset+= 8;return A.buffer.asByteData().getFloat64(0);}int qAB(){var A=fM();var B=fM();return (A*(Rd+1))+B;}int fM(){var A=0;for(var B=0;B<4;B++ ){A=(A<<8)|gG();}return A;}int xZ(){var A=gG();A=A<<8;A|= gG();return A;}int gG(){return data.getUint8(offset++ );}int oAB(){var A=fM();var B=fM();if((A&0x80000000)!=0){A=BOB(A);B=BOB(B);return -((A*(Rd+1))+B+1);}else{return (A*(Rd+1))+B;}}int BOB(int A){A=~A;if(A<0){A=(A&0x7FFFFFFF)+0x80000000;}return A;}int nAB(){var D=[gG(),gG(),gG(),gG()];var G=(D[0]&0x40)!=0;var B=0;var K=0;var I=1;for(var C=3,J=1;C>=0;C-- ,J*= 256){var A=D[K+C];if(G){A=(A^0xff)+I;I=A>>8;A&= 0xff;}B+= A*J;}return G?-B:B;}int mAB(){var D=[gG(),gG()];var G=(D[0]&0x20)!=0;var B=0;var K=0;var I=1;for(var C=1,J=1;C>=0;C-- ,J*= 256){var A=D[K+C];if(G){A=(A^0xff)+I;I=A>>8;A&= 0xff;}B+= A*J;}return G?-B:B;}int pAB(){var D=[gG()];var G=(D[0]&0x10)!=0;var B=0;var K=0;var I=1;for(var C=0,J=1;C>=0;C-- ,J*= 256){var A=D[K+C];if(G){A=(A^0xff)+I;I=A>>8;A&= 0xff;}B+= A*J;}return G?-B:B;}String wZ(int A){String B=const Utf8Decoder().convert(new Uint8List.view(data.buffer,offset,A));offset+= A;return B;}Map vZ(int C){Map A={};for(int B=0;B<C; ++B){A[tZ()]=tZ();}return A;}List uZ(int C){List A=[] ;A.length=C;for(int B=0;B<C; ++B){A[B]=tZ();}return A;}}Map fn=const{"af":const k(NAME:"af",DECIMAL_SEP:',',GROUP_SEP:'\u00A0',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'ZAR'),"am":const k(NAME:"am",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'ETB'),"ar":const k(NAME:"ar",DECIMAL_SEP:'\u066B',GROUP_SEP:'\u066C',PERCENT:'\u066A',ZERO_DIGIT:'\u0660',PLUS_SIGN:'\u200F+',MINUS_SIGN:'\u200F-',EXP_SYMBOL:'\u0627\u0633',PERMILL:'\u0609',INFINITY:'\u221E',NAN:'\u0644\u064A\u0633\u00A0\u0631\u0642\u0645',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4\u00A0#,##0.00',DEF_CURRENCY_CODE:'EGP'),"az":const k(NAME:"az",DECIMAL_SEP:',',GROUP_SEP:'.',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4\u00A0#,##0.00',DEF_CURRENCY_CODE:'AZN'),"bg":const k(NAME:"bg",DECIMAL_SEP:',',GROUP_SEP:'\u00A0',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'BGN'),"bn":const k(NAME:"bn",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'\u09E6',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'\u09B8\u0982\u0996\u09CD\u09AF\u09BE\u00A0\u09A8\u09BE',DECIMAL_PATTERN:'#,##,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##,##0%',CURRENCY_PATTERN:'#,##,##0.00\u00A4',DEF_CURRENCY_CODE:'BDT'),"br":const k(NAME:"br",DECIMAL_SEP:',',GROUP_SEP:'\u00A0',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4\u00A0#,##0.00',DEF_CURRENCY_CODE:'EUR'),"ca":const k(NAME:"ca",DECIMAL_SEP:',',GROUP_SEP:'.',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'EUR'),"chr":const k(NAME:"chr",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'USD'),"cs":const k(NAME:"cs",DECIMAL_SEP:',',GROUP_SEP:'\u00A0',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0\u00A0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'CZK'),"cy":const k(NAME:"cy",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'GBP'),"da":const k(NAME:"da",DECIMAL_SEP:',',GROUP_SEP:'.',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0\u00A0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'DKK'),"de":const k(NAME:"de",DECIMAL_SEP:',',GROUP_SEP:'.',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0\u00A0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'EUR'),"de_AT":const k(NAME:"de_AT",DECIMAL_SEP:',',GROUP_SEP:'.',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0\u00A0%',CURRENCY_PATTERN:'\u00A4\u00A0#,##0.00',DEF_CURRENCY_CODE:'EUR'),"de_CH":const k(NAME:"de_CH",DECIMAL_SEP:'.',GROUP_SEP:'\'',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0\u00A0%',CURRENCY_PATTERN:'\u00A4\u00A0#,##0.00;\u00A4-#,##0.00',DEF_CURRENCY_CODE:'CHF'),"el":const k(NAME:"el",DECIMAL_SEP:',',GROUP_SEP:'.',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'e',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'EUR'),"en":const k(NAME:"en",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'USD'),"en_AU":const k(NAME:"en_AU",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'AUD'),"en_GB":const k(NAME:"en_GB",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'GBP'),"en_IE":const k(NAME:"en_IE",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'EUR'),"en_IN":const k(NAME:"en_IN",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##,##0%',CURRENCY_PATTERN:'\u00A4\u00A0#,##,##0.00',DEF_CURRENCY_CODE:'INR'),"en_SG":const k(NAME:"en_SG",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'SGD'),"en_US":const k(NAME:"en_US",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'USD'),"en_ZA":const k(NAME:"en_ZA",DECIMAL_SEP:',',GROUP_SEP:'\u00A0',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'ZAR'),"es":const k(NAME:"es",DECIMAL_SEP:',',GROUP_SEP:'.',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'EUR'),"es_419":const k(NAME:"es_419",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'MXN'),"es_ES":const k(NAME:"es_ES",DECIMAL_SEP:',',GROUP_SEP:'.',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'EUR'),"et":const k(NAME:"et",DECIMAL_SEP:',',GROUP_SEP:'\u00A0',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'\u00D710^',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'EUR'),"eu":const k(NAME:"eu",DECIMAL_SEP:',',GROUP_SEP:'.',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'%\u00A0#,##0',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'EUR'),"fa":const k(NAME:"fa",DECIMAL_SEP:'\u066B',GROUP_SEP:'\u066C',PERCENT:'\u066A',ZERO_DIGIT:'\u06F0',PLUS_SIGN:'\u200E+\u200E',MINUS_SIGN:'\u200E\u2212',EXP_SYMBOL:'\u00D7\u06F1\u06F0^',PERMILL:'\u0609',INFINITY:'\u221E',NAN:'\u0646\u0627\u0639\u062F\u062F',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u200E\u00A4#,##0.00',DEF_CURRENCY_CODE:'IRR'),"fi":const k(NAME:"fi",DECIMAL_SEP:',',GROUP_SEP:'\u00A0',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'\u2212',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'ep\u00E4luku',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0\u00A0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'EUR'),"fil":const k(NAME:"fil",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'PHP'),"fr":const k(NAME:"fr",DECIMAL_SEP:',',GROUP_SEP:'\u00A0',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0\u00A0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'EUR'),"fr_CA":const k(NAME:"fr_CA",DECIMAL_SEP:',',GROUP_SEP:'\u00A0',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0\u00A0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'CAD'),"ga":const k(NAME:"ga",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'EUR'),"gl":const k(NAME:"gl",DECIMAL_SEP:',',GROUP_SEP:'.',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'EUR'),"gsw":const k(NAME:"gsw",DECIMAL_SEP:'.',GROUP_SEP:'\u2019',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'\u2212',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0\u00A0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'CHF'),"gu":const k(NAME:"gu",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##,##0%',CURRENCY_PATTERN:'\u00A4#,##,##0.00',DEF_CURRENCY_CODE:'INR'),"haw":const k(NAME:"haw",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'USD'),"he":const k(NAME:"he",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'\u200E+',MINUS_SIGN:'\u200E-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'ILS'),"hi":const k(NAME:"hi",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##,##0%',CURRENCY_PATTERN:'\u00A4#,##,##0.00',DEF_CURRENCY_CODE:'INR'),"hr":const k(NAME:"hr",DECIMAL_SEP:',',GROUP_SEP:'.',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'HRK'),"hu":const k(NAME:"hu",DECIMAL_SEP:',',GROUP_SEP:'\u00A0',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'HUF'),"hy":const k(NAME:"hy",DECIMAL_SEP:',',GROUP_SEP:'.',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#0%',CURRENCY_PATTERN:'#0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'AMD'),"id":const k(NAME:"id",DECIMAL_SEP:',',GROUP_SEP:'.',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'IDR'),"in":const k(NAME:"in",DECIMAL_SEP:',',GROUP_SEP:'.',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'IDR'),"is":const k(NAME:"is",DECIMAL_SEP:',',GROUP_SEP:'.',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'ISK'),"it":const k(NAME:"it",DECIMAL_SEP:',',GROUP_SEP:'.',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'EUR'),"iw":const k(NAME:"iw",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'\u200E+',MINUS_SIGN:'\u200E-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'ILS'),"ja":const k(NAME:"ja",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'JPY'),"ka":const k(NAME:"ka",DECIMAL_SEP:',',GROUP_SEP:'\u00A0',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'\u10D0\u10E0\u00A0\u10D0\u10E0\u10D8\u10E1\u00A0\u10E0\u10D8\u10EA\u10EE\u10D5\u10D8',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0\u00A0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'GEL'),"kk":const k(NAME:"kk",DECIMAL_SEP:',',GROUP_SEP:'\u00A0',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'KZT'),"km":const k(NAME:"km",DECIMAL_SEP:',',GROUP_SEP:'.',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'KHR'),"kn":const k(NAME:"kn",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'\u0C88',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'INR'),"ko":const k(NAME:"ko",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'KRW'),"ky":const k(NAME:"ky",DECIMAL_SEP:',',GROUP_SEP:'\u00A0',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'\u0441\u0430\u043D\u00A0\u044D\u043C\u0435\u0441',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'KGS'),"ln":const k(NAME:"ln",DECIMAL_SEP:',',GROUP_SEP:'.',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'CDF'),"lo":const k(NAME:"lo",DECIMAL_SEP:',',GROUP_SEP:'.',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'\u0E9A\u0ECD\u0EC8\u0EC1\u0EA1\u0EC8\u0E99\u0EC2\u0E95\u0EC0\u0EA5\u0E81',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00;\u00A4-#,##0.00',DEF_CURRENCY_CODE:'LAK'),"lt":const k(NAME:"lt",DECIMAL_SEP:',',GROUP_SEP:'\u00A0',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'\u2212',EXP_SYMBOL:'\u00D710^',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0\u00A0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'LTL'),"lv":const k(NAME:"lv",DECIMAL_SEP:',',GROUP_SEP:'\u00A0',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'nav\u00A0skaitlis',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'EUR'),"mk":const k(NAME:"mk",DECIMAL_SEP:',',GROUP_SEP:'.',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4\u00A0#,##0.00',DEF_CURRENCY_CODE:'MKD'),"ml":const k(NAME:"ml",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##,##0%',CURRENCY_PATTERN:'#,##,##0.00\u00A4',DEF_CURRENCY_CODE:'INR'),"mn":const k(NAME:"mn",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4\u00A0#,##0.00',DEF_CURRENCY_CODE:'MNT'),"mr":const k(NAME:"mr",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'\u0966',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'[#E0]',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'INR'),"ms":const k(NAME:"ms",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'MYR'),"mt":const k(NAME:"mt",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'EUR'),"my":const k(NAME:"my",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'\u1040',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'\u1002\u100F\u1014\u103A\u1038\u1019\u101F\u102F\u1010\u103A\u101E\u1031\u102C',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4\u00A0#,##0.00',DEF_CURRENCY_CODE:'MMK'),"nb":const k(NAME:"nb",DECIMAL_SEP:',',GROUP_SEP:'\u00A0',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'\u2212',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0\u00A0%',CURRENCY_PATTERN:'\u00A4\u00A0#,##0.00',DEF_CURRENCY_CODE:'NOK'),"ne":const k(NAME:"ne",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'\u0966',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'NPR'),"nl":const k(NAME:"nl",DECIMAL_SEP:',',GROUP_SEP:'.',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4\u00A0#,##0.00;\u00A4\u00A0#,##0.00-',DEF_CURRENCY_CODE:'EUR'),"no":const k(NAME:"no",DECIMAL_SEP:',',GROUP_SEP:'\u00A0',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'\u2212',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0\u00A0%',CURRENCY_PATTERN:'\u00A4\u00A0#,##0.00',DEF_CURRENCY_CODE:'NOK'),"no_NO":const k(NAME:"no_NO",DECIMAL_SEP:',',GROUP_SEP:'\u00A0',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'\u2212',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0\u00A0%',CURRENCY_PATTERN:'\u00A4\u00A0#,##0.00',DEF_CURRENCY_CODE:'NOK'),"or":const k(NAME:"or",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##,##0%',CURRENCY_PATTERN:'\u00A4\u00A0#,##,##0.00',DEF_CURRENCY_CODE:'INR'),"pa":const k(NAME:"pa",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##,##0%',CURRENCY_PATTERN:'\u00A4#,##,##0.00',DEF_CURRENCY_CODE:'INR'),"pl":const k(NAME:"pl",DECIMAL_SEP:',',GROUP_SEP:'\u00A0',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'PLN'),"pt":const k(NAME:"pt",DECIMAL_SEP:',',GROUP_SEP:'.',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'BRL'),"pt_BR":const k(NAME:"pt_BR",DECIMAL_SEP:',',GROUP_SEP:'.',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'BRL'),"pt_PT":const k(NAME:"pt_PT",DECIMAL_SEP:',',GROUP_SEP:'\u00A0',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'EUR'),"ro":const k(NAME:"ro",DECIMAL_SEP:',',GROUP_SEP:'.',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0\u00A0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'RON'),"ru":const k(NAME:"ru",DECIMAL_SEP:',',GROUP_SEP:'\u00A0',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'\u043D\u0435\u00A0\u0447\u0438\u0441\u043B\u043E',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0\u00A0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'RUB'),"si":const k(NAME:"si",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'LKR'),"sk":const k(NAME:"sk",DECIMAL_SEP:',',GROUP_SEP:'\u00A0',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0\u00A0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'EUR'),"sl":const k(NAME:"sl",DECIMAL_SEP:',',GROUP_SEP:'.',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'e',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'EUR'),"sq":const k(NAME:"sq",DECIMAL_SEP:',',GROUP_SEP:'\u00A0',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'ALL'),"sr":const k(NAME:"sr",DECIMAL_SEP:',',GROUP_SEP:'.',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'RSD'),"sv":const k(NAME:"sv",DECIMAL_SEP:',',GROUP_SEP:'\u00A0',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'\u2212',EXP_SYMBOL:'\u00D710^',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'\u00A4\u00A4\u00A4',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0\u00A0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'SEK'),"sw":const k(NAME:"sw",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'TZS'),"ta":const k(NAME:"ta",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##,##0%',CURRENCY_PATTERN:'\u00A4\u00A0#,##,##0.00',DEF_CURRENCY_CODE:'INR'),"te":const k(NAME:"te",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'INR'),"th":const k(NAME:"th",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'THB'),"tl":const k(NAME:"tl",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'PHP'),"tr":const k(NAME:"tr",DECIMAL_SEP:',',GROUP_SEP:'.',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'%#,##0',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'TRY'),"uk":const k(NAME:"uk",DECIMAL_SEP:',',GROUP_SEP:'\u00A0',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'\u0415',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'\u041D\u0435\u00A0\u0447\u0438\u0441\u043B\u043E',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'UAH'),"ur":const k(NAME:"ur",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'\u200E+',MINUS_SIGN:'\u200E-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00\u200E',DEF_CURRENCY_CODE:'PKR'),"uz":const k(NAME:"uz",DECIMAL_SEP:',',GROUP_SEP:'\u00A0',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4\u00A0#,##0.00',DEF_CURRENCY_CODE:'UZS'),"vi":const k(NAME:"vi",DECIMAL_SEP:',',GROUP_SEP:'.',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'#,##0.00\u00A0\u00A4',DEF_CURRENCY_CODE:'VND'),"zh":const k(NAME:"zh",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4\u00A0#,##0.00',DEF_CURRENCY_CODE:'CNY'),"zh_CN":const k(NAME:"zh_CN",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4\u00A0#,##0.00',DEF_CURRENCY_CODE:'CNY'),"zh_HK":const k(NAME:"zh_HK",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'\u975E\u6578\u503C',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'HKD'),"zh_TW":const k(NAME:"zh_TW",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'\u975E\u6578\u503C',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'TWD'),"zu":const k(NAME:"zu",DECIMAL_SEP:'.',GROUP_SEP:',',PERCENT:'%',ZERO_DIGIT:'0',PLUS_SIGN:'+',MINUS_SIGN:'-',EXP_SYMBOL:'E',PERMILL:'\u2030',INFINITY:'\u221E',NAN:'I-NaN',DECIMAL_PATTERN:'#,##0.###',SCIENTIFIC_PATTERN:'#E0',PERCENT_PATTERN:'#,##0%',CURRENCY_PATTERN:'\u00A4#,##0.00',DEF_CURRENCY_CODE:'ZAR')};class k{final String NAME;final String DECIMAL_SEP;final String GROUP_SEP;final String PERCENT;final String ZERO_DIGIT;final String PLUS_SIGN;final String MINUS_SIGN;final String EXP_SYMBOL;final String PERMILL;final String INFINITY;final String NAN;final String DECIMAL_PATTERN;final String SCIENTIFIC_PATTERN;final String PERCENT_PATTERN;final String CURRENCY_PATTERN;final String DEF_CURRENCY_CODE;const k({this.NAME,this.DECIMAL_SEP,this.GROUP_SEP,this.PERCENT,this.ZERO_DIGIT,this.PLUS_SIGN,this.MINUS_SIGN,this.EXP_SYMBOL,this.PERMILL,this.INFINITY,this.NAN,this.DECIMAL_PATTERN,this.SCIENTIFIC_PATTERN,this.PERCENT_PATTERN,this.CURRENCY_PATTERN,this.DEF_CURRENCY_CODE});toString()=>NAME;}nE qt(String A,String B,String C,String D,List<String> G,Map<String,String> I,J,Function K,HG N,{bool negatable,bool splitCommas,bool hide: false}){return new nE.wBB(A,B,C,D,G,I,J,K,N,negatable:negatable,splitCommas:splitCommas,hide:hide);}class nE{final String name;final String vL;final List<String> bT;final BF;final Function callback;final String help;final String Mh;final Map<String,String> KQ;final HG type;final bool negatable;final bool xs;final bool hide;bool get pK=>type==HG.Xh;bool get Vr=>type==HG.Ka;nE.wBB(this.name,this.vL,this.help,this.Mh,List<String> A,Map<String,String> B,this.BF,this.callback,HG C,{this.negatable,bool splitCommas,this.hide: false}):this.bT=A==null?null:new UnmodifiableListView(A),this.KQ=B==null?null:new UnmodifiableMapView(B),this.type=C,this.xs=splitCommas==null?C==HG.Ka:splitCommas{if(name.isEmpty){throw new ArgumentError('Name cannot be empty.');}else if(name.startsWith('-')){throw new ArgumentError('Name ${name} cannot start with "-".');}if(Wh.hasMatch(name)){throw new ArgumentError('Name "${name}" contains invalid characters.');}if(vL!=null){if(vL.length!=1){throw new ArgumentError('Abbreviation must be null or have length 1.');}else if(vL=='-'){throw new ArgumentError('Abbreviation cannot be "-".');}if(Wh.hasMatch(vL)){throw new ArgumentError('Abbreviation is an invalid character.');}}}dynamic Fr(A){if(A!=null)return A;if(!Vr)return BF;if(BF!=null)return [BF];return [] ;}static final Wh=new RegExp(r'''[ \t\r\n"'\\/]''');}class HG{static const Xh=const HG.xBB("OptionType.FLAG");static const rt=const HG.xBB("OptionType.SINGLE");static const Ka=const HG.xBB("OptionType.MULTIPLE");final String name;const HG.xBB(this.name);}final st=new RegExp(r'^-([a-zA-Z0-9])$');final tt=new RegExp(r'^-([a-zA-Z0-9]+)(.*)$');final ut=new RegExp(r'^--([a-zA-Z\-_0-9]+)(=(.*))?$');class QR{final String Iq;final QR parent;final JH dJ;final List<String> PE;final eG=<String>[] ;final Map<String,dynamic> results=<String,dynamic>{};QR(this.Iq,this.dJ,this.PE,[this.parent,List<String> A]){if(A!=null)this.eG.addAll(A);}String get current=>PE[0];sJ KE(){var D=PE.toList();var B=null;while(PE.length>0){if(current=='--'){PE.removeAt(0);break;}var C=dJ.Jq[current];if(C!=null){IH(eG.isEmpty,'Cannot specify arguments before a command.');var G=PE.removeAt(0);var I=new QR(G,C,PE,this,eG);B=I.KE();eG.clear();break;}if(Ns())continue;if(Es(this))continue;if(cg())continue;if(!dJ.up)break;eG.add(PE.removeAt(0));}dJ.yK.forEach((J,A){if(A.callback==null)return;A.callback(A.Fr(results[J]));});eG.addAll(PE);PE.clear();return pt(dJ,results,Iq,B,eG,D);}void bs(nE A){IH(PE.length>0,'Missing argument for "${A.name}".');setOption(results,A,current);PE.removeAt(0);}bool Ns(){var B=st.firstMatch(current);if(B==null)return false;var A=dJ.YY(B[1]);if(A==null){IH(parent!=null,'Could not find an option or flag "-${B[1]}".');return parent.Ns();}PE.removeAt(0);if(A.pK){gZ(results,A,true);}else{bs(A);}return true;}bool Es(QR G){var A=tt.firstMatch(current);if(A==null)return false;var B=A[1].substring(0,1);var D=dJ.YY(B);if(D==null){IH(parent!=null,'Could not find an option with short name "-${B}".');return parent.Es(G);}else if(!D.pK){var I='${A[1].substring(1)}${A[2]}';setOption(results,D,I);}else{IH(A[2]=='','Option "-${B}" is a flag and cannot handle value ' '"${A[1].substring(1)}${A[2]}".');for(var C=0;C<A[1].length;C++ ){var B=A[1].substring(C,C+1);G.Ms(B);}}PE.removeAt(0);return true;}void Ms(String A){var B=dJ.YY(A);if(B==null){IH(parent!=null,'Could not find an option with short name "-${A}".');parent.Ms(A);return;}IH(B.pK,'Option "-${A}" must be a flag to be in a collapsed "-".');gZ(results,B,true);}bool cg(){var C=ut.firstMatch(current);if(C==null)return false;var A=C[1];var B=dJ.yK[A];if(B!=null){PE.removeAt(0);if(B.pK){IH(C[3]==null,'Flag option "${A}" should not be given a value.');gZ(results,B,true);}else if(C[3]!=null){setOption(results,B,C[3]);}else{bs(B);}}else if(A.startsWith('no-')){A=A.substring('no-'.length);B=dJ.yK[A];if(B==null){IH(parent!=null,'Could not find an option named "${A}".');return parent.cg();}PE.removeAt(0);IH(B.pK,'Cannot negate non-flag option "${A}".');IH(B.negatable,'Cannot negate option "${A}".');gZ(results,B,false);}else{IH(parent!=null,'Could not find an option named "${A}".');return parent.cg();}return true;}void IH(bool A,String B){if(!A)throw new FormatException(B);}void setOption(Map C,nE A,String B){assert(!A.pK);if(!A.Vr){COB(A,B);C[A.name]=B;return;}var D=C.putIfAbsent(A.name,()=><String>[] );if(A.xs){for(var G in B.split(",")){COB(A,G);D.add(G);}}else{COB(A,B);D.add(B);}}void gZ(Map B,nE A,bool C){assert(A.pK);B[A.name]=C;}void COB(nE A,String B){if(A.bT==null)return;IH(A.bT.contains(B),'"${B}" is not an allowed value for option "${A.name}".');}}class Ud extends KJ{final Function DOB;Ud(A,this.DOB):super(A);xC FC(oD B){var A=EOB.FC(B);if(A.hI){return A.EG(DOB(A.value));}else{return A;}}bool DF(l A){return A is Ud&&super.DF(A)&&DOB==A.DOB;}}class vn extends KJ{l FOB;l GOB;vn(A,this.FOB,this.GOB):super(A);xC FC(oD C){var A=C;do{A=FOB.FC(A);}while((A as xC).hI);var B=EOB.FC(A);if(B.eJ){return B;}A=B;do{A=GOB.FC(A);}while((A as xC).hI);return A.EG(B.value);}List<l> get p=>[EOB,FOB,GOB];void replace(l A,l B){super.replace(A,B);if(FOB==A){FOB=B;}if(GOB==A){GOB=B;}}}class zn extends KJ{zn(A):super(A);xC FC(oD A){var B=EOB.FC(A);if(B.hI){var C=A.buffer is String?A.buffer.substring(A.position,B.position):A.buffer.sublist(A.position,B.position);return B.EG(C);}else{return B;}}}class Eo extends KJ{Eo(A):super(A);xC FC(oD B){var A=EOB.FC(B);if(A.hI){var C=new iS(A.value,B.buffer,B.position,A.position);return A.EG(C);}else{return A;}}}class SN extends l{final LJ HOB;final String IOB;SN(this.HOB,this.IOB);xC FC(oD A){var C=A.buffer;var B=A.position;if(B<C.length&&HOB.test(C.codeUnitAt(B))){return A.EG(C[B],B+1);}return A.bJ(IOB);}String toString()=>'${super.toString()}[${IOB}]';bool DF(l A){return A is SN&&super.DF(A)&&HOB==A.HOB&&IOB==A.IOB;}}abstract class LJ{}class xn implements LJ{final LJ Us;xn(this.Us);bool test(int A)=>!Us.test(A);}LJ J5(Iterable<bP> K){var I=new List.from(K,growable:false);I.sort((C,D){return C.start!=D.start?C.start-D.start:C.stop-D.stop;});var A=new List();for(var B in I){if(A.isEmpty){A.add(B);}else{var J=A.last;if(J.stop+1>=B.start){var N=new bP(J.start,B.stop);A[A.length-1]=N;}else{A.add(B);}}}if(A.length==1){return A[0].start==A[0].stop?new ed(A[0].start):A[0];}else{return new Ho(A.length,A.map((G)=>G.start).toList(growable:false) as List<int>,A.map((G)=>G.stop).toList(growable:false) as List<int>);}}l pD(A,[String B]){return new SN(new ed(kS(A)),B!=null?B:'"${A}" expected');}class ed implements LJ{final int value;const ed(this.value);bool test(int A)=>identical(this.value,A);}l M5([String A]){return new SN(N5,A!=null?A:'digit expected');}class Fo implements LJ{const Fo();bool test(int A)=>48<=A&&A<=57;}const N5=const Fo();l IX(String A,[String B]){return new SN(P5.KE(A).value,B!=null?B:'[${A}] expected');}l O5(){var B=HK().map((A)=>new bP(kS(A),kS(A)));var C=HK().cB(pD('-')).cB(HK()).map((A)=>new bP(kS(A[0]),kS(A[2])));var D=C.uD(B).fU().map((A)=>J5(A as Iterable<bP>));return pD('^').xQ().cB(D).map((A)=>A[0]==null?A[1]:new xn(A[1]));}final P5=O5();class Ho implements LJ{final int length;final List<int> ys;final List<int> At;Ho(this.length,this.ys,this.At);bool test(int D){var A=0;var B=length;while(A<B){var C=A+((B-A)>>1);var G=ys[C]-D;if(G==0){return true;}else if(G<0){A=C+1;}else{B=C;}}return 0<A&&D<=At[A-1];}}class bP implements LJ{final int start;final int stop;bP(this.start,this.stop);bool test(int A)=>start<=A&&A<=stop;}l fd([String A]){return new SN(Q5,A!=null?A:'whitespace expected');}class Io implements LJ{const Io();bool test(int A){if(A<256){return A==0x09||A==0x0A||A==0x0B||A==0x0C||A==0x0D||A==0x20||A==0x85||A==0xA0;}else{return A==0x1680||A==0x180E||A==0x2000||A==0x2001||A==0x2002||A==0x2003||A==0x2004||A==0x2005||A==0x2006||A==0x2007||A==0x2008||A==0x2009||A==0x200A||A==0x2028||A==0x2029||A==0x202F||A==0x205F||A==0x3000||A==0xFEFF;}}}const Q5=const Io();l R5([String A]){return new SN(S5,A!=null?A:'letter or digit expected');}class Jo implements LJ{const Jo();bool test(int A)=>(65<=A&&A<=90)||(97<=A&&A<=122)||(48<=A&&A<=57)||(A==95);}const S5=const Jo();int kS(A){if(A is num){return A.round();}var B=A.toString();if(B.length!=1){throw new ArgumentError('${B} is not a character');}return B.codeUnitAt(0);}class KJ extends l{l EOB;KJ(this.EOB);xC FC(oD A){return EOB.FC(A);}List<l> get p=>[EOB];void replace(l A,l B){super.replace(A,B);if(EOB==A){EOB=B;}}}class Wd extends KJ{final String IOB;Wd(A,this.IOB):super(A);xC FC(oD B){var A=EOB.FC(B);if(A.eJ||A.position==A.buffer.length){return A;}return A.bJ(IOB,A.position);}String toString()=>'${super.toString()}[${IOB}]';bool DF(l A){return A is Wd&&super.DF(A)&&IOB==A.IOB;}}class Zd extends KJ{final String IOB;Zd(A,this.IOB):super(A);xC FC(oD A){var B=EOB.FC(A);if(B.eJ){return A.EG(null);}else{return A.bJ(IOB);}}String toString()=>'${super.toString()}[${IOB}]';bool DF(l A){return A is Zd&&super.DF(A)&&IOB==A.IOB;}}class cd extends KJ{final JOB;cd(A,this.JOB):super(A);xC FC(oD A){var B=EOB.FC(A);if(B.hI){return B;}else{return A.EG(JOB);}}bool DF(l A){return A is cd&&super.DF(A)&&JOB==A.JOB;}}abstract class dd extends l{final List<l> KOB;dd(this.KOB);List<l> get p=>KOB;void replace(l B,l C){super.replace(B,C);for(var A=0;A<KOB.length;A++ ){if(KOB[A]==B){KOB[A]=C;}}}}class jS extends dd{factory jS(Iterable<l> A){return new jS.dCB(new List.from(A,growable:false));}jS.dCB(List<l> A):super(A);xC FC(oD C){var A;for(var B=0;B<KOB.length;B++ ){A=KOB[B].FC(C);if(A.hI){return A;}}return A;}l uD(l A){return new jS(new List()..addAll(KOB)..add(A));}}class UN extends dd{factory UN(Iterable<l> A){return new UN.eCB(new List.from(A,growable:false));}UN.eCB(List<l> A):super(A);xC FC(oD G){var C=G;var D=new List(KOB.length);for(var A=0;A<KOB.length;A++ ){var B=KOB[A].FC(C);if(B.eJ){return B;}D[A]=B.value;C=B;}return C.EG(D);}l cB(l A){return new UN(new List()..addAll(KOB)..add(A));}}class oD{const oD(this.buffer,this.position);final buffer;final int position;xC EG(B,[int A]){return new yn(buffer,A==null?this.position:A,B);}xC bJ(String B,[int A]){return new Xd(buffer,A==null?this.position:A,B);}String toString()=>'Context[${pZ()}]';String pZ()=>iS.Do(buffer,position);}abstract class xC extends oD{const xC(A,B):super(A,B);bool get hI=>false;bool get eJ=>false;get value;String get message;}class yn extends xC{const yn(A,B,this.value):super(A,B);bool get hI=>true;final value;String get message=>null;String toString()=>'Success[${pZ()}]: ${value}';}class Xd extends xC{const Xd(A,B,this.message):super(A,B);bool get eJ=>true;get value=>throw new ad(this);final String message;String toString()=>'Failure[${pZ()}]: ${message}';}class ad extends Error{final Xd bJ;ad(this.bJ);String toString()=>'${bJ.message} at ${bJ.pZ()}';}abstract class Ao{const Ao();l start();l AC(Function A,[B,C,D,G,I,J]){var K=[B,C,D,G,I,J].takeWhile((N)=>N!=null).toList(growable:false);return new MJ(A,K);}l f7({Function start: null,List arguments: const[] }){return LOB(new MJ(start!=null?start:this.start,arguments));}l LOB(MJ C){var I=new Map();l J(MJ C){var A=I[C];if(A==null){var D=[C];A=C.resolve();while(A is MJ){if(D.contains(A)){throw new StateError('Recursive references detected: ${D}');}D.add(A);A=A.resolve();}for(var R in D){I[R]=A;}}return A;}var G=[J(C)];var K=new Set.from(G);while(G.isNotEmpty){var N=G.removeLast();for(var B in N.p){if(B is MJ){var P=J(B);N.replace(B,P);B=P;}if(!K.contains(B)){K.add(B);G.add(B);}}}return I[C];}}class MJ extends l{final Function function;final List arguments;MJ(this.function,this.arguments);l resolve()=>Function.apply(function,arguments);bool operator==(A){if(A is!MJ||A.function!=function||A.arguments.length!=arguments.length){return false;}for(var B=0;B<arguments.length;B++ ){var C=arguments[B],D=A.arguments[B];if(C is l&&C is!MJ&&D is l&&D is!MJ){if(!C.Sr(D)){return false;}}else{if(C!=D){return false;}}}return true;}int get hashCode=>function.hashCode;xC FC(oD A)=>throw new UnsupportedError('References cannot be parsed.');}abstract class l{xC FC(oD A);xC KE(A){return FC(new oD(A,0));}bool i(A){return KE(A).hI;}Iterable G_(B){var A=new List();map((C)=>A.add(C)).uD(HK()).cO().KE(B);return A;}l xQ([A])=>new cd(this,A);l cO()=>ks(0,TN);l rU(l A)=>z$(A,0,TN);l fU()=>ks(1,TN);l ks(int A,int B){return new wn(this,A,B);}l z$(l A,int B,int C){return new Go(this,A,B,C);}l cB(l A)=>new UN([this,A]);l operator&(l A)=>this.cB(A);l uD(l A)=>new jS([this,A]);l operator|(l A)=>this.uD(A);l RU([String A])=>new Zd(this,A);l JM()=>new zn(this);l token()=>new Eo(this);l trim([l A,l B]){if(A==null)A=fd();if(B==null)B=A;return new vn(this,A,B);}l end([String A='end of input expected']){return new Wd(this,A);}Yd ws()=>new Yd(this);l map(Function A)=>new Ud(this,A);l BR(int A){return this.map((List B){return B[A<0?B.length+A:A];});}l MAB(l B,{bool includeSeparators: true,bool optionalSeparatorAtEnd: false}){var D=new UN([B,this]).cO();var I=new UN(optionalSeparatorAtEnd?[this,D,B.xQ(B)]:[this,D]);return I.map((List C){var A=new List();A.add(C[0]);for(var G in C[1]){if(includeSeparators){A.add(G[0]);}A.add(G[1]);}if(includeSeparators&&optionalSeparatorAtEnd&&!identical(C[2],B)){A.add(C[2]);}return A;});}bool Sr(l B,[Set<l> A]){if(A==null){A=new Set();}if(this==B||A.contains(this)){return true;}A.add(this);return runtimeType==B.runtimeType&&DF(B)&&b9(B,A);}bool DF(l A)=>true;bool b9(l D,Set<l> G){var B=p,C=D.p;if(B.length!=C.length){return false;}for(var A=0;A<B.length;A++ ){if(!B[A].Sr(C[A],G)){return false;}}return true;}List<l> get p=>const[] ;void replace(l A,l B){}}class Yd extends KJ{Yd(A):super(A);void set(l A)=>replace(p[0],A);}l HK([String A='input expected']){return new Vd(A);}class Vd extends l{final String IOB;Vd(this.IOB);xC FC(oD A){var B=A.position;var C=A.buffer;return B<C.length?A.EG(C[B],B+1):A.bJ(IOB);}bool DF(l A){return A is Vd&&super.DF(A)&&IOB==A.IOB;}}l bH(String A,[String B]){return L5(A.length,(String C)=>A==C,B!=null?B:'${A} expected');}typedef bool Co(_0);l L5(int A,Co B,String C){return new bd(A,B,C);}class bd extends l{final int MOB;final Co HOB;final String IOB;bd(this.MOB,this.HOB,this.IOB);xC FC(oD A){final C=A.position;final B=C+MOB;if(B<=A.buffer.length){var D=A.buffer is String?A.buffer.substring(C,B):A.buffer.sublist(C,B);if(HOB(D)){return A.EG(D,B);}}return A.bJ(IOB);}String toString()=>'${super.toString()}[${IOB}]';bool DF(l A){return A is bd&&super.DF(A)&&MOB==A.MOB&&HOB==A.HOB&&IOB==A.IOB;}}const int TN=-1;abstract class HX extends KJ{final int NOB;final int OOB;HX(l A,this.NOB,this.OOB):super(A){assert(0<=NOB);assert(OOB==TN||NOB<=OOB);}String toString(){var A=OOB==TN?'*':OOB;return '${super.toString()}[${NOB}..${A}]';}bool DF(l A){return A is HX&&super.DF(A)&&NOB==A.NOB&&OOB==A.OOB;}}class wn extends HX{wn(l A,int B,int C):super(A,B,C);xC FC(oD D){var B=D;var C=new List();while(C.length<NOB){var A=EOB.FC(B);if(A.eJ){return A;}C.add(A.value);B=A;}while(OOB==TN||C.length<OOB){var A=EOB.FC(B);if(A.eJ){return B.EG(C);}C.add(A.value);B=A;}return B.EG(C);}}abstract class Bo extends HX{l POB;Bo(l A,this.POB,int B,int C):super(A,B,C);List<l> get p=>[EOB,POB];void replace(l A,l B){super.replace(A,B);if(POB==A){POB=B;}}}class Go extends Bo{Go(l A,l B,int C,int D):super(A,B,C,D);xC FC(oD G){var B=G;var C=new List();while(C.length<NOB){var A=EOB.FC(B);if(A.eJ){return A;}C.add(A.value);B=A;}while(true){var D=POB.FC(B);if(D.hI){return B.EG(C);}else{if(OOB!=TN&&C.length>=OOB){return D;}var A=EOB.FC(B);if(A.eJ){return D;}C.add(A.value);B=A;}}}}class iS{final value;final buffer;final int start;final int stop;const iS(this.value,this.buffer,this.start,this.stop);get input=>buffer is String?buffer.substring(start,stop):buffer.sublist(start,stop);int get length=>stop-start;String toString()=>'Token[${Do(buffer,start)}]: ${value}';bool operator==(A){return A is iS&&value==A.value&&start==A.start&&stop==A.stop;}int get hashCode=>value.hashCode+start.hashCode+stop.hashCode;static l H5()=>I5;static final l I5=pD('\n')|(pD('\r')&pD('\n').xQ());static List<int> K5(String G,int A){var B=1,C=0;for(var D in H5().token().G_(G)){if(A<D.stop){return [B,A-C+1];}B++ ;C=D.stop;}return [B,A-C+1];}static String Do(A,int B){if(A is String){var C=iS.K5(A,B);return '${C[0]}:${C[1]}';}else{return '${B}';}}}class Yh{static const RR=3;final List Ug;StringBuffer buffer;int DM=0;List<int> OY;int GZ=0;int QU=0;Yh(this.Ug);String fY(){buffer=new StringBuffer();j7();for(var B in Ug){if(B is String){if(buffer.isNotEmpty)buffer.write("\n\n");buffer.write(B);QU=1;continue;}var A=B as nE;if(A.hide)continue;write(0,tq(A));write(1,Br(A));if(A.help!=null)write(2,A.help);if(A.KQ!=null){var C=A.KQ.keys.toList(growable:false);C.sort();Kg();for(var D in C){write(1,uq(D));write(2,A.KQ[D]);}Kg();}else if(A.bT!=null){write(2,g7(A));}else if(A.BF!=null){if(A.pK&&A.BF==true){write(2,'(defaults to on)');}else if(!A.pK){write(2,'(defaults to "${A.BF}")');}}if(GZ>1)Kg();}return buffer.toString();}String tq(nE A){if(A.vL!=null){return '-${A.vL}, ';}else{return '';}}String Br(nE A){var B;if(A.negatable){B='--[no-]${A.name}';}else{B='--${A.name}';}if(A.Mh!=null)B+= "=<${A.Mh}>";return B;}String uq(String A){return '      [${A}]';}void j7(){int C=0;int A=0;for(var B in Ug){if(B is!nE)continue;if(B.hide)continue;C=wH.max(C,tq(B).length);A=wH.max(A,Br(B).length);if(B.KQ!=null){for(var D in B.KQ.keys){A=wH.max(A,uq(D).length);}}}A+= 4;OY=[C,A];}void Kg(){QU++ ;DM=0;GZ=0;}void write(int B,String C){var A=C.split('\n');while(A.length>0&&A[0].trim()==''){A.removeRange(0,1);}while(A.length>0&&A[A.length-1].trim()==''){A.removeLast();}for(var D in A){mBB(B,D);}}void mBB(int A,String B){while(QU>0){buffer.write('\n');QU-- ;}while(DM!=A){if(DM<RR-1){buffer.write(Zh('',OY[DM]));}else{buffer.write('\n');}DM=(DM+1)%RR;}if(A<OY.length){buffer.write(Zh(B,OY[A]));}else{buffer.write(B);}DM=(DM+1)%RR;if(A==RR-1)QU++ ;if(A==RR-1){GZ++ ;}else{GZ=0;}}String g7(nE B){var A=new StringBuffer();A.write('[');bool C=true;for(var D in B.bT){if(!C)A.write(', ');A.write(D);if(D==B.BF){A.write(' (default)');}C=false;}A.write(']');return A.toString();}}String Zh(String B,int C){final A=new StringBuffer();A.write(B);while(A.length<C){A.write(' ');}return A.toString();}class vh<vG,aE> implements Map<vG,aE>{final Map<vG,aE> QOB;const vh(Map<vG,aE> A):QOB=A;aE operator[](Object A)=>QOB[A];void operator[]=(vG A,aE B){QOB[A]=B;}void addAll(Map<vG,aE> A){QOB.addAll(A);}void clear(){QOB.clear();}bool containsKey(Object A)=>QOB.containsKey(A);bool containsValue(Object A)=>QOB.containsValue(A);void forEach(void A(vG key,aE value)){QOB.forEach(A);}bool get isEmpty=>QOB.isEmpty;bool get isNotEmpty=>QOB.isNotEmpty;Iterable<vG> get keys=>QOB.keys;int get length=>QOB.length;aE putIfAbsent(vG A,aE B())=>QOB.putIfAbsent(A,B);aE remove(Object A)=>QOB.remove(A);Iterable<aE> get values=>QOB.values;String toString()=>QOB.toString();}final l a5=new V5().f7();bL b5(String B){var A=a5.KE(B);if(A.eJ){throw new ArgumentError(new ad(A).toString());}return A.value;}abstract class kC<tF,gP> extends Ao{static const No=':A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF' '\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001\uD7FF' '\uF900-\uFDCF\uFDF0-\uFFFD';static const Z5='-.0-9\u00B7\u0300-\u036F\u203F-\u2040${No}';static const lS='"';static const jd="'";static const Ro='=';static const mS=' ';static const So='<!--';static const kd='-->';static const To='<![CDATA[';static const ld=']]>';static const LX='<';static const fP='>';static const md='</';static const MX='/>';static const Uo='<!DOCTYPE';static const Vo='>';static const Wo='[';static const Xo=']';static const Yo='<?';static const nd='?>';tF Nq(gP A,String B);tF Pq(String A);tF Oq(String A);tF Qq(String A);tF Rq(Iterable<tF> A);tF Jf(gP A,Iterable<tF> B,Iterable<tF> C);tF Uq(String A,String B);gP Vq(String A);tF Xq(String A);start()=>AC(UY).end();Z7()=>AC(lJ).cB(AC(pU)).cB(pD(Ro)).cB(AC(pU)).cB(AC(yp)).map((A)=>Nq(A[0] as gP,A[4]));yp()=>AC(a7).uD(AC(b7)).BR(1);a7()=>pD(lS).cB(new KX(lS,0)).cB(pD(lS));b7()=>pD(jd).cB(new KX(jd,0)).cB(pD(jd));kB()=>AC(oU).cB(AC(Z7)).BR(1).cO();Kq()=>bH(So).cB(HK().rU(bH(kd)).JM()).cB(bH(kd)).map((A)=>Pq(A[1]));k7()=>bH(To).cB(HK().rU(bH(ld)).JM()).cB(bH(ld)).map((A)=>Oq(A[1]));A8()=>AC(m7).uD(AC(element)).uD(AC(ig)).uD(AC(Kq)).uD(AC(k7)).cO();a8()=>bH(Uo).cB(AC(oU)).cB(AC(Ig).uD(AC(yp)).uD(HK().rU(pD(Wo)).cB(pD(Wo)).cB(HK().rU(pD(Xo))).cB(pD(Xo))).MAB(AC(oU)).JM()).cB(AC(pU)).cB(pD(Vo)).map((A)=>Qq(A[2]));UY()=>AC(ig).xQ().cB(AC(Cg)).cB(AC(a8).xQ()).cB(AC(Cg)).cB(AC(element)).cB(AC(Cg)).map((A)=>Rq([A[0],A[2],A[4]].where((A)=>A!=null) as Iterable<tF>));element()=>pD(LX).cB(AC(lJ)).cB(AC(kB)).cB(AC(pU)).cB(bH(MX).uD(pD(fP).cB(AC(A8)).cB(bH(md)).cB(AC(lJ)).cB(AC(pU)).cB(pD(fP)))).map((A){if(A[4]==MX){return Jf(A[1] as gP,A[2] as Iterable<tF>,[] );}else{if(A[1]==A[4][3]){return Jf(A[1] as gP,A[2] as Iterable<tF>,A[4][1] as Iterable<tF>);}else{throw new ArgumentError('Expected </${A[1]}>, but found </${A[4][3]}>');}}});ig()=>bH(Yo).cB(AC(Ig)).cB(AC(oU).cB(HK().rU(bH(nd)).JM()).BR(1).xQ('')).cB(bH(nd)).map((A)=>Uq(A[1],A[2]));lJ()=>AC(Ig).map(Vq);m7()=>new KX(LX,1).map(Xq);Cg()=>AC(oU).uD(AC(Kq)).uD(AC(ig)).cO();oU()=>fd().fU();pU()=>fd().cO();Ig()=>AC(S_).cB(AC(R_).cO()).JM();S_()=>IX(No,'Expected name');R_()=>IX(Z5);}class Lo extends IterableBase<eB>{final eB start;Lo(this.start);Iterator<eB> get iterator=>new Po(start);}class Po extends Iterator<eB>{final List<eB> rZ=new List();Po(eB A){Ys(A);}void Ys(eB A){rZ.addAll(A.p.reversed);rZ.addAll(A.kB.reversed);}eB current;bool moveNext(){if(rZ.isEmpty){current=null;return false;}else{current=rZ.removeLast();Ys(current);return true;}}}class IK extends eB implements cL{final sF name;final String value;IK(this.name,this.value){assert(this.name.ROB==null);this.name.ROB=this;}i(MI A)=>A.dt(this);}class VN extends JK{VN(String A):super(A);i(MI A)=>A.Aa(this);}class cP extends JK{cP(String A):super(A);i(MI A)=>A.Ba(this);}abstract class JK extends eB{final String kE;JK(this.kE);}class dP extends JK{dP(String A):super(A);i(MI A)=>A.Ca(this);}class bL extends gd{bL(Iterable<eB> A):super(A);KD get GAB{return p.firstWhere((A)=>A is KD,orElse:()=>throw new StateError('Empty XML document'));}bL get UY=>this;String get kE=>null;i(MI A)=>A.et(this);}class KD extends gd implements cL{final sF name;final List<IK> kB;KD(sF B,Iterable<IK> C,Iterable<eB> D):name=B,kB=C.toList(growable:false),super(D){assert(this.name.ROB==null);this.name.ROB=this;for(var A in this.kB){assert(A.ROB==null);A.ROB=this;}}String cJ(B,{String namespace}){var A=O9(B,namespace:namespace);return A!=null?A.value:null;}IK O9(String A,{String namespace}){return kB.firstWhere(Y5(A,namespace),orElse:()=>null);}i(MI A)=>A.Oh(this);}abstract class eB extends Object with JX,Ko,Mo{List<IK> get kB=>const[] ;List<eB> get p=>const[] ;Iterable<eB> get K8=>new Lo(this);bL get UY=>parent==null?null:parent.UY;eB get kq=>p.isEmpty?null:p.first;String get kE{return K8.where((A)=>A is aL||A is VN).map((A)=>A.kE).join();}}abstract class gd extends eB{final List<eB> p;gd(Iterable<eB> B):p=B.toList(growable:false){for(var A in this.p){assert(A.ROB==null);A.ROB=this;}}}class eP extends JK{final String target;eP(this.target,String A):super(A);i(MI A)=>A.Ea(this);}class aL extends JK{aL(String A):super(A);i(MI A)=>A.Ga(this);}class V5 extends kC<eB,sF>{IK Nq(sF A,String B)=>new IK(A,B);cP Pq(String A)=>new cP(A);VN Oq(String A)=>new VN(A);dP Qq(String A)=>new dP(A);bL Rq(Iterable<eB> A)=>new bL(A);KD Jf(sF A,Iterable<eB> B,Iterable<eB> C){return new KD(A,B,C);}eP Uq(String A,String B)=>new eP(A,B);sF Vq(String A)=>new sF.fCB(A);aL Xq(String A)=>new aL(A);}abstract class Mo{eB ROB;eB get parent=>ROB;eB get sH=>parent==null?this:parent.sH;}final T5=IX('xX').cB(IX('A-Fa-f0-9').fU().JM().map((A){return new String.fromCharCode(int.parse(A,radix:16));})).BR(1);final X5=pD('#').cB(T5.uD(M5().fU().JM().map((A){return new String.fromCharCode(int.parse(A));}))).BR(1);final Qo=pD('&').cB(X5.uD(R5().fU().JM().map((A){return c5[A];}))).cB(pD(';')).BR(1);class KX extends l{final String SOB;final int TOB;final int UOB;KX(String A,int B):SOB=A,TOB=A.codeUnitAt(0),UOB=B;xC FC(oD B){var D=B.buffer;var K=D.length;var C=new StringBuffer();var A=B.position;var I=A;while(A<K){var J=D.codeUnitAt(A);if(J==TOB){break;}else if(J==38){var G=Qo.FC(B.EG(null,A));if(G.hI&&G.value!=null){C.write(D.substring(I,A));C.write(G.value);A=G.position;I=A;}else{A++ ;}}else{A++ ;}}C.write(D.substring(I,A));return C.length<UOB?B.bJ('Unable to parse chracter data.'):B.EG(C.toString(),A);}List<l> get p=>[Qo];}final Map<String,String> c5=const{'lt':'<','gt':'>','amp':'&','apos':"'",'quot':'"','Aacute':'\u00C1','aacute':'\u00E1','Acirc':'\u00C2','acirc':'\u00E2','acute':'\u00B4','AElig':'\u00C6','aelig':'\u00E6','Agrave':'\u00C0','agrave':'\u00E0','alefsym':'\u2135','Alpha':'\u0391','alpha':'\u03B1','and':'\u2227','ang':'\u2220','Aring':'\u00C5','aring':'\u00E5','asymp':'\u2248','Atilde':'\u00C3','atilde':'\u00E3','Auml':'\u00C4','auml':'\u00E4','bdquo':'\u201E','Beta':'\u0392','beta':'\u03B2','brvbar':'\u00A6','bull':'\u2022','cap':'\u2229','Ccedil':'\u00C7','ccedil':'\u00E7','cedil':'\u00B8','cent':'\u00A2','Chi':'\u03A7','chi':'\u03C7','circ':'\u02C6','clubs':'\u2663','cong':'\u2245','copy':'\u00A9','crarr':'\u21B5','cup':'\u222A','curren':'\u00A4','dagger':'\u2020','Dagger':'\u2021','darr':'\u2193','dArr':'\u21D3','deg':'\u00B0','Delta':'\u0394','delta':'\u03B4','diams':'\u2666','divide':'\u00F7','Eacute':'\u00C9','eacute':'\u00E9','Ecirc':'\u00CA','ecirc':'\u00EA','Egrave':'\u00C8','egrave':'\u00E8','empty':'\u2205','emsp':'\u2003','ensp':'\u2002','Epsilon':'\u0395','epsilon':'\u03B5','equiv':'\u2261','Eta':'\u0397','eta':'\u03B7','ETH':'\u00D0','eth':'\u00F0','Euml':'\u00CB','euml':'\u00EB','euro':'\u20AC','exist':'\u2203','fnof':'\u0192','forall':'\u2200','frac12':'\u00BD','frac14':'\u00BC','frac34':'\u00BE','frasl':'\u2044','Gamma':'\u0393','gamma':'\u03B3','ge':'\u2265','harr':'\u2194','hArr':'\u21D4','hearts':'\u2665','hellip':'\u2026','Iacute':'\u00CD','iacute':'\u00ED','Icirc':'\u00CE','icirc':'\u00EE','iexcl':'\u00A1','Igrave':'\u00CC','igrave':'\u00EC','image':'\u2111','infin':'\u221E','int':'\u222B','Iota':'\u0399','iota':'\u03B9','iquest':'\u00BF','isin':'\u2208','Iuml':'\u00CF','iuml':'\u00EF','Kappa':'\u039A','kappa':'\u03BA','Lambda':'\u039B','lambda':'\u03BB','lang':'\u2329','laquo':'\u00AB','larr':'\u2190','lArr':'\u21D0','lceil':'\u2308','ldquo':'\u201C','le':'\u2264','lfloor':'\u230A','lowast':'\u2217','loz':'\u25CA','lrm':'\u200E','lsaquo':'\u2039','lsquo':'\u2018','macr':'\u00AF','mdash':'\u2014','micro':'\u00B5','middot':'\u00B7','minus':'\u2212','Mu':'\u039C','mu':'\u03BC','nabla':'\u2207','nbsp':'\u00A0','ndash':'\u2013','ne':'\u2260','ni':'\u220B','not':'\u00AC','notin':'\u2209','nsub':'\u2284','Ntilde':'\u00D1','ntilde':'\u00F1','Nu':'\u039D','nu':'\u03BD','Oacute':'\u00D3','oacute':'\u00F3','Ocirc':'\u00D4','ocirc':'\u00F4','OElig':'\u0152','oelig':'\u0153','Ograve':'\u00D2','ograve':'\u00F2','oline':'\u203E','Omega':'\u03A9','omega':'\u03C9','Omicron':'\u039F','omicron':'\u03BF','oplus':'\u2295','or':'\u2228','ordf':'\u00AA','ordm':'\u00BA','Oslash':'\u00D8','oslash':'\u00F8','Otilde':'\u00D5','otilde':'\u00F5','otimes':'\u2297','Ouml':'\u00D6','ouml':'\u00F6','para':'\u00B6','part':'\u2202','permil':'\u2030','perp':'\u22A5','Phi':'\u03A6','phi':'\u03C6','Pi':'\u03A0','pi':'\u03C0','piv':'\u03D6','plusmn':'\u00B1','pound':'\u00A3','prime':'\u2032','Prime':'\u2033','prod':'\u220F','prop':'\u221D','Psi':'\u03A8','psi':'\u03C8','radic':'\u221A','rang':'\u232A','raquo':'\u00BB','rarr':'\u2192','rArr':'\u21D2','rceil':'\u2309','rdquo':'\u201D','real':'\u211C','reg':'\u00AE','rfloor':'\u230B','Rho':'\u03A1','rho':'\u03C1','rlm':'\u200F','rsaquo':'\u203A','rsquo':'\u2019','sbquo':'\u201A','Scaron':'\u0160','scaron':'\u0161','sdot':'\u22C5','sect':'\u00A7','shy':'\u00AD','Sigma':'\u03A3','sigma':'\u03C3','sigmaf':'\u03C2','sim':'\u223C','spades':'\u2660','sub':'\u2282','sube':'\u2286','sum':'\u2211','sup':'\u2283','sup1':'\u00B9','sup2':'\u00B2','sup3':'\u00B3','supe':'\u2287','szlig':'\u00DF','Tau':'\u03A4','tau':'\u03C4','there4':'\u2234','Theta':'\u0398','theta':'\u03B8','thetasym':'\u03D1','thinsp':'\u2009','THORN':'\u00DE','thorn':'\u00FE','tilde':'\u02DC','times':'\u00D7','trade':'\u2122','Uacute':'\u00DA','uacute':'\u00FA','uarr':'\u2191','uArr':'\u21D1','Ucirc':'\u00DB','ucirc':'\u00FB','Ugrave':'\u00D9','ugrave':'\u00F9','uml':'\u00A8','upsih':'\u03D2','Upsilon':'\u03A5','upsilon':'\u03C5','Uuml':'\u00DC','uuml':'\u00FC','weierp':'\u2118','Xi':'\u039E','xi':'\u03BE','Yacute':'\u00DD','yacute':'\u00FD','yen':'\u00A5','yuml':'\u00FF','Yuml':'\u0178','Zeta':'\u0396','zeta':'\u03B6','zwj':'\u200D','zwnj':'\u200C'};String d5(String A){return A.replaceAllMapped(e5,(B){return B.group(0)=='<'?'&lt;':'&amp;';});}final Pattern e5=new RegExp(r'[&<]');String f5(String A){return A.replaceAllMapped(g5,(B){switch (B.group(0)){case '"':return '&quot;';case '&':return '&amp;';case '<':return '&lt;';}});}final Pattern g5=new RegExp(r'["&<]');final U5=':';final Oo='xmlns';abstract class sF extends Object with JX,Ko,Mo{String get kI;String get aG;String get lJ;String get pQ;factory sF.fCB(String A){var B=A.indexOf(U5);if(B>0){var C=A.substring(0,B);var D=A.substring(B+1,A.length);return new ao(C,D,A);}else{return new Zo(A);}}sF.gCB();i(MI A)=>A.ft(this);bool operator==(A)=>A is sF&&A.aG==aG&&A.pQ==pQ;int get hashCode=>lJ.hashCode;}class Zo extends sF{String get kI=>null;final String aG;String get lJ=>aG;String get pQ{for(var A=parent;A!=null;A=A.parent){for(var B in A.kB){if(B.name.kI==null&&B.name.aG==Oo){return B.value;}}}return null;}Zo(this.aG):super.gCB();}class ao extends sF{final String kI;final String aG;final String lJ;String get pQ{for(var A=parent;A!=null;A=A.parent){for(var B in A.kB){if(B.name.kI==Oo&&B.name.aG==kI){return B.value;}}}return null;}ao(this.kI,this.aG,this.lJ):super.gCB();}abstract class cL{}typedef bool W5(cL _0);W5 Y5(String C,String B){if(C==null){throw new ArgumentError('Illegal name matcher.');}else if(C=='*'){if(B==null||B=='*'){return (cL A)=>true;}else{return (cL A)=>A.name.pQ==B;}}else{if(B==null){return (cL A)=>A.name.lJ==C;}else if(B=='*'){return (cL A)=>A.name.aG==C;}else{return (cL A)=>A.name.aG==C&&A.name.pQ==B;}}}abstract class Ko implements JX{void oBB(StringBuffer A){new hd(A).DL(this);}void nBB(StringBuffer A,int B,String C){new bo(A,B,C).DL(this);}String toString()=>gAB();String gAB({bool pretty: false,String indent: '  '}){var A=new StringBuffer();if(pretty){nBB(A,0,indent);}else{oBB(A);}return A.toString();}}abstract class JX{i(MI A);}abstract class MI<NI>{NI DL(JX A)=>A.i(this) as NI;NI ft(sF A);NI dt(IK A);NI et(bL A);NI Oh(KD A);NI Aa(VN A);NI Ba(cP A);NI Ca(dP A);NI Ea(eP A);NI Ga(aL A);}class hd extends MI{final StringBuffer buffer;hd(this.buffer);dt(IK A){DL(A.name);buffer.write(kC.Ro);buffer.write(kC.lS);buffer.write(f5(A.value));buffer.write(kC.lS);}Aa(VN A){buffer.write(kC.To);buffer.write(A.kE);buffer.write(kC.ld);}Ba(cP A){buffer.write(kC.So);buffer.write(A.kE);buffer.write(kC.kd);}Ca(dP A){buffer.write(kC.Uo);buffer.write(kC.mS);buffer.write(A.kE);buffer.write(kC.Vo);}et(bL A){Vh(A);}Oh(KD A){buffer.write(kC.LX);DL(A.name);jt(A);if(A.p.isEmpty){buffer.write(kC.mS);buffer.write(kC.MX);}else{buffer.write(kC.fP);Vh(A);buffer.write(kC.md);DL(A.name);buffer.write(kC.fP);}}ft(sF A){buffer.write(A.lJ);}Ea(eP A){buffer.write(kC.Yo);buffer.write(A.target);if(A.kE.isNotEmpty){buffer.write(kC.mS);buffer.write(A.kE);}buffer.write(kC.nd);}Ga(aL A){buffer.write(d5(A.kE));}jt(eB A){for(var B in A.kB){buffer.write(kC.mS);DL(B);}}Vh(eB A){for(var B in A.p){DL(B);}}}class bo extends hd{int level=0;final String indent;bo(A,this.level,this.indent):super(A);Aa(VN A){rQ();super.Aa(A);}Ba(cP A){rQ();super.Ba(A);}Ca(dP A){rQ();super.Ca(A);}Oh(KD A){rQ();buffer.write(kC.LX);DL(A.name);jt(A);if(A.p.isEmpty){buffer.write(kC.mS);buffer.write(kC.MX);}else{buffer.write(kC.fP);level++ ;Vh(A);level-- ;if(!A.p.every((B)=>B is aL)){rQ();}buffer.write(kC.md);DL(A.name);buffer.write(kC.fP);}}Ea(eP A){rQ();super.Ea(A);}Ga(aL A){if(A.kE.trim().isNotEmpty){super.Ga(A);}}void rQ(){if(buffer.isNotEmpty){buffer.writeln();}for(int A=0;A<level;A++ ){buffer.write(indent);}}}
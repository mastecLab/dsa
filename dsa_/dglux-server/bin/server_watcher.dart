import "dart:io";import "dart:io" as xU;import "dart:async";import "dart:typed_data";import "dart:collection";import "dart:convert";import "dart:math";import "dart:math" as AH;class KC{final Map<String,rB> gV;final Map<String,KC> hV;final Map<String,rB> BD;final Map<String,KC> zE;final iV=[] ;final bool LN;factory KC({bool allowTrailingOptions: false})=>new KC.yU(<String,rB>{},<String,KC>{},allowTrailingOptions:allowTrailingOptions);KC.yU(Map<String,rB> A,Map<String,KC> B,{bool allowTrailingOptions: false}):this.gV=A,this.BD=new UnmodifiableMapView(A),this.hV=B,this.zE=new UnmodifiableMapView(B),this.LN=allowTrailingOptions!=null?allowTrailingOptions:false;void DJ(String A,{String abbr,String help,String valueHelp,List<String> allowed,Map<String,String> allowedHelp,String defaultsTo,void callback(value),bool allowMultiple: false,bool splitCommas,bool hide: false}){if(!allowMultiple&&splitCommas!=null){throw new ArgumentError('splitCommas may not be set if allowMultiple is false.');}jV(A,abbr,help,valueHelp,allowed,allowedHelp,defaultsTo,callback,allowMultiple?gB.DH:gB.NP,splitCommas:splitCommas,hide:hide);}void jV(String A,String B,String G,String I,List<String> J,Map<String,String> M,S,void W(value),gB b,{bool negatable: false,bool splitCommas,bool hide: false}){if(gV.containsKey(A)){throw new ArgumentError('Duplicate option "${A}".');}if(B!=null){var C=iG(B);if(C!=null){throw new ArgumentError('Abbreviation "${B}" is already used by "${C.name}".');}}var D=LP(A,B,G,I,J,M,S,W,b,negatable:negatable,splitCommas:splitCommas,hide:hide);gV[A]=D;iV.add(D);}VD NB(List<String> A)=>new OE(null,this,A.toList()).NB();rB iG(String A){return BD.values.firstWhere((B)=>B.KE==A,orElse:()=>null);}}class MF extends FormatException{final List<String> zE;MF(String B,[Iterable<String> A]):zE=A==null?const[] :new List.unmodifiable(A),super(B);}VD KP(KC A,Map<String,dynamic> B,String C,VD D,List<String> G,List<String> I){return new VD.zU(A,B,C,D,G,I);}class VD{final KC kV;final Map<String,dynamic> lV;final String name;final VD xT;final List<String> eC;final List<String> arguments;VD.zU(this.kV,this.lV,this.name,this.xT,List<String> A,List<String> B):this.eC=new UnmodifiableListView(A),this.arguments=new UnmodifiableListView(B);operator[](String A){if(!kV.BD.containsKey(A)){throw new ArgumentError('Could not find an option named "${A}".');}return kV.BD[A].vN(lV[A]);}Iterable<String> get BD{var A=new Set<String>.from(lV.keys);kV.BD.forEach((B,C){if(C.AF!=null)A.add(B);});return A;}}const iB=0x2e;const AC=0x2f;const YH=0x3a;const uK=0x41;const vK=0x5a;const wK=0x61;const xK=0x7a;const xD=0x5c;const int yJ=0x09;const int EH=0x0A;const int zJ=0x0D;const int RP=0x20;const int FH=0x2B;const int GH=0x2D;const int NF=0x2E;const int FD=0x30;const int OF=0x39;const int TP=0x46;const int UP=0x4E;const int VP=0x54;const int HH=0x61;const int AK=0x66;const int WP=0x6E;const int XP=0x6F;const int YP=0x74;const int ZP=0x78;const int aP=0x7E;abstract class eK{}abstract class PQ{}class WF extends WQ{static const QQ=16;bool mV;List<List<int>> nV;int oV;int pV;int qV;int rV;int sV;void reset(){oV=0;pV=qV=rV=sV=0;mV=false;nV=null;}void init(bool M,eK S){var I=(S as WE).key;int B=(I.lengthInBytes/4).floor();if(((B!=4)&&(B!=6)&&(B!=8))||((B*4)!=I.lengthInBytes)){throw new ArgumentError("Key length must be 128/192/256 bits");}this.mV=M;oV=B+6;nV=new List.generate(oV+1,(int A)=>new List<int>(4));var W=new ByteData.view((S as WE).key.buffer);for(var A=0,J=0;A<I.lengthInBytes;A+= 4,J++ ){var C=YE(W,A,Endianness.LITTLE_ENDIAN);nV[J>>2][J&3]=C;}int b=(oV+1)<<2;for(int A=B;A<b;A++ ){int D=nV[(A-1)>>2][(A-1)&3].toInt();if((A%B)==0){D=fK(XF(D,8))^VQ[((A/B)-1).floor()];}else if((B>6)&&((A%B)==4)){D=fK(D);}var C=nV[(A-B)>>2][(A-B)&3]^D;nV[A>>2][A&3]=C;}if(!M){for(var G=1;G<oV;G++ ){for(var A=0;A<4;A++ ){var C=UQ(nV[G][A].toInt());nV[G][A]=C;}}}}int lU(Uint8List C,int A,Uint8List D,int B){if(nV==null){throw new StateError("AES engine not initialised");}if((A+(32/2))>C.lengthInBytes){throw new ArgumentError("Input buffer too short");}if((B+(32/2))>D.lengthInBytes){throw new ArgumentError("Output buffer too short");}var G=new ByteData.view(C.buffer);var I=new ByteData.view(D.buffer);if(mV){tV(G,A);uV(nV);vV(I,B);}else{tV(G,A);wV(nV);vV(I,B);}return QQ;}void uV(List<List<int>> B){int A,C,D,G,I;pV^= B[0][0].toInt();qV^= B[0][1].toInt();rV^= B[0][2].toInt();sV^= B[0][3].toInt();A=1;while(A<oV-1){C=sB[pV&255]^tB[(qV>>8)&255]^uB[(rV>>16)&255]^vB[(sV>>24)&255]^B[A][0].toInt();D=sB[qV&255]^tB[(rV>>8)&255]^uB[(sV>>16)&255]^vB[(pV>>24)&255]^B[A][1].toInt();G=sB[rV&255]^tB[(sV>>8)&255]^uB[(pV>>16)&255]^vB[(qV>>24)&255]^B[A][2].toInt();I=sB[sV&255]^tB[(pV>>8)&255]^uB[(qV>>16)&255]^vB[(rV>>24)&255]^B[A][3].toInt();A++ ;pV=sB[C&255]^tB[(D>>8)&255]^uB[(G>>16)&255]^vB[(I>>24)&255]^B[A][0].toInt();qV=sB[D&255]^tB[(G>>8)&255]^uB[(I>>16)&255]^vB[(C>>24)&255]^B[A][1].toInt();rV=sB[G&255]^tB[(I>>8)&255]^uB[(C>>16)&255]^vB[(D>>24)&255]^B[A][2].toInt();sV=sB[I&255]^tB[(C>>8)&255]^uB[(D>>16)&255]^vB[(G>>24)&255]^B[A][3].toInt();A++ ;}C=sB[pV&255]^tB[(qV>>8)&255]^uB[(rV>>16)&255]^vB[(sV>>24)&255]^B[A][0].toInt();D=sB[qV&255]^tB[(rV>>8)&255]^uB[(sV>>16)&255]^vB[(pV>>24)&255]^B[A][1].toInt();G=sB[rV&255]^tB[(sV>>8)&255]^uB[(pV>>16)&255]^vB[(qV>>24)&255]^B[A][2].toInt();I=sB[sV&255]^tB[(pV>>8)&255]^uB[(qV>>16)&255]^vB[(rV>>24)&255]^B[A][3].toInt();A++ ;pV=(FB[C&255]&255)^((FB[(D>>8)&255]&255)<<8)^((FB[(G>>16)&255]&255)<<16)^(FB[(I>>24)&255]<<24)^B[A][0].toInt();qV=(FB[D&255]&255)^((FB[(G>>8)&255]&255)<<8)^((FB[(I>>16)&255]&255)<<16)^(FB[(C>>24)&255]<<24)^B[A][1].toInt();rV=(FB[G&255]&255)^((FB[(I>>8)&255]&255)<<8)^((FB[(C>>16)&255]&255)<<16)^(FB[(D>>24)&255]<<24)^B[A][2].toInt();sV=(FB[I&255]&255)^((FB[(C>>8)&255]&255)<<8)^((FB[(D>>16)&255]&255)<<16)^(FB[(G>>24)&255]<<24)^B[A][3].toInt();}void wV(List<List<int>> A){int B,C,D,G,I;pV^= A[oV][0].toInt();qV^= A[oV][1].toInt();rV^= A[oV][2].toInt();sV^= A[oV][3].toInt();B=oV-1;while(B>1){C=wB[pV&255]^xB[(sV>>8)&255]^yB[(rV>>16)&255]^zB[(qV>>24)&255]^A[B][0].toInt();D=wB[qV&255]^xB[(pV>>8)&255]^yB[(sV>>16)&255]^zB[(rV>>24)&255]^A[B][1].toInt();G=wB[rV&255]^xB[(qV>>8)&255]^yB[(pV>>16)&255]^zB[(sV>>24)&255]^A[B][2].toInt();I=wB[sV&255]^xB[(rV>>8)&255]^yB[(qV>>16)&255]^zB[(pV>>24)&255]^A[B][3].toInt();B-- ;pV=wB[C&255]^xB[(I>>8)&255]^yB[(G>>16)&255]^zB[(D>>24)&255]^A[B][0].toInt();qV=wB[D&255]^xB[(C>>8)&255]^yB[(I>>16)&255]^zB[(G>>24)&255]^A[B][1].toInt();rV=wB[G&255]^xB[(D>>8)&255]^yB[(C>>16)&255]^zB[(I>>24)&255]^A[B][2].toInt();sV=wB[I&255]^xB[(G>>8)&255]^yB[(D>>16)&255]^zB[(C>>24)&255]^A[B][3].toInt();B-- ;}C=wB[pV&255]^xB[(sV>>8)&255]^yB[(rV>>16)&255]^zB[(qV>>24)&255]^A[B][0].toInt();D=wB[qV&255]^xB[(pV>>8)&255]^yB[(sV>>16)&255]^zB[(rV>>24)&255]^A[B][1].toInt();G=wB[rV&255]^xB[(qV>>8)&255]^yB[(pV>>16)&255]^zB[(sV>>24)&255]^A[B][2].toInt();I=wB[sV&255]^xB[(rV>>8)&255]^yB[(qV>>16)&255]^zB[(pV>>24)&255]^A[B][3].toInt();pV=(VB[C&255]&255)^((VB[(I>>8)&255]&255)<<8)^((VB[(G>>16)&255]&255)<<16)^(VB[(D>>24)&255]<<24)^A[0][0].toInt();qV=(VB[D&255]&255)^((VB[(C>>8)&255]&255)<<8)^((VB[(I>>16)&255]&255)<<16)^(VB[(G>>24)&255]<<24)^A[0][1].toInt();rV=(VB[G&255]&255)^((VB[(D>>8)&255]&255)<<8)^((VB[(C>>16)&255]&255)<<16)^(VB[(I>>24)&255]<<24)^A[0][2].toInt();sV=(VB[I&255]&255)^((VB[(G>>8)&255]&255)<<8)^((VB[(D>>16)&255]&255)<<16)^(VB[(C>>24)&255]<<24)^A[0][3].toInt();}void tV(ByteData A,int B){pV=YE(A,B,Endianness.LITTLE_ENDIAN);qV=YE(A,B+4,Endianness.LITTLE_ENDIAN);rV=YE(A,B+8,Endianness.LITTLE_ENDIAN);sV=YE(A,B+12,Endianness.LITTLE_ENDIAN);}void vV(ByteData A,int B){YF(pV,A,B,Endianness.LITTLE_ENDIAN);YF(qV,A,B+4,Endianness.LITTLE_ENDIAN);YF(rV,A,B+8,Endianness.LITTLE_ENDIAN);YF(sV,A,B+12,Endianness.LITTLE_ENDIAN);}}int XF(int A,int B)=>aQ(A,B);const int RQ=0x80808080;const int SQ=0x7f7f7f7f;const int TQ=0x0000001b;int UH(int A){var B=ZQ((A&RQ),7);return (((A&SQ)<<1)^B*TQ);}int UQ(int D){int A=UH(D);int B=UH(A);int G=UH(B);int C=D^G;return A^B^G^XF(A^C,8)^XF(B^C,16)^XF(C,24);}int fK(int A){return (FB[A&255]&255|((FB[(A>>8)&255]&255)<<8)|((FB[(A>>16)&255]&255)<<16)|FB[(A>>24)&255]<<24);}final FB=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22];final VB=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125];final VQ=[0x01,0x02,0x04,0x08,0x10,0x20,0x40,0x80,0x1b,0x36,0x6c,0xd8,0xab,0x4d,0x9a,0x2f,0x5e,0xbc,0x63,0xc6,0x97,0x35,0x6a,0xd4,0xb3,0x7d,0xfa,0xef,0xc5,0x91];final sB=[0xa56363c6,0x847c7cf8,0x997777ee,0x8d7b7bf6,0x0df2f2ff,0xbd6b6bd6,0xb16f6fde,0x54c5c591,0x50303060,0x03010102,0xa96767ce,0x7d2b2b56,0x19fefee7,0x62d7d7b5,0xe6abab4d,0x9a7676ec,0x45caca8f,0x9d82821f,0x40c9c989,0x877d7dfa,0x15fafaef,0xeb5959b2,0xc947478e,0x0bf0f0fb,0xecadad41,0x67d4d4b3,0xfda2a25f,0xeaafaf45,0xbf9c9c23,0xf7a4a453,0x967272e4,0x5bc0c09b,0xc2b7b775,0x1cfdfde1,0xae93933d,0x6a26264c,0x5a36366c,0x413f3f7e,0x02f7f7f5,0x4fcccc83,0x5c343468,0xf4a5a551,0x34e5e5d1,0x08f1f1f9,0x937171e2,0x73d8d8ab,0x53313162,0x3f15152a,0x0c040408,0x52c7c795,0x65232346,0x5ec3c39d,0x28181830,0xa1969637,0x0f05050a,0xb59a9a2f,0x0907070e,0x36121224,0x9b80801b,0x3de2e2df,0x26ebebcd,0x6927274e,0xcdb2b27f,0x9f7575ea,0x1b090912,0x9e83831d,0x742c2c58,0x2e1a1a34,0x2d1b1b36,0xb26e6edc,0xee5a5ab4,0xfba0a05b,0xf65252a4,0x4d3b3b76,0x61d6d6b7,0xceb3b37d,0x7b292952,0x3ee3e3dd,0x712f2f5e,0x97848413,0xf55353a6,0x68d1d1b9,0x00000000,0x2cededc1,0x60202040,0x1ffcfce3,0xc8b1b179,0xed5b5bb6,0xbe6a6ad4,0x46cbcb8d,0xd9bebe67,0x4b393972,0xde4a4a94,0xd44c4c98,0xe85858b0,0x4acfcf85,0x6bd0d0bb,0x2aefefc5,0xe5aaaa4f,0x16fbfbed,0xc5434386,0xd74d4d9a,0x55333366,0x94858511,0xcf45458a,0x10f9f9e9,0x06020204,0x817f7ffe,0xf05050a0,0x443c3c78,0xba9f9f25,0xe3a8a84b,0xf35151a2,0xfea3a35d,0xc0404080,0x8a8f8f05,0xad92923f,0xbc9d9d21,0x48383870,0x04f5f5f1,0xdfbcbc63,0xc1b6b677,0x75dadaaf,0x63212142,0x30101020,0x1affffe5,0x0ef3f3fd,0x6dd2d2bf,0x4ccdcd81,0x140c0c18,0x35131326,0x2fececc3,0xe15f5fbe,0xa2979735,0xcc444488,0x3917172e,0x57c4c493,0xf2a7a755,0x827e7efc,0x473d3d7a,0xac6464c8,0xe75d5dba,0x2b191932,0x957373e6,0xa06060c0,0x98818119,0xd14f4f9e,0x7fdcdca3,0x66222244,0x7e2a2a54,0xab90903b,0x8388880b,0xca46468c,0x29eeeec7,0xd3b8b86b,0x3c141428,0x79dedea7,0xe25e5ebc,0x1d0b0b16,0x76dbdbad,0x3be0e0db,0x56323264,0x4e3a3a74,0x1e0a0a14,0xdb494992,0x0a06060c,0x6c242448,0xe45c5cb8,0x5dc2c29f,0x6ed3d3bd,0xefacac43,0xa66262c4,0xa8919139,0xa4959531,0x37e4e4d3,0x8b7979f2,0x32e7e7d5,0x43c8c88b,0x5937376e,0xb76d6dda,0x8c8d8d01,0x64d5d5b1,0xd24e4e9c,0xe0a9a949,0xb46c6cd8,0xfa5656ac,0x07f4f4f3,0x25eaeacf,0xaf6565ca,0x8e7a7af4,0xe9aeae47,0x18080810,0xd5baba6f,0x887878f0,0x6f25254a,0x722e2e5c,0x241c1c38,0xf1a6a657,0xc7b4b473,0x51c6c697,0x23e8e8cb,0x7cdddda1,0x9c7474e8,0x211f1f3e,0xdd4b4b96,0xdcbdbd61,0x868b8b0d,0x858a8a0f,0x907070e0,0x423e3e7c,0xc4b5b571,0xaa6666cc,0xd8484890,0x05030306,0x01f6f6f7,0x120e0e1c,0xa36161c2,0x5f35356a,0xf95757ae,0xd0b9b969,0x91868617,0x58c1c199,0x271d1d3a,0xb99e9e27,0x38e1e1d9,0x13f8f8eb,0xb398982b,0x33111122,0xbb6969d2,0x70d9d9a9,0x898e8e07,0xa7949433,0xb69b9b2d,0x221e1e3c,0x92878715,0x20e9e9c9,0x49cece87,0xff5555aa,0x78282850,0x7adfdfa5,0x8f8c8c03,0xf8a1a159,0x80898909,0x170d0d1a,0xdabfbf65,0x31e6e6d7,0xc6424284,0xb86868d0,0xc3414182,0xb0999929,0x772d2d5a,0x110f0f1e,0xcbb0b07b,0xfc5454a8,0xd6bbbb6d,0x3a16162c];final tB=[0x6363c6a5,0x7c7cf884,0x7777ee99,0x7b7bf68d,0xf2f2ff0d,0x6b6bd6bd,0x6f6fdeb1,0xc5c59154,0x30306050,0x01010203,0x6767cea9,0x2b2b567d,0xfefee719,0xd7d7b562,0xabab4de6,0x7676ec9a,0xcaca8f45,0x82821f9d,0xc9c98940,0x7d7dfa87,0xfafaef15,0x5959b2eb,0x47478ec9,0xf0f0fb0b,0xadad41ec,0xd4d4b367,0xa2a25ffd,0xafaf45ea,0x9c9c23bf,0xa4a453f7,0x7272e496,0xc0c09b5b,0xb7b775c2,0xfdfde11c,0x93933dae,0x26264c6a,0x36366c5a,0x3f3f7e41,0xf7f7f502,0xcccc834f,0x3434685c,0xa5a551f4,0xe5e5d134,0xf1f1f908,0x7171e293,0xd8d8ab73,0x31316253,0x15152a3f,0x0404080c,0xc7c79552,0x23234665,0xc3c39d5e,0x18183028,0x969637a1,0x05050a0f,0x9a9a2fb5,0x07070e09,0x12122436,0x80801b9b,0xe2e2df3d,0xebebcd26,0x27274e69,0xb2b27fcd,0x7575ea9f,0x0909121b,0x83831d9e,0x2c2c5874,0x1a1a342e,0x1b1b362d,0x6e6edcb2,0x5a5ab4ee,0xa0a05bfb,0x5252a4f6,0x3b3b764d,0xd6d6b761,0xb3b37dce,0x2929527b,0xe3e3dd3e,0x2f2f5e71,0x84841397,0x5353a6f5,0xd1d1b968,0x00000000,0xededc12c,0x20204060,0xfcfce31f,0xb1b179c8,0x5b5bb6ed,0x6a6ad4be,0xcbcb8d46,0xbebe67d9,0x3939724b,0x4a4a94de,0x4c4c98d4,0x5858b0e8,0xcfcf854a,0xd0d0bb6b,0xefefc52a,0xaaaa4fe5,0xfbfbed16,0x434386c5,0x4d4d9ad7,0x33336655,0x85851194,0x45458acf,0xf9f9e910,0x02020406,0x7f7ffe81,0x5050a0f0,0x3c3c7844,0x9f9f25ba,0xa8a84be3,0x5151a2f3,0xa3a35dfe,0x404080c0,0x8f8f058a,0x92923fad,0x9d9d21bc,0x38387048,0xf5f5f104,0xbcbc63df,0xb6b677c1,0xdadaaf75,0x21214263,0x10102030,0xffffe51a,0xf3f3fd0e,0xd2d2bf6d,0xcdcd814c,0x0c0c1814,0x13132635,0xececc32f,0x5f5fbee1,0x979735a2,0x444488cc,0x17172e39,0xc4c49357,0xa7a755f2,0x7e7efc82,0x3d3d7a47,0x6464c8ac,0x5d5dbae7,0x1919322b,0x7373e695,0x6060c0a0,0x81811998,0x4f4f9ed1,0xdcdca37f,0x22224466,0x2a2a547e,0x90903bab,0x88880b83,0x46468cca,0xeeeec729,0xb8b86bd3,0x1414283c,0xdedea779,0x5e5ebce2,0x0b0b161d,0xdbdbad76,0xe0e0db3b,0x32326456,0x3a3a744e,0x0a0a141e,0x494992db,0x06060c0a,0x2424486c,0x5c5cb8e4,0xc2c29f5d,0xd3d3bd6e,0xacac43ef,0x6262c4a6,0x919139a8,0x959531a4,0xe4e4d337,0x7979f28b,0xe7e7d532,0xc8c88b43,0x37376e59,0x6d6ddab7,0x8d8d018c,0xd5d5b164,0x4e4e9cd2,0xa9a949e0,0x6c6cd8b4,0x5656acfa,0xf4f4f307,0xeaeacf25,0x6565caaf,0x7a7af48e,0xaeae47e9,0x08081018,0xbaba6fd5,0x7878f088,0x25254a6f,0x2e2e5c72,0x1c1c3824,0xa6a657f1,0xb4b473c7,0xc6c69751,0xe8e8cb23,0xdddda17c,0x7474e89c,0x1f1f3e21,0x4b4b96dd,0xbdbd61dc,0x8b8b0d86,0x8a8a0f85,0x7070e090,0x3e3e7c42,0xb5b571c4,0x6666ccaa,0x484890d8,0x03030605,0xf6f6f701,0x0e0e1c12,0x6161c2a3,0x35356a5f,0x5757aef9,0xb9b969d0,0x86861791,0xc1c19958,0x1d1d3a27,0x9e9e27b9,0xe1e1d938,0xf8f8eb13,0x98982bb3,0x11112233,0x6969d2bb,0xd9d9a970,0x8e8e0789,0x949433a7,0x9b9b2db6,0x1e1e3c22,0x87871592,0xe9e9c920,0xcece8749,0x5555aaff,0x28285078,0xdfdfa57a,0x8c8c038f,0xa1a159f8,0x89890980,0x0d0d1a17,0xbfbf65da,0xe6e6d731,0x424284c6,0x6868d0b8,0x414182c3,0x999929b0,0x2d2d5a77,0x0f0f1e11,0xb0b07bcb,0x5454a8fc,0xbbbb6dd6,0x16162c3a];final uB=[0x63c6a563,0x7cf8847c,0x77ee9977,0x7bf68d7b,0xf2ff0df2,0x6bd6bd6b,0x6fdeb16f,0xc59154c5,0x30605030,0x01020301,0x67cea967,0x2b567d2b,0xfee719fe,0xd7b562d7,0xab4de6ab,0x76ec9a76,0xca8f45ca,0x821f9d82,0xc98940c9,0x7dfa877d,0xfaef15fa,0x59b2eb59,0x478ec947,0xf0fb0bf0,0xad41ecad,0xd4b367d4,0xa25ffda2,0xaf45eaaf,0x9c23bf9c,0xa453f7a4,0x72e49672,0xc09b5bc0,0xb775c2b7,0xfde11cfd,0x933dae93,0x264c6a26,0x366c5a36,0x3f7e413f,0xf7f502f7,0xcc834fcc,0x34685c34,0xa551f4a5,0xe5d134e5,0xf1f908f1,0x71e29371,0xd8ab73d8,0x31625331,0x152a3f15,0x04080c04,0xc79552c7,0x23466523,0xc39d5ec3,0x18302818,0x9637a196,0x050a0f05,0x9a2fb59a,0x070e0907,0x12243612,0x801b9b80,0xe2df3de2,0xebcd26eb,0x274e6927,0xb27fcdb2,0x75ea9f75,0x09121b09,0x831d9e83,0x2c58742c,0x1a342e1a,0x1b362d1b,0x6edcb26e,0x5ab4ee5a,0xa05bfba0,0x52a4f652,0x3b764d3b,0xd6b761d6,0xb37dceb3,0x29527b29,0xe3dd3ee3,0x2f5e712f,0x84139784,0x53a6f553,0xd1b968d1,0x00000000,0xedc12ced,0x20406020,0xfce31ffc,0xb179c8b1,0x5bb6ed5b,0x6ad4be6a,0xcb8d46cb,0xbe67d9be,0x39724b39,0x4a94de4a,0x4c98d44c,0x58b0e858,0xcf854acf,0xd0bb6bd0,0xefc52aef,0xaa4fe5aa,0xfbed16fb,0x4386c543,0x4d9ad74d,0x33665533,0x85119485,0x458acf45,0xf9e910f9,0x02040602,0x7ffe817f,0x50a0f050,0x3c78443c,0x9f25ba9f,0xa84be3a8,0x51a2f351,0xa35dfea3,0x4080c040,0x8f058a8f,0x923fad92,0x9d21bc9d,0x38704838,0xf5f104f5,0xbc63dfbc,0xb677c1b6,0xdaaf75da,0x21426321,0x10203010,0xffe51aff,0xf3fd0ef3,0xd2bf6dd2,0xcd814ccd,0x0c18140c,0x13263513,0xecc32fec,0x5fbee15f,0x9735a297,0x4488cc44,0x172e3917,0xc49357c4,0xa755f2a7,0x7efc827e,0x3d7a473d,0x64c8ac64,0x5dbae75d,0x19322b19,0x73e69573,0x60c0a060,0x81199881,0x4f9ed14f,0xdca37fdc,0x22446622,0x2a547e2a,0x903bab90,0x880b8388,0x468cca46,0xeec729ee,0xb86bd3b8,0x14283c14,0xdea779de,0x5ebce25e,0x0b161d0b,0xdbad76db,0xe0db3be0,0x32645632,0x3a744e3a,0x0a141e0a,0x4992db49,0x060c0a06,0x24486c24,0x5cb8e45c,0xc29f5dc2,0xd3bd6ed3,0xac43efac,0x62c4a662,0x9139a891,0x9531a495,0xe4d337e4,0x79f28b79,0xe7d532e7,0xc88b43c8,0x376e5937,0x6ddab76d,0x8d018c8d,0xd5b164d5,0x4e9cd24e,0xa949e0a9,0x6cd8b46c,0x56acfa56,0xf4f307f4,0xeacf25ea,0x65caaf65,0x7af48e7a,0xae47e9ae,0x08101808,0xba6fd5ba,0x78f08878,0x254a6f25,0x2e5c722e,0x1c38241c,0xa657f1a6,0xb473c7b4,0xc69751c6,0xe8cb23e8,0xdda17cdd,0x74e89c74,0x1f3e211f,0x4b96dd4b,0xbd61dcbd,0x8b0d868b,0x8a0f858a,0x70e09070,0x3e7c423e,0xb571c4b5,0x66ccaa66,0x4890d848,0x03060503,0xf6f701f6,0x0e1c120e,0x61c2a361,0x356a5f35,0x57aef957,0xb969d0b9,0x86179186,0xc19958c1,0x1d3a271d,0x9e27b99e,0xe1d938e1,0xf8eb13f8,0x982bb398,0x11223311,0x69d2bb69,0xd9a970d9,0x8e07898e,0x9433a794,0x9b2db69b,0x1e3c221e,0x87159287,0xe9c920e9,0xce8749ce,0x55aaff55,0x28507828,0xdfa57adf,0x8c038f8c,0xa159f8a1,0x89098089,0x0d1a170d,0xbf65dabf,0xe6d731e6,0x4284c642,0x68d0b868,0x4182c341,0x9929b099,0x2d5a772d,0x0f1e110f,0xb07bcbb0,0x54a8fc54,0xbb6dd6bb,0x162c3a16];final vB=[0xc6a56363,0xf8847c7c,0xee997777,0xf68d7b7b,0xff0df2f2,0xd6bd6b6b,0xdeb16f6f,0x9154c5c5,0x60503030,0x02030101,0xcea96767,0x567d2b2b,0xe719fefe,0xb562d7d7,0x4de6abab,0xec9a7676,0x8f45caca,0x1f9d8282,0x8940c9c9,0xfa877d7d,0xef15fafa,0xb2eb5959,0x8ec94747,0xfb0bf0f0,0x41ecadad,0xb367d4d4,0x5ffda2a2,0x45eaafaf,0x23bf9c9c,0x53f7a4a4,0xe4967272,0x9b5bc0c0,0x75c2b7b7,0xe11cfdfd,0x3dae9393,0x4c6a2626,0x6c5a3636,0x7e413f3f,0xf502f7f7,0x834fcccc,0x685c3434,0x51f4a5a5,0xd134e5e5,0xf908f1f1,0xe2937171,0xab73d8d8,0x62533131,0x2a3f1515,0x080c0404,0x9552c7c7,0x46652323,0x9d5ec3c3,0x30281818,0x37a19696,0x0a0f0505,0x2fb59a9a,0x0e090707,0x24361212,0x1b9b8080,0xdf3de2e2,0xcd26ebeb,0x4e692727,0x7fcdb2b2,0xea9f7575,0x121b0909,0x1d9e8383,0x58742c2c,0x342e1a1a,0x362d1b1b,0xdcb26e6e,0xb4ee5a5a,0x5bfba0a0,0xa4f65252,0x764d3b3b,0xb761d6d6,0x7dceb3b3,0x527b2929,0xdd3ee3e3,0x5e712f2f,0x13978484,0xa6f55353,0xb968d1d1,0x00000000,0xc12ceded,0x40602020,0xe31ffcfc,0x79c8b1b1,0xb6ed5b5b,0xd4be6a6a,0x8d46cbcb,0x67d9bebe,0x724b3939,0x94de4a4a,0x98d44c4c,0xb0e85858,0x854acfcf,0xbb6bd0d0,0xc52aefef,0x4fe5aaaa,0xed16fbfb,0x86c54343,0x9ad74d4d,0x66553333,0x11948585,0x8acf4545,0xe910f9f9,0x04060202,0xfe817f7f,0xa0f05050,0x78443c3c,0x25ba9f9f,0x4be3a8a8,0xa2f35151,0x5dfea3a3,0x80c04040,0x058a8f8f,0x3fad9292,0x21bc9d9d,0x70483838,0xf104f5f5,0x63dfbcbc,0x77c1b6b6,0xaf75dada,0x42632121,0x20301010,0xe51affff,0xfd0ef3f3,0xbf6dd2d2,0x814ccdcd,0x18140c0c,0x26351313,0xc32fecec,0xbee15f5f,0x35a29797,0x88cc4444,0x2e391717,0x9357c4c4,0x55f2a7a7,0xfc827e7e,0x7a473d3d,0xc8ac6464,0xbae75d5d,0x322b1919,0xe6957373,0xc0a06060,0x19988181,0x9ed14f4f,0xa37fdcdc,0x44662222,0x547e2a2a,0x3bab9090,0x0b838888,0x8cca4646,0xc729eeee,0x6bd3b8b8,0x283c1414,0xa779dede,0xbce25e5e,0x161d0b0b,0xad76dbdb,0xdb3be0e0,0x64563232,0x744e3a3a,0x141e0a0a,0x92db4949,0x0c0a0606,0x486c2424,0xb8e45c5c,0x9f5dc2c2,0xbd6ed3d3,0x43efacac,0xc4a66262,0x39a89191,0x31a49595,0xd337e4e4,0xf28b7979,0xd532e7e7,0x8b43c8c8,0x6e593737,0xdab76d6d,0x018c8d8d,0xb164d5d5,0x9cd24e4e,0x49e0a9a9,0xd8b46c6c,0xacfa5656,0xf307f4f4,0xcf25eaea,0xcaaf6565,0xf48e7a7a,0x47e9aeae,0x10180808,0x6fd5baba,0xf0887878,0x4a6f2525,0x5c722e2e,0x38241c1c,0x57f1a6a6,0x73c7b4b4,0x9751c6c6,0xcb23e8e8,0xa17cdddd,0xe89c7474,0x3e211f1f,0x96dd4b4b,0x61dcbdbd,0x0d868b8b,0x0f858a8a,0xe0907070,0x7c423e3e,0x71c4b5b5,0xccaa6666,0x90d84848,0x06050303,0xf701f6f6,0x1c120e0e,0xc2a36161,0x6a5f3535,0xaef95757,0x69d0b9b9,0x17918686,0x9958c1c1,0x3a271d1d,0x27b99e9e,0xd938e1e1,0xeb13f8f8,0x2bb39898,0x22331111,0xd2bb6969,0xa970d9d9,0x07898e8e,0x33a79494,0x2db69b9b,0x3c221e1e,0x15928787,0xc920e9e9,0x8749cece,0xaaff5555,0x50782828,0xa57adfdf,0x038f8c8c,0x59f8a1a1,0x09808989,0x1a170d0d,0x65dabfbf,0xd731e6e6,0x84c64242,0xd0b86868,0x82c34141,0x29b09999,0x5a772d2d,0x1e110f0f,0x7bcbb0b0,0xa8fc5454,0x6dd6bbbb,0x2c3a1616];final wB=[0x50a7f451,0x5365417e,0xc3a4171a,0x965e273a,0xcb6bab3b,0xf1459d1f,0xab58faac,0x9303e34b,0x55fa3020,0xf66d76ad,0x9176cc88,0x254c02f5,0xfcd7e54f,0xd7cb2ac5,0x80443526,0x8fa362b5,0x495ab1de,0x671bba25,0x980eea45,0xe1c0fe5d,0x02752fc3,0x12f04c81,0xa397468d,0xc6f9d36b,0xe75f8f03,0x959c9215,0xeb7a6dbf,0xda595295,0x2d83bed4,0xd3217458,0x2969e049,0x44c8c98e,0x6a89c275,0x78798ef4,0x6b3e5899,0xdd71b927,0xb64fe1be,0x17ad88f0,0x66ac20c9,0xb43ace7d,0x184adf63,0x82311ae5,0x60335197,0x457f5362,0xe07764b1,0x84ae6bbb,0x1ca081fe,0x942b08f9,0x58684870,0x19fd458f,0x876cde94,0xb7f87b52,0x23d373ab,0xe2024b72,0x578f1fe3,0x2aab5566,0x0728ebb2,0x03c2b52f,0x9a7bc586,0xa50837d3,0xf2872830,0xb2a5bf23,0xba6a0302,0x5c8216ed,0x2b1ccf8a,0x92b479a7,0xf0f207f3,0xa1e2694e,0xcdf4da65,0xd5be0506,0x1f6234d1,0x8afea6c4,0x9d532e34,0xa055f3a2,0x32e18a05,0x75ebf6a4,0x39ec830b,0xaaef6040,0x069f715e,0x51106ebd,0xf98a213e,0x3d06dd96,0xae053edd,0x46bde64d,0xb58d5491,0x055dc471,0x6fd40604,0xff155060,0x24fb9819,0x97e9bdd6,0xcc434089,0x779ed967,0xbd42e8b0,0x888b8907,0x385b19e7,0xdbeec879,0x470a7ca1,0xe90f427c,0xc91e84f8,0x00000000,0x83868009,0x48ed2b32,0xac70111e,0x4e725a6c,0xfbff0efd,0x5638850f,0x1ed5ae3d,0x27392d36,0x64d90f0a,0x21a65c68,0xd1545b9b,0x3a2e3624,0xb1670a0c,0x0fe75793,0xd296eeb4,0x9e919b1b,0x4fc5c080,0xa220dc61,0x694b775a,0x161a121c,0x0aba93e2,0xe52aa0c0,0x43e0223c,0x1d171b12,0x0b0d090e,0xadc78bf2,0xb9a8b62d,0xc8a91e14,0x8519f157,0x4c0775af,0xbbdd99ee,0xfd607fa3,0x9f2601f7,0xbcf5725c,0xc53b6644,0x347efb5b,0x7629438b,0xdcc623cb,0x68fcedb6,0x63f1e4b8,0xcadc31d7,0x10856342,0x40229713,0x2011c684,0x7d244a85,0xf83dbbd2,0x1132f9ae,0x6da129c7,0x4b2f9e1d,0xf330b2dc,0xec52860d,0xd0e3c177,0x6c16b32b,0x99b970a9,0xfa489411,0x2264e947,0xc48cfca8,0x1a3ff0a0,0xd82c7d56,0xef903322,0xc74e4987,0xc1d138d9,0xfea2ca8c,0x360bd498,0xcf81f5a6,0x28de7aa5,0x268eb7da,0xa4bfad3f,0xe49d3a2c,0x0d927850,0x9bcc5f6a,0x62467e54,0xc2138df6,0xe8b8d890,0x5ef7392e,0xf5afc382,0xbe805d9f,0x7c93d069,0xa92dd56f,0xb31225cf,0x3b99acc8,0xa77d1810,0x6e639ce8,0x7bbb3bdb,0x097826cd,0xf418596e,0x01b79aec,0xa89a4f83,0x656e95e6,0x7ee6ffaa,0x08cfbc21,0xe6e815ef,0xd99be7ba,0xce366f4a,0xd4099fea,0xd67cb029,0xafb2a431,0x31233f2a,0x3094a5c6,0xc066a235,0x37bc4e74,0xa6ca82fc,0xb0d090e0,0x15d8a733,0x4a9804f1,0xf7daec41,0x0e50cd7f,0x2ff69117,0x8dd64d76,0x4db0ef43,0x544daacc,0xdf0496e4,0xe3b5d19e,0x1b886a4c,0xb81f2cc1,0x7f516546,0x04ea5e9d,0x5d358c01,0x737487fa,0x2e410bfb,0x5a1d67b3,0x52d2db92,0x335610e9,0x1347d66d,0x8c61d79a,0x7a0ca137,0x8e14f859,0x893c13eb,0xee27a9ce,0x35c961b7,0xede51ce1,0x3cb1477a,0x59dfd29c,0x3f73f255,0x79ce1418,0xbf37c773,0xeacdf753,0x5baafd5f,0x146f3ddf,0x86db4478,0x81f3afca,0x3ec468b9,0x2c342438,0x5f40a3c2,0x72c31d16,0x0c25e2bc,0x8b493c28,0x41950dff,0x7101a839,0xdeb30c08,0x9ce4b4d8,0x90c15664,0x6184cb7b,0x70b632d5,0x745c6c48,0x4257b8d0];final xB=[0xa7f45150,0x65417e53,0xa4171ac3,0x5e273a96,0x6bab3bcb,0x459d1ff1,0x58faacab,0x03e34b93,0xfa302055,0x6d76adf6,0x76cc8891,0x4c02f525,0xd7e54ffc,0xcb2ac5d7,0x44352680,0xa362b58f,0x5ab1de49,0x1bba2567,0x0eea4598,0xc0fe5de1,0x752fc302,0xf04c8112,0x97468da3,0xf9d36bc6,0x5f8f03e7,0x9c921595,0x7a6dbfeb,0x595295da,0x83bed42d,0x217458d3,0x69e04929,0xc8c98e44,0x89c2756a,0x798ef478,0x3e58996b,0x71b927dd,0x4fe1beb6,0xad88f017,0xac20c966,0x3ace7db4,0x4adf6318,0x311ae582,0x33519760,0x7f536245,0x7764b1e0,0xae6bbb84,0xa081fe1c,0x2b08f994,0x68487058,0xfd458f19,0x6cde9487,0xf87b52b7,0xd373ab23,0x024b72e2,0x8f1fe357,0xab55662a,0x28ebb207,0xc2b52f03,0x7bc5869a,0x0837d3a5,0x872830f2,0xa5bf23b2,0x6a0302ba,0x8216ed5c,0x1ccf8a2b,0xb479a792,0xf207f3f0,0xe2694ea1,0xf4da65cd,0xbe0506d5,0x6234d11f,0xfea6c48a,0x532e349d,0x55f3a2a0,0xe18a0532,0xebf6a475,0xec830b39,0xef6040aa,0x9f715e06,0x106ebd51,0x8a213ef9,0x06dd963d,0x053eddae,0xbde64d46,0x8d5491b5,0x5dc47105,0xd406046f,0x155060ff,0xfb981924,0xe9bdd697,0x434089cc,0x9ed96777,0x42e8b0bd,0x8b890788,0x5b19e738,0xeec879db,0x0a7ca147,0x0f427ce9,0x1e84f8c9,0x00000000,0x86800983,0xed2b3248,0x70111eac,0x725a6c4e,0xff0efdfb,0x38850f56,0xd5ae3d1e,0x392d3627,0xd90f0a64,0xa65c6821,0x545b9bd1,0x2e36243a,0x670a0cb1,0xe757930f,0x96eeb4d2,0x919b1b9e,0xc5c0804f,0x20dc61a2,0x4b775a69,0x1a121c16,0xba93e20a,0x2aa0c0e5,0xe0223c43,0x171b121d,0x0d090e0b,0xc78bf2ad,0xa8b62db9,0xa91e14c8,0x19f15785,0x0775af4c,0xdd99eebb,0x607fa3fd,0x2601f79f,0xf5725cbc,0x3b6644c5,0x7efb5b34,0x29438b76,0xc623cbdc,0xfcedb668,0xf1e4b863,0xdc31d7ca,0x85634210,0x22971340,0x11c68420,0x244a857d,0x3dbbd2f8,0x32f9ae11,0xa129c76d,0x2f9e1d4b,0x30b2dcf3,0x52860dec,0xe3c177d0,0x16b32b6c,0xb970a999,0x489411fa,0x64e94722,0x8cfca8c4,0x3ff0a01a,0x2c7d56d8,0x903322ef,0x4e4987c7,0xd138d9c1,0xa2ca8cfe,0x0bd49836,0x81f5a6cf,0xde7aa528,0x8eb7da26,0xbfad3fa4,0x9d3a2ce4,0x9278500d,0xcc5f6a9b,0x467e5462,0x138df6c2,0xb8d890e8,0xf7392e5e,0xafc382f5,0x805d9fbe,0x93d0697c,0x2dd56fa9,0x1225cfb3,0x99acc83b,0x7d1810a7,0x639ce86e,0xbb3bdb7b,0x7826cd09,0x18596ef4,0xb79aec01,0x9a4f83a8,0x6e95e665,0xe6ffaa7e,0xcfbc2108,0xe815efe6,0x9be7bad9,0x366f4ace,0x099fead4,0x7cb029d6,0xb2a431af,0x233f2a31,0x94a5c630,0x66a235c0,0xbc4e7437,0xca82fca6,0xd090e0b0,0xd8a73315,0x9804f14a,0xdaec41f7,0x50cd7f0e,0xf691172f,0xd64d768d,0xb0ef434d,0x4daacc54,0x0496e4df,0xb5d19ee3,0x886a4c1b,0x1f2cc1b8,0x5165467f,0xea5e9d04,0x358c015d,0x7487fa73,0x410bfb2e,0x1d67b35a,0xd2db9252,0x5610e933,0x47d66d13,0x61d79a8c,0x0ca1377a,0x14f8598e,0x3c13eb89,0x27a9ceee,0xc961b735,0xe51ce1ed,0xb1477a3c,0xdfd29c59,0x73f2553f,0xce141879,0x37c773bf,0xcdf753ea,0xaafd5f5b,0x6f3ddf14,0xdb447886,0xf3afca81,0xc468b93e,0x3424382c,0x40a3c25f,0xc31d1672,0x25e2bc0c,0x493c288b,0x950dff41,0x01a83971,0xb30c08de,0xe4b4d89c,0xc1566490,0x84cb7b61,0xb632d570,0x5c6c4874,0x57b8d042];final yB=[0xf45150a7,0x417e5365,0x171ac3a4,0x273a965e,0xab3bcb6b,0x9d1ff145,0xfaacab58,0xe34b9303,0x302055fa,0x76adf66d,0xcc889176,0x02f5254c,0xe54ffcd7,0x2ac5d7cb,0x35268044,0x62b58fa3,0xb1de495a,0xba25671b,0xea45980e,0xfe5de1c0,0x2fc30275,0x4c8112f0,0x468da397,0xd36bc6f9,0x8f03e75f,0x9215959c,0x6dbfeb7a,0x5295da59,0xbed42d83,0x7458d321,0xe0492969,0xc98e44c8,0xc2756a89,0x8ef47879,0x58996b3e,0xb927dd71,0xe1beb64f,0x88f017ad,0x20c966ac,0xce7db43a,0xdf63184a,0x1ae58231,0x51976033,0x5362457f,0x64b1e077,0x6bbb84ae,0x81fe1ca0,0x08f9942b,0x48705868,0x458f19fd,0xde94876c,0x7b52b7f8,0x73ab23d3,0x4b72e202,0x1fe3578f,0x55662aab,0xebb20728,0xb52f03c2,0xc5869a7b,0x37d3a508,0x2830f287,0xbf23b2a5,0x0302ba6a,0x16ed5c82,0xcf8a2b1c,0x79a792b4,0x07f3f0f2,0x694ea1e2,0xda65cdf4,0x0506d5be,0x34d11f62,0xa6c48afe,0x2e349d53,0xf3a2a055,0x8a0532e1,0xf6a475eb,0x830b39ec,0x6040aaef,0x715e069f,0x6ebd5110,0x213ef98a,0xdd963d06,0x3eddae05,0xe64d46bd,0x5491b58d,0xc471055d,0x06046fd4,0x5060ff15,0x981924fb,0xbdd697e9,0x4089cc43,0xd967779e,0xe8b0bd42,0x8907888b,0x19e7385b,0xc879dbee,0x7ca1470a,0x427ce90f,0x84f8c91e,0x00000000,0x80098386,0x2b3248ed,0x111eac70,0x5a6c4e72,0x0efdfbff,0x850f5638,0xae3d1ed5,0x2d362739,0x0f0a64d9,0x5c6821a6,0x5b9bd154,0x36243a2e,0x0a0cb167,0x57930fe7,0xeeb4d296,0x9b1b9e91,0xc0804fc5,0xdc61a220,0x775a694b,0x121c161a,0x93e20aba,0xa0c0e52a,0x223c43e0,0x1b121d17,0x090e0b0d,0x8bf2adc7,0xb62db9a8,0x1e14c8a9,0xf1578519,0x75af4c07,0x99eebbdd,0x7fa3fd60,0x01f79f26,0x725cbcf5,0x6644c53b,0xfb5b347e,0x438b7629,0x23cbdcc6,0xedb668fc,0xe4b863f1,0x31d7cadc,0x63421085,0x97134022,0xc6842011,0x4a857d24,0xbbd2f83d,0xf9ae1132,0x29c76da1,0x9e1d4b2f,0xb2dcf330,0x860dec52,0xc177d0e3,0xb32b6c16,0x70a999b9,0x9411fa48,0xe9472264,0xfca8c48c,0xf0a01a3f,0x7d56d82c,0x3322ef90,0x4987c74e,0x38d9c1d1,0xca8cfea2,0xd498360b,0xf5a6cf81,0x7aa528de,0xb7da268e,0xad3fa4bf,0x3a2ce49d,0x78500d92,0x5f6a9bcc,0x7e546246,0x8df6c213,0xd890e8b8,0x392e5ef7,0xc382f5af,0x5d9fbe80,0xd0697c93,0xd56fa92d,0x25cfb312,0xacc83b99,0x1810a77d,0x9ce86e63,0x3bdb7bbb,0x26cd0978,0x596ef418,0x9aec01b7,0x4f83a89a,0x95e6656e,0xffaa7ee6,0xbc2108cf,0x15efe6e8,0xe7bad99b,0x6f4ace36,0x9fead409,0xb029d67c,0xa431afb2,0x3f2a3123,0xa5c63094,0xa235c066,0x4e7437bc,0x82fca6ca,0x90e0b0d0,0xa73315d8,0x04f14a98,0xec41f7da,0xcd7f0e50,0x91172ff6,0x4d768dd6,0xef434db0,0xaacc544d,0x96e4df04,0xd19ee3b5,0x6a4c1b88,0x2cc1b81f,0x65467f51,0x5e9d04ea,0x8c015d35,0x87fa7374,0x0bfb2e41,0x67b35a1d,0xdb9252d2,0x10e93356,0xd66d1347,0xd79a8c61,0xa1377a0c,0xf8598e14,0x13eb893c,0xa9ceee27,0x61b735c9,0x1ce1ede5,0x477a3cb1,0xd29c59df,0xf2553f73,0x141879ce,0xc773bf37,0xf753eacd,0xfd5f5baa,0x3ddf146f,0x447886db,0xafca81f3,0x68b93ec4,0x24382c34,0xa3c25f40,0x1d1672c3,0xe2bc0c25,0x3c288b49,0x0dff4195,0xa8397101,0x0c08deb3,0xb4d89ce4,0x566490c1,0xcb7b6184,0x32d570b6,0x6c48745c,0xb8d04257];final zB=[0x5150a7f4,0x7e536541,0x1ac3a417,0x3a965e27,0x3bcb6bab,0x1ff1459d,0xacab58fa,0x4b9303e3,0x2055fa30,0xadf66d76,0x889176cc,0xf5254c02,0x4ffcd7e5,0xc5d7cb2a,0x26804435,0xb58fa362,0xde495ab1,0x25671bba,0x45980eea,0x5de1c0fe,0xc302752f,0x8112f04c,0x8da39746,0x6bc6f9d3,0x03e75f8f,0x15959c92,0xbfeb7a6d,0x95da5952,0xd42d83be,0x58d32174,0x492969e0,0x8e44c8c9,0x756a89c2,0xf478798e,0x996b3e58,0x27dd71b9,0xbeb64fe1,0xf017ad88,0xc966ac20,0x7db43ace,0x63184adf,0xe582311a,0x97603351,0x62457f53,0xb1e07764,0xbb84ae6b,0xfe1ca081,0xf9942b08,0x70586848,0x8f19fd45,0x94876cde,0x52b7f87b,0xab23d373,0x72e2024b,0xe3578f1f,0x662aab55,0xb20728eb,0x2f03c2b5,0x869a7bc5,0xd3a50837,0x30f28728,0x23b2a5bf,0x02ba6a03,0xed5c8216,0x8a2b1ccf,0xa792b479,0xf3f0f207,0x4ea1e269,0x65cdf4da,0x06d5be05,0xd11f6234,0xc48afea6,0x349d532e,0xa2a055f3,0x0532e18a,0xa475ebf6,0x0b39ec83,0x40aaef60,0x5e069f71,0xbd51106e,0x3ef98a21,0x963d06dd,0xddae053e,0x4d46bde6,0x91b58d54,0x71055dc4,0x046fd406,0x60ff1550,0x1924fb98,0xd697e9bd,0x89cc4340,0x67779ed9,0xb0bd42e8,0x07888b89,0xe7385b19,0x79dbeec8,0xa1470a7c,0x7ce90f42,0xf8c91e84,0x00000000,0x09838680,0x3248ed2b,0x1eac7011,0x6c4e725a,0xfdfbff0e,0x0f563885,0x3d1ed5ae,0x3627392d,0x0a64d90f,0x6821a65c,0x9bd1545b,0x243a2e36,0x0cb1670a,0x930fe757,0xb4d296ee,0x1b9e919b,0x804fc5c0,0x61a220dc,0x5a694b77,0x1c161a12,0xe20aba93,0xc0e52aa0,0x3c43e022,0x121d171b,0x0e0b0d09,0xf2adc78b,0x2db9a8b6,0x14c8a91e,0x578519f1,0xaf4c0775,0xeebbdd99,0xa3fd607f,0xf79f2601,0x5cbcf572,0x44c53b66,0x5b347efb,0x8b762943,0xcbdcc623,0xb668fced,0xb863f1e4,0xd7cadc31,0x42108563,0x13402297,0x842011c6,0x857d244a,0xd2f83dbb,0xae1132f9,0xc76da129,0x1d4b2f9e,0xdcf330b2,0x0dec5286,0x77d0e3c1,0x2b6c16b3,0xa999b970,0x11fa4894,0x472264e9,0xa8c48cfc,0xa01a3ff0,0x56d82c7d,0x22ef9033,0x87c74e49,0xd9c1d138,0x8cfea2ca,0x98360bd4,0xa6cf81f5,0xa528de7a,0xda268eb7,0x3fa4bfad,0x2ce49d3a,0x500d9278,0x6a9bcc5f,0x5462467e,0xf6c2138d,0x90e8b8d8,0x2e5ef739,0x82f5afc3,0x9fbe805d,0x697c93d0,0x6fa92dd5,0xcfb31225,0xc83b99ac,0x10a77d18,0xe86e639c,0xdb7bbb3b,0xcd097826,0x6ef41859,0xec01b79a,0x83a89a4f,0xe6656e95,0xaa7ee6ff,0x2108cfbc,0xefe6e815,0xbad99be7,0x4ace366f,0xead4099f,0x29d67cb0,0x31afb2a4,0x2a31233f,0xc63094a5,0x35c066a2,0x7437bc4e,0xfca6ca82,0xe0b0d090,0x3315d8a7,0xf14a9804,0x41f7daec,0x7f0e50cd,0x172ff691,0x768dd64d,0x434db0ef,0xcc544daa,0xe4df0496,0x9ee3b5d1,0x4c1b886a,0xc1b81f2c,0x467f5165,0x9d04ea5e,0x015d358c,0xfa737487,0xfb2e410b,0xb35a1d67,0x9252d2db,0xe9335610,0x6d1347d6,0x9a8c61d7,0x377a0ca1,0x598e14f8,0xeb893c13,0xceee27a9,0xb735c961,0xe1ede51c,0x7a3cb147,0x9c59dfd2,0x553f73f2,0x1879ce14,0x73bf37c7,0x53eacdf7,0x5f5baafd,0xdf146f3d,0x7886db44,0xca81f3af,0xb93ec468,0x382c3424,0xc25f40a3,0x1672c31d,0xbc0c25e2,0x288b493c,0xff41950d,0x397101a8,0x08deb30c,0xd89ce4b4,0x6490c156,0x7b6184cb,0xd570b632,0x48745c6c,0xd04257b8];abstract class WQ implements PQ{}class WE extends eK{final Uint8List key;WE(this.key);}const VH=0x1F;const XE=0xFFFFFFFF;final XQ=[0xFFFFFFFF,0x7FFFFFFF,0x3FFFFFFF,0x1FFFFFFF,0x0FFFFFFF,0x07FFFFFF,0x03FFFFFF,0x01FFFFFF,0x00FFFFFF,0x007FFFFF,0x003FFFFF,0x001FFFFF,0x000FFFFF,0x0007FFFF,0x0003FFFF,0x0001FFFF,0x0000FFFF,0x00007FFF,0x00003FFF,0x00001FFF,0x00000FFF,0x000007FF,0x000003FF,0x000001FF,0x000000FF,0x0000007F,0x0000003F,0x0000001F,0x0000000F,0x00000007,0x00000003,0x00000001,0x00000000];int YQ(int A,int B){assert((A>=0)&&(A<=XE));B&= VH;A&= XQ[B];return ((A<<B)&XE);}int ZQ(int A,int B){assert((A>=0)&&(A<=XE));B&= VH;return (A>>B);}int aQ(int A,int B){assert(B>=0);assert((A>=0)&&(A<=XE));B&= VH;return (A>>B)|YQ(A,(32-B));}void YF(int B,dynamic A,int C,Endianness D){assert((B>=0)&&(B<=XE));if(A is!ByteData){A=new ByteData.view(A.buffer);}(A as ByteData).setUint32(C,B,D);}int YE(dynamic A,int B,Endianness C){if(A is!ByteData){A=new ByteData.view(A.buffer);}return (A as ByteData).getUint32(B,C);}const String JR='\u001b[31m';const String WL='\u001b[0m';iC vQ()=>new iC.IV();class iC{factory iC({GB style,String current}){if(current==null){if(style==null){current=pK;}else{current=".";}}if(style==null){style=GB.cH;}else if(style is!kC){throw new ArgumentError("Only styles defined by the path package are " "allowed.");}return new iC.JV(style as kC,current);}iC.IV():Q=GB.cH as kC,xV=null;iC.JV(this.Q,this.xV);final kC Q;final String xV;String get current=>xV!=null?xV:pK;String get IC=>Q.IC;String absolute(String A,[String B,String C,String D,String G,String I,String J]){zK("absolute",[A,B,C,D,G,I,J]);if(B==null&&isAbsolute(A)&&!PB(A)){return A;}return join(current,A,B,C,D,G,I,J);}String FJ(String A)=>yV(A).FJ;String GJ(String A)=>yV(A).GJ;String AU(String B){var A=yV(B);A.IF();if(A.c.isEmpty)return A.i==null?'.':A.i;if(A.c.length==1){return A.i==null?'.':A.i;}A.c.removeLast();A.OB.removeLast();A.IF();return A.toString();}String TJ(String A)=>yV(A).TJ;bool isAbsolute(String A)=>Q.SC(A)>0;bool DF(String A)=>!this.isAbsolute(A);bool PB(String A)=>Q.PB(A);String join(String B,[String C,String D,String G,String I,String J,String M,String S]){var A=<String>[B,C,D,G,I,J,M,S];zK("join",A);return YU(A.where((W)=>W!=null));}String YU(Iterable<String> J){var B=new StringBuffer();var D=false;var G=false;for(var A in J.where((A)=>A!='')){if(this.PB(A)&&G){var C=yV(A);var I=B.toString();C.i=I.substring(0,Q.SC(I,withDrive:true));if(Q.NE(C.i)){C.OB[0]=Q.IC;}B.clear();B.write(C.toString());}else if(this.isAbsolute(A)){G=!this.PB(A);B.clear();B.write(A);}else{if(A.length>0&&Q.eG(A[0])){}else if(D){B.write(IC);}B.write(A);}D=Q.NE(A);}return B.toString();}List<String> split(String B){var A=yV(B);A.c=A.c.where((C)=>!C.isEmpty).toList();if(A.i!=null)A.c.insert(0,A.i);return A.c;}String zC(String A){if(!zV(A))return A;var B=yV(A);B.zC();return B.toString();}bool zV(String J){var M=0;var D=J.codeUnits;int B;int A;var G=Q.SC(J);if(G!=0){M=G;A=AC;if(Q==GB.cF){for(var C=0;C<G;C++ ){if(D[C]==AC)return true;}}}for(var C=M;C<D.length;C++ ){var I=D[C];if(Q.a(I)){if(Q==GB.cF&&I==AC)return true;if(A!=null&&Q.a(A))return true;if(A==iB&&(B==null||B==iB||Q.a(B))){return true;}}B=A;A=I;}if(A==null)return true;if(Q.a(A))return true;if(A==iB&&(B==null||Q.a(B)||B==iB)){return true;}return false;}String dO(String C,{String from}){if(from==null&&this.DF(C))return this.zC(C);from=from==null?current:absolute(from);if(this.DF(from)&&this.isAbsolute(C)){return this.zC(C);}if(this.DF(C)||this.PB(C)){C=this.absolute(C);}if(this.DF(C)&&this.isAbsolute(from)){throw new bF('Unable to find a path to "${C}" from "${from}".');}var B=yV(from)..zC();var A=yV(C)..zC();if(B.c.length>0&&B.c[0]=='.'){return A.toString();}if(B.i!=A.i&&((B.i==null||A.i==null)||!Q.fJ(B.i,A.i))){return A.toString();}while(B.c.length>0&&A.c.length>0&&Q.fJ(B.c[0],A.c[0])){B.c.removeAt(0);B.OB.removeAt(1);A.c.removeAt(0);A.OB.removeAt(1);}if(B.c.length>0&&B.c[0]=='..'){throw new bF('Unable to find a path to "${C}" from "${from}".');}A.c.insertAll(0,new List.filled(B.c.length,'..'));A.OB[0]='';A.OB.insertAll(1,new List.filled(B.c.length,Q.IC));if(A.c.length==0)return '.';if(A.c.length>1&&A.c.last=='.'){A.c.removeLast();A.OB..removeLast()..removeLast()..add('');}A.i='';A.IF();return A.toString();}bool GC(String A,String B)=>AW(A,B)==j.aF;j AW(String A,String B){var D=isAbsolute(A);var G=isAbsolute(B);if(D&&!G){B=absolute(B);if(Q.PB(A))A=absolute(A);}else if(G&&!D){A=absolute(A);if(Q.PB(B))B=absolute(B);}else if(G&&D){var I=Q.PB(B);var J=Q.PB(A);if(I&&!J){B=absolute(B);}else if(J&&!I){A=absolute(A);}}var M=BW(A,B);if(M!=j.XD)return M;String C;try {C=this.dO(B,from:A);}on bF catch (S){return j.jC;}if(!this.DF(C))return j.jC;if(C=='.')return j.aF;if(C=='..')return j.jC;return (C.length>=3&&C.startsWith('..')&&Q.a(C.codeUnitAt(2)))?j.jC:j.AL;}j BW(String C,String D){if(C=='.')C='';var S=Q.SC(C);var u=Q.SC(D);if(S!=u)return j.jC;for(var b=0;b<S;b++ ){var G=C.codeUnitAt(b);var I=D.codeUnitAt(b);if(!Q.dG(G,I)){return j.jC;}}var J=AC;int M;var A=S;var B=u;while(A<C.length&&B<D.length){var G=C.codeUnitAt(A);var I=D.codeUnitAt(B);if(Q.dG(G,I)){if(Q.a(G)){M=A;}J=G;A++ ;B++ ;continue;}if(Q.a(G)&&Q.a(J)){M=A;A++ ;continue;}else if(Q.a(I)&&Q.a(J)){B++ ;continue;}if(G==iB&&Q.a(J)){A++ ;if(A==C.length)break;G=C.codeUnitAt(A);if(Q.a(G)){M=A;A++ ;continue;}if(G==iB){A++ ;if(A==C.length||Q.a(C.codeUnitAt(A))){return j.XD;}}}if(I==iB&&Q.a(J)){B++ ;if(B==D.length)break;I=D.codeUnitAt(B);if(Q.a(I)){B++ ;continue;}if(I==iB){B++ ;if(B==D.length||Q.a(D.codeUnitAt(B))){return j.XD;}}}var eB=CW(D,B);if(eB!=WB.bH){return j.XD;}var JC=CW(C,A);if(JC!=WB.bH){return j.XD;}return j.jC;}if(B==D.length){if(A==C.length||Q.a(C.codeUnitAt(A))){M=A;}else{M??= AH.max(0,S-1);}var W=CW(C,M??S-1);if(W==WB.aH)return j.aF;return W==WB.ZH?j.XD:j.jC;}var W=CW(D,B);if(W==WB.aH)return j.aF;if(W==WB.ZH){return j.XD;}return (Q.a(D.codeUnitAt(B))||Q.a(J))?j.AL:j.jC;}WB CW(String B,int I){var C=0;var G=false;var A=I;while(A<B.length){while(A<B.length&&Q.a(B.codeUnitAt(A))){A++ ;}if(A==B.length)break;var D=A;while(A<B.length&&!Q.a(B.codeUnitAt(A))){A++ ;}if(A-D==1&&B.codeUnitAt(D)==iB){}else if(A-D==2&&B.codeUnitAt(D)==iB&&B.codeUnitAt(D+1)==iB){C-- ;if(C<0)break;if(C==0)G=true;}else{C++ ;}if(A==B.length)break;A++ ;}if(C<0)return WB.ZH;if(C==0)return WB.aH;if(G)return WB.wQ;return WB.bH;}int HC(String A){A=absolute(A);var B=DW(A);if(B!=null)return B;var C=yV(A);C.zC();return DW(C.toString());}int DW(String B){var C=4603;var I=true;var D=true;for(var A=0;A<B.length;A++ ){var G=Q.TN(B.codeUnitAt(A));if(Q.a(G)){D=true;continue;}if(G==iB&&D){if(A+1==B.length)break;var J=B.codeUnitAt(A+1);if(Q.a(J))continue;if(!I&&J==iB&&(A+2==B.length||Q.a(B.codeUnitAt(A+2)))){return null;}}C&= 0x3FFFFFF;C*= 33;C^= G;D=false;I=false;}return C;}String KU(A)=>Q.HF(yK(A));String kU(D){var A=yK(D);if(A.scheme=='file'&&Q==GB.dE){return A.toString();}else if(A.scheme!='file'&&A.scheme!=''&&Q!=GB.dE){return A.toString();}var B=zC(KU(A));var C=dO(B);return split(C).length>split(B).length?B:C;}YD yV(String A)=>new YD.KV(A,Q);}Uri yK(A){if(A is String)return Uri.parse(A);if(A is Uri)return A;throw new ArgumentError.value(A,'uri','Value must be a String or a Uri');}void zK(String I,List<String> A){for(var B=1;B<A.length;B++ ){if(A[B]==null||A[B-1]!=null)continue;int C;for(C=A.length;C>=1;C-- ){if(A[C-1]!=null)break;}var D=new StringBuffer();D.write("${I}(");D.write(A.take(C).map((G)=>G==null?"null":'"${G}"').join(", "));D.write("): part ${B-1} was null, but part ${B} was not.");throw new ArgumentError(D.toString());}}class WB{static const ZH=const WB("above root");static const aH=const WB("at root");static const wQ=const WB("reaches root");static const bH=const WB("below root");final String name;const WB(this.name);String toString()=>name;}class j{static const AL=const j("within");static const aF=const j("equal");static const jC=const j("different");static const XD=const j("inconclusive");final String name;const j(this.name);String toString()=>name;}const cP=const IK.CV();class IK extends Codec<List<int>,String>{LH get encoder=>eP;JH get decoder=>dP;const IK.CV();}const dP=const JH.DV();class JH extends Converter<String,List<int>>{const JH.DV();List<int> convert(String A){if(!A.length.isEven){throw new FormatException("Invalid input length, must be even.",A,A.length);}var B=new Uint8List(A.length~/2);KH(A.codeUnits,0,A.length,B,0);return B;}StringConversionSink startChunkedConversion(Sink<List<int>> A)=>new JK(A);}class JK extends StringConversionSinkBase{final Sink<List<int>> EW;int FW;JK(this.EW);void addSlice(String D,int A,int B,bool I){RangeError.checkValidRange(A,B,D.length);if(A==B){if(I)GW(D,B);return;}var J=D.codeUnits;Uint8List C;int G;if(FW==null){C=new Uint8List((B-A)~/2);G=0;}else{var M=(B-A-1)~/2;C=new Uint8List(1+M);C[0]=FW+QE(J,A);A++ ;G=1;}FW=KH(J,A,B,C,G);EW.add(C);if(I)GW(D,B);}ByteConversionSink asUtf8Sink(bool A)=>new KK(EW);void close()=>GW();void GW([String A,int B]){if(FW!=null){throw new FormatException("Input ended with incomplete encoded byte.",A,B);}EW.close();}}class KK extends ByteConversionSinkBase{final Sink<List<int>> EW;int FW;KK(this.EW);void add(List<int> A)=>addSlice(A,0,A.length,false);void addSlice(List<int> C,int A,int B,bool I){RangeError.checkValidRange(A,B,C.length);if(A==B){if(I)GW(C,B);return;}Uint8List D;int G;if(FW==null){D=new Uint8List((B-A)~/2);G=0;}else{var J=(B-A-1)~/2;D=new Uint8List(1+J);D[0]=FW+QE(C,A);A++ ;G=1;}FW=KH(C,A,B,D,G);EW.add(D);if(I)GW(C,B);}void close()=>GW();void GW([List<int> A,int B]){if(FW!=null){throw new FormatException("Input ended with incomplete encoded byte.",A,B);}EW.close();}}int KH(List<int> B,int D,int C,List<int> G,int I){var J=I;for(var A=D;A<C-1;A+= 2){var M=QE(B,A);var S=QE(B,A+1);G[J++ ]=16*M+S;}if((C-D).isEven)return null;return 16*QE(B,C-1);}const eP=const LH.EV();class LH extends Converter<List<int>,String>{const LH.EV();String convert(List<int> A)=>MH(A,0,A.length);ByteConversionSink startChunkedConversion(Sink<String> A)=>new LK(A);}class LK extends ByteConversionSinkBase{final Sink<String> HW;LK(this.HW);void add(List<int> A){HW.add(MH(A,0,A.length));}void addSlice(List<int> A,int B,int C,bool D){RangeError.checkValidRange(B,C,A.length);HW.add(MH(A,B,C));if(D)HW.close();}void close(){HW.close();}}String MH(List<int> C,int D,int G){var I=new Uint8List((G-D)*2);var M=0;var J=0;for(var A=D;A<G;A++ ){var B=C[A];J|= B;I[M++ ]=MK((B&0xF0)>>4);I[M++ ]=MK(B&0x0F);}if(J>=0&&J<=255)return new String.fromCharCodes(I);for(var A=D;A<G;A++ ){var B=C[A];if(B>=0&&B<=0xff)continue;throw new FormatException("Invalid byte ${B<0?"-":""}0x${B.abs().toRadixString(16)}.",C,A);}throw 'unreachable';}int MK(int A)=>A<10?A+FD:A+HH-10;int QE(List<int> D,int G){var A=D[G];var B=FD^A;if(B<=9){if(B>=0)return B;}else{var C=0x20|A;if(HH<=C&&C<=AK)return C-HH+10;}throw new FormatException("Invalid hexadecimal code unit " "U+${A.toRadixString(16).padLeft(4,'0')}.",D,G);}String mP(List<int> A){return const SK().convert(A);}List<int> nP(String A){return const TK().convert(A);}class SK extends Converter<List<int>,String>{final bool yO;final bool CJ;const SK([bool this.yO=false,bool this.CJ=false]);static const int NH=61;static const int oP=13;static const int pP=10;static const int qP=76;static const String rP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";static const String sP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";String convert(List<int> G){int J=G.length;if(J==0){return "";}final String D=yO?sP:rP;final int M=J.remainder(3);final int u=J-M;int S=((J~/3)*4)+((M>0)?4:0);if(CJ){S+= ((S-1)~/qP)<<1;}List<int> A=new List<int>(S);int B=0,I=0,W=0;while(I<u){int C=((G[I++ ]<<16)&0xFFFFFF)|((G[I++ ]<<8)&0xFFFFFF)|G[I++ ];A[B++ ]=D.codeUnitAt(C>>18);A[B++ ]=D.codeUnitAt((C>>12)&0x3F);A[B++ ]=D.codeUnitAt((C>>6)&0x3F);A[B++ ]=D.codeUnitAt(C&0x3f);if(CJ&& ++W==19&&B<S-2){A[B++ ]=oP;A[B++ ]=pP;W=0;}}if(M==1){int C=G[I];A[B++ ]=D.codeUnitAt(C>>2);A[B++ ]=D.codeUnitAt((C<<4)&0x3F);A[B++ ]=NH;A[B++ ]=NH;}else if(M==2){int C=G[I];int b=G[I+1];A[B++ ]=D.codeUnitAt(C>>2);A[B++ ]=D.codeUnitAt(((C<<4)|(b>>4))&0x3F);A[B++ ]=D.codeUnitAt((b<<2)&0x3F);A[B++ ]=NH;}return new String.fromCharCodes(A);}}class TK extends Converter<String,List<int>>{const TK();static const List<int> OH=const[-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-1,-2,-2,-1,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,62,-2,62,-2,63,52,53,54,55,56,57,58,59,60,61,-2,-2,-2,0,-2,-2,-2,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-2,-2,-2,-2,63,-2,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2,-2];static const int tP=61;List<int> convert(String B){int D=B.length;if(D==0){return new List<int>(0);}int S=0;for(int A=0;A<D;A++ ){int G=OH[B.codeUnitAt(A)];if(G<0){S++ ;if(G==-2){throw new FormatException('Invalid character: ${B[A]}');}}}if((D-S)%4!=0){throw new FormatException('''Size of Base 64 characters in Input
          must be a multiple of 4. Input: ${B}''');}int W=0;for(int A=D-1;A>=0;A-- ){int b=B.codeUnitAt(A);if(OH[b]>0)break;if(b==tP)W++ ;}int J=(((D-S)*6)>>3)-W;List<int> M=new Uint8List(J);for(int A=0,C=0;C<J;){int I=0;for(int u=4;u>0;){int G=OH[B.codeUnitAt(A++ )];if(G>=0){I=((I<<6)&0xFFFFFF)|G;u-- ;}}M[C++ ]=I>>16;if(C<J){M[C++ ]=(I>>8)&0xFF;if(C<J)M[C++ ]=I&0xFF;}}return M;}}class QF{bool LJ;int port;int CF;String MJ;String cG;String bG;String VN;bool kN;bool hN;bool bN;bool SN;int DP;String host;int wO;String HJ;String JJ;Map<String,String> tG;Map<String,Map<String,dynamic>> HO;Map<String,Map<String,dynamic>> xO;bool rO;String IJ;bool hJ;List<String> cN;String qJ;bool bO;bool IN;void set NJ(List A){if(A!=null){var B=(List D)=>D[0]=='default';var C=A.firstWhere(B,orElse:()=>null);if(C!=null){A.removeWhere(B);A.add(C);}}IW=A;}List get NJ=>IW;List IW;bool BP;int YO;int ZO;int cJ;int dJ;String OO;String yN;String PN;String uO;String JO;String eN;bool zO;bool AP;String fN;bool gO;bool RJ;String jJ;bool QJ;int aJ;List<String> LO;Map<String,String> proxies;Map<String,List<String>> AO;List<String> rG;List<String> ZN;List<String> FO;int CP;bool JN;bool lN;bool KN;int XO;bool GO;Map<String,String> IO;bool tO;String tN;bool iN;String NN;Map<String,List<String>> BO;bool CO;String XN;bool jN;bool mN;int RO;String MN;String NO;bool MO;int QO;int PO;bool RN;String YN;Map ON;RegExp JW=null;String pO;dynamic AD;String mO;bool rN;dynamic get(A,[B]){if(A is!List){A=[A];}for(var C in A){if(map[C]!=null){return map[C];}}if(B is Function){return B();}else{return B;}}dynamic map;void load(Map B){this.map=B;LJ=get("debug",false);port=get("port",KW);CF=get(["httpsPort","httpsport"],LW);bG=get("certName","");cG=get("certPassword");MW(cG);VN=get("certKeyName","");kN=get("enableHSTS",false);hN=get("enableCSRFProtection",false);bN=get("disableFileSecurity",false);SN=get("broadcast",false);HJ=get("broadcastUrl");DP=get("workers",Platform.numberOfProcessors==1?1:2);wO=get("updateInterval",200);var A=<String,String>{"/.well-known":"${Directory.current.absolute.path}/.well-known"};tG=get("static",A);if(!tG.containsKey("/.well-known")){tG.addAll(A);}HO=get("linkConfig",{});JJ=get("brokerUrl");IJ=get("brokerName","broker-");cN=get("disabledLinks",[] );hJ=get("runBrokerInMain",Platform.numberOfProcessors==1?true:false);RJ=get("enableUptimeChecker",true);qJ=get("uptimeCheckUrl");xO=get("upstream",{});rO=get("strictTls",false);bO=get("quarantine",false);IN=get("allowAllLinks",true);NJ=get("defaultPermission",null);BP=get("useRuntimeManager",false);zO=get("useDartRuntimeManager",false);AP=get("useJavaRuntimeManager",false);YO=get("passwordHasherIterations",1000);ZO=get("passwordHasherKeyLength",32);cJ=get('old_passwordHasherIterations',null);dJ=get('old_passwordHasherKeyLength',null);OO=get("loginRedirectPath","/");PN=get("authType","file");uO=get("twoFactorAuth","none");fN=get("downstreamName","conns");gO=get("runPortChecks",true);pO=get("storageDriver",'simple');AD=get("observe",false);host=get("host","0.0.0.0");LO=get("loggers",[] );proxies=get("proxies",{});AO=get("hooks",{});eN=get("distributionUrl",vP);JO=get("linkRepositoryUrl",uP);rG=get("serverVmFlags",[] );ZN=get("dartRuntimeManagerVmFlags",[] );FO=get("javaRuntimeManagerVmFlags",[] );CP=get("userTimeout",525600);JN=get("allowBrowserCaching",false);jJ=get("serverLogLevel","INFO");QJ=get("enableLogCompression",true);aJ=get("logRotationInterval",0);lN=get("enableIPv6",false);yN=get("guestLoginRedirectPath",null);KN=get("allowPasswordChanges",true);XO=get("passwordExpireAfterDays",0);GO=get("keepCustomAssets",false);IO=get("linkManagerEnvironment",{});tO=get("timeHttpRequests",false);tN=get("generatedCertificateSubject","/C=US/ST=California/L=Oakland/O=Acuity Brands Inc./OU=Customers/CN=*");iN=get("enableCertificateGeneration",true);NN=get("alternativeBrokerUrl",null);BO=get("httpPathClassification",{});CO=get("isAlwaysOffline",false);XN=get("corsProxyRules","");jN=get("enableGit",false);mN=get("enableSingleSignOnServer",false);RO=get("maxQueueSize",256);mO=get("ssoProviderUrl",null);rN=get("formatDg5",false);MN=get("allowedCorsRegexString",null);NO=get("loginAuditFileName","audit.log");MO=get("loginAudit",false);QO=get("loginThrottleDuration",60);PO=get("loginThrottleAttempts",5);RN=get("blockOutsideGuests",false);YN=get("customLogo",null);ON=get("audit",null);}Future<bool> KO([String A="server"])async{if(await VE.TH.WJ(".docker").exists()){KW=80;LW=443;}var B=await UK(A);if(!(await B.exists())){load({"downstreamName":"downstream","corsProxyRules":""});await iJ(A);return true;}var C=await wP(B);load(C);var D=hO();if(const JsonEncoder().convert(C)!=const JsonEncoder().convert(D)){await iJ(A);}return false;}int LW=8443;int KW=8080;Map hO(){var A={"debug":LJ,"host":host,"port":port,"httpsPort":CF,"certName":bG,"certKeyName":VN,"certPassword":cG,"enableHSTS":kN,"enableCSRFProtection":hN,"strictFileUpload":{"enabled":false,"useClamAV":false,"extensions":const["dg5","dgi","crt","key","woff","ttf","gif","svg","png","jpg","xml","json","sql","csv"]},"disableFileSecurity":bN,"isAlwaysOffline":CO,"broadcast":SN,"workers":DP,"updateInterval":wO,"static":tG,"linkConfig":HO,"disabledLinks":cN,"enableUptimeChecker":RJ,"uptimeCheckUrl":qJ,"upstream":xO,"strictTls":rO,"quarantine":bO,"allowAllLinks":IN,"defaultPermission":NJ,"useRuntimeManager":BP,"useDartRuntimeManager":zO,"useJavaRuntimeManager":AP,"passwordHasherIterations":YO,"passwordHasherKeyLength":ZO,"loginRedirectPath":OO,"guestLoginRedirectPath":yN,"authType":PN,"twoFactorAuth":uO,"runPortChecks":gO,"storageDriver":pO,"downstreamName":fN,"loggers":LO,"proxies":proxies,"hooks":AO,"distributionUrl":eN,"linkRepositoryUrl":JO,"serverVmFlags":rG,"userTimeout":CP,"allowBrowserCaching":JN,"serverLogLevel":jJ,"enableLogCompression":QJ,"logRotationInterval":aJ,"enableIPv6":lN,"dartRuntimeManagerVmFlags":ZN,"javaRuntimeManagerVmFlags":FO,"allowPasswordChanges":KN,"passwordExpireAfterDays":XO,"keepCustomAssets":GO,"linkManagerEnvironment":IO,"timeHttpRequests":tO,"generatedCertificateSubject":tN,"enableCertificateGeneration":iN,"alternativeBrokerUrl":NN,"httpPathClassification":BO,"corsProxyRules":XN,"enableGit":jN,"enableSingleSignOnServer":mN,"maxQueueSize":RO,"ssoProviderUrl":mO,"formatDg5":rN,"allowedCorsRegexString":MN,"loginAuditFileName":NO,"loginAudit":MO,"loginThrottleDuration":QO,"loginThrottleAttempts":PO,"blockOutsideGuests":RN,"customLogo":YN,"audit":ON};if(HJ!=null){A["broadcastUrl"]=HJ;}if(IJ!=null){A["brokerName"]=IJ;}if(JJ!=null){A["brokerUrl"]=JJ;}if(hJ!=null){A["runBrokerInMain"]=hJ;}if(map["ldap"]!=null){A["ldap"]=map["ldap"];}if(map["ldap2"]!=null){A["ldap2"]=map["ldap2"];}if(map["duo"]!=null){A["duo"]=map["duo"];}if(map["strictFileUpload"]!=null){A["strictFileUpload"]=map["strictFileUpload"];}if(map["externalAuth"]!=null){A["externalAuth"]=map["externalAuth"];}if(map["authServer"]!=null){A["authServer"]=map["authServer"];}if(map['openId']!=null){A['openId']=map['openId'];}if(map['proxy']!=null){A['proxy']=map['proxy'];}if(cJ!=null){A['old_passwordHasherIterations']=cJ;}if(dJ!=null){A["old_passwordHasherKeyLength"]=dJ;}if(AD==true||AD is String){A["observe"]=AD;}if(map['smtp']!=null){A['smtp']=map['smtp'];}return A;}bool NW=false;Future iJ([String A="server"])async{if(NW){return;}NW=true;var B=await UK(A);await xP(B,hO());NW=false;}void MW(String A){if(A==null||A.isEmpty){MJ=A;return;}var B=BQ(A);if(B==null||B.isEmpty){MJ=A;OW(A);return;}MJ=B;}void OW(String B){var A=CQ(B);if(A==null||A.isEmpty){return;}cG=A;iJ();}}const String uP="https://dsa.s3.amazonaws.com/links/links.json";const String vP="https://dsa.s3.amazonaws.com/dists/dists.json";AB uD;Future<wD> UK(String A)async{var B=["${A}.json","${A}.toml","${A}.yaml"];for(var D in B){var C=VE.TH.WJ(D);if(await C.exists()){return C;}}return VE.TH.WJ(B.first);}Future<dynamic> wP(wD B)async{if(!(await B.exists())){return null;}var A=await B.readAsString();var C=tK(B.path);if(C==".toml"){var D=new dL();return vD(D.NB(A).value);}else if(C==".yaml"){return vD(RS(A));}else{if(A.trim().isEmpty||A==" "){A="{}";}return vD(zP.convert(A));}}Future xP(wD B,dynamic D)async{if(!(await B.exists())){await B.create();}var A="";var C=tK(B.path);if(C==".toml"){var G=new PR();A=G.encode(D);}else if(C==".yaml"){A=US(D);}else{A=yP.convert(D);}if(!A.endsWith("\n")){A=A+"\n";}final I=C!='.toml'&&C!='.yaml';await B.writeAsString(A,verifyJson:I);}JsonEncoder yP=const JsonEncoder.withIndent("  ");JsonDecoder zP=const JsonDecoder();dynamic vD(A){if(A is Map){var B={};for(var C in A.keys){B[vD(C)]=vD(A[C]);}return B;}else if(A is List){return A.map((D)=>vD(D)).toList();}else{return A;}}final AQ=new Uint8List.fromList([0x00,0x11,0x22,0x33,0x44,0x55,0x66,0x77,0x88,0x99,0x88,0x77,0x66,0x55,0x44,0xFF,0xFF,0x44,0x55,0x66,0x77,0x88,0x99,0x88,0x77,0x66,0x55,0x44,0x33,0x22,0x11,0xAA]);final WE VK=new WE(AQ);WF RF;WF get SF{if(RF!=null)return RF;RF=new WF();return RF;}String BQ(String A){if(A==null||A.isEmpty)return null;SF..reset()..init(false,VK);String B;try {var D=nP(A);var G=WK(SF,D);var C=UTF8.decode(G);var I=int.parse(C.substring(0,2),radix:10);B=C.substring(2,2+I);}catch (J){return null;}return B;}String CQ(String B){if(B==null||B.isEmpty)return null;String G;SF..reset()..init(true,VK);var J=B.length.toString().padLeft(2,'0');var A=J+B;var D=UTF8.encode(A);var I=16-(D.length%16);if(I!=16){var C=A.length+I;C=(C<16?16:C);A=A.padRight(C,'.');D=UTF8.encode(A);}try {var M=WK(SF,D);G=mP(M);}catch (S){uD.sJ("Error encoding password",S);return null;}return G;}Uint8List WK(WF D,Uint8List B){var C=new Uint8List(B.length);for(var A=0;A<B.lengthInBytes;){var G=D.lU(B,A,C,A);A+= G;}return C;}typedef dynamic DQ<HE>(HE _0);typedef void EQ(Process _0);typedef void PH(String _0);class QH extends ProcessResult{final hU;QH(int A,int B,C,D,this.hU):super(A,B,C,D);}class FQ{}Future<String> XK(File A,{bool useSmartHash: true})async{var B=await TF("md5sum");if(useSmartHash&&B!=null){try {var C=await Process.run(B,[A.absolute.path]);if(C.exitCode!=0){throw "Fail";}var D=C.stdout.split("\n").first;return D.split(" ").first;}catch (I){}}var G=await A.readAsBytes();return hP.convert(G).toString();}Future<bool> GQ(File A,String B)async{var C=await XK(A);return B==C;}Future YK(File A)async{var B=A.path+".md5";var C=new File(B);var D=await XK(A);await C.writeAsString(D);}enum ChecksumState {CREATED,SAME,MODIFIED}Future<ChecksumState> ZK(String C)async{var A=new File(C);var B=new File(A.path+".md5");if(!(await B.exists())){await YK(A);return ChecksumState.CREATED;}var D=(await B.readAsString()).trim();var G=await GQ(A,D);if(G){return ChecksumState.SAME;}else{await YK(A);return ChecksumState.MODIFIED;}}bool HQ=false;Future<QH> IQ(String D,{List<String> args: const[] ,String workingDirectory,Map<String,String> environment,bool includeParentEnvironment: true,bool runInShell: true,stdin,EQ handler,PH stdoutHandler,PH stderrHandler,PH outputHandler,FQ controller,File outputFile,bool logCompression: true,DQ<int> exitHandler,bool inherit: false,bool writeToBuffer: false,bool binary: false,bool capture: true,bool inheritStdin: false,Duration timeout,bool sudo: false})async{if(sudo&&(Platform.isLinux||Platform.isMacOS)&&(await TF("sudo"))!=null){var rD=D;D=await TF("sudo");args=new List<String>.from(args);args.insert(0,rD);}UE B;if(outputFile!=null){B=new UE(outputFile,logCompression:logCompression);await B.start();}if(workingDirectory==null){workingDirectory=Directory.current.path;}var S=new Map.from(environment is Map?environment:{});if(includeParentEnvironment){S["PATH"]=aK();}try {if(HQ){uD.SU("Execute '${D} ${args.join(' ')}' in ${workingDirectory}");}Process A=await Process.start(D,args,workingDirectory:workingDirectory,environment:S,includeParentEnvironment:includeParentEnvironment,runInShell:runInShell);if(controller!=null){controller.PW=A;controller.QW.complete();}if(B!=null){var sD="[${gC}] ==" " Executing ${D} with arguments" " ${args} (pid: ${A.pid}) ==";B.write(sD);}var I=new StringBuffer();var W=new StringBuffer();var b=new StringBuffer();var J=<int>[] ;var u=<int>[] ;var eB=<int>[] ;if(capture){if(!binary){A.stdout.transform(const Utf8Decoder(allowMalformed:true)).transform(const LineSplitter()).listen((C)async{if(writeToBuffer){W.writeln(C);I.writeln(C);}if(stdoutHandler!=null){stdoutHandler(C);}if(outputHandler!=null){outputHandler(C);}if(inherit){xU.stdout.writeln(C);}if(B!=null){B.write("[${gC}] ${C}");}});A.stderr.transform(const Utf8Decoder(allowMalformed:true)).transform(const LineSplitter()).listen((C)async{if(writeToBuffer){b.writeln(C);I.writeln(C);}if(stderrHandler!=null){stderrHandler(C);}if(outputHandler!=null){outputHandler(C);}if(inherit){xU.stderr.writeln(C);}if(B!=null){B.write("[${gC}] ${C}");}});}else{A.stdout.listen((G){if(writeToBuffer){J.addAll(G);eB.addAll(G);}});A.stderr.listen((G){if(writeToBuffer){J.addAll(G);u.addAll(G);}});}}if(handler!=null){handler(A);}if(stdin!=null){if(stdin is File){stdin=await stdin.openRead();}if(stdin is Stream){stdin.listen(A.stdin.add,onDone:A.stdin.close);}else if(stdin is List){A.stdin.add(stdin);}else{A.stdin.write(stdin);await A.stdin.close();}}else if(inherit&&inheritStdin){stdin.listen(A.stdin.add,onDone:A.stdin.close);}var JC=false;if(timeout!=null){new Future.delayed(timeout,(){if(!JC){A.kill(ProcessSignal.SIGKILL);}});}var M=await A.exitCode;JC=true;var KF=A.pid;await new Future.delayed(const Duration(milliseconds:5));if(B!=null){B.write("[${gC}] == Exited with status ${M} ==");}if(exitHandler!=null){exitHandler(M);}if(B!=null){await B.stop();}return new QH(KF,M,binary?eB:W.toString(),binary?u:b.toString(),binary?J:I.toString());}finally {if(B!=null){await B.stop();}}}Map<String,String> SE={};String aK(){var A=Platform.environment["PATH"].split(Platform.isWindows?";":":");if(Platform.isMacOS&&!A.contains("/usr/local/bin")){A.add("/usr/local/bin");}return A.join(Platform.isWindows?";":":");}Future<String> TF(String B)async{if(SE.containsKey(B)){var A=new File(SE[B]);if(await A.exists()){return A.path;}}if(const["dart","pub"].contains(B)){try {var J=new File(Platform.resolvedExecutable);var M=J.parent;var A=new File(UC(M.path,B));if(await A.exists()){return SE[B]=A.absolute.path;}}catch (eB){}}if(const["openssl"].contains(B)&&Platform.isWindows){var S=<String>[UC(Directory.current.path,"bin","tools","openssl","openssl.exe")];for(var W in S){var A=new File(W);if(await A.exists()){return SE[B]=A.absolute.path;}}}var b=aK().split(Platform.isWindows?";":":");var G=[B];if(Platform.isWindows){G.addAll(["${B}.exe","${B}.bat"]);}for(var C in b){if(C.startsWith('"')&&C.endsWith('"')){C=C.substring(1,C.length-1);}if(Platform.environment.containsKey("HOME")){var D=Platform.environment["HOME"];if(!D.endsWith("/")){D+= "/";}C=C.replaceAll("~/",D);}var I=new Directory(tQ(C)).absolute;if(!(await I.exists())){continue;}for(var u in G){var A=new File(UC(I.path,u)).absolute;if(await A.exists()){SE[B]=A.path;return A.path;}}}return null;}Future<bool> JQ()async{if(Platform.isLinux&&await new File("/.dockerinit").exists()){return true;}if(Platform.isLinux&&await new File("/.dockerenv").exists()){return true;}if(const bool.fromEnvironment("dsa.docker",defaultValue:false)){return true;}return false;}Future RH(String B,String A)async{var C=await Process.run(bK(),["--snapshot=${B}",A]);if(C.exitCode!=0){throw new Exception("Failed to generate snapshot for ${A}.");}}String bK(){String A;try {A=Platform.resolvedExecutable;}catch (B){try {A=Platform.executable.isNotEmpty?Platform.executable:"dart";}catch (B){A="dart";}}return A;}String get gC{return new DateTime.now().toString();}GZipCodec KQ=new GZipCodec();Future LQ(File A,File B,{bool clearOld: false})async{var G=await TF("gzip");if(!(await B.parent.exists())){await B.parent.create(recursive:true);}if(G!=null){await B.create(recursive:true);var D=await B.openWrite();var C=await IQ(G,stdin:A,handler:(Process I)async{I.stderr.drain();await D.addStream(I.stdout);},capture:false);if(C.exitCode!=0){await D.close();await B.delete();throw new Exception("Failed to GZIP Compress File ${A.path} to ${B.path}");}await new Future.delayed(const Duration(milliseconds:5));await D.close();if(clearOld){if(Platform.isWindows){await A.delete();await A.create(recursive:true);}else{await A.writeAsBytes([] ,flush:true);}}}else{var M=KQ.encoder;var J=await A.readAsBytes();var C=M.convert(J);await B.writeAsBytes(C,flush:true);J=null;C=null;if(clearOld){if(Platform.isWindows){await A.delete();await A.create(recursive:true);}else{await A.writeAsBytes([] ,flush:true);}}}}const int MQ=5242880;const int NQ=2;const Duration cK=const Duration(milliseconds:200);class UE{final File file;int dV;bool logCompression;UE(this.file,{this.logCompression: true}){if(!file.existsSync()){file.createSync(recursive:true);}}ZF RW;Future start([int B=0])async{if(RW!=null){RW.OJ();RW=null;}void M(String D,File W,[int C=0]){var G=new File('${D}.${C}');if(G.existsSync()){if(C>=NQ){G.deleteSync();}else{M(D,G,C+1);}}W.renameSync('${D}.${C}');}var A=B==0?null:new Duration(seconds:B);RW=iK.jK(cK,()async{if(A!=null){A-= cK;}if(SW.isNotEmpty){if(A!=null&&A<=Duration.ZERO){try {M(file.path,file);file.createSync();A=new Duration(seconds:B);}catch (I,J){if(uD!=null){uD.sJ("Failed to roll log: ${file.path}.",I,J);}}}var S=SW;SW=<String>[] ;await file.writeAsString(S.join("\n")+"\n",mode:FileMode.WRITE_ONLY_APPEND);S=null;if(!logCompression)return;try {var b=await file.stat();if(b.size>=MQ&&B<=0){var u=rK(file.path);var eB=new DateTime.now().millisecondsSinceEpoch;var JC=new File(UC(file.parent.path,"${u}.${eB}.gz"));await LQ(file,JC);await file.delete();await file.create();}}catch (I,J){if(uD!=null){uD.sJ("Failed to compress log ${file.path}.",I,J);}}}});}Future stop()async{if(RW!=null){RW.OJ();RW=null;}if(SW.isNotEmpty){await file.writeAsString(SW.join("\n")+"\n",mode:FileMode.WRITE_ONLY_APPEND);}}bool get isActive=>RW!=null;void write(String A){if(A.contains("\n")){SW.addAll(LineSplitter.split(A.trim()));}else{SW.add(A);}}List<String> SW=<String>[] ;}abstract class SH{}abstract class wD implements SH{}abstract class UF implements SH{}abstract class VE{static VE TH=new OQ();UF get i;wD WJ(String A){return i.vT(A);}}class dK implements wD{final File file;dK(this.file);Future create()async{await file.create(recursive:true);}Future delete()async{await file.delete(recursive:true);}Future<bool> exists(){return file.exists();}SH get parent{return new VF(file.parent);}String get path=>file.path;Future<List<int>> readAsBytes(){return file.readAsBytes();}Future<String> readAsString(){return file.readAsString();}Future writeAsString(String A,{bool verifyJson: false})async{return dQ(file,A,verifyJson:verifyJson);}}class VF implements UF{final Directory jD;VF(this.jD);wD vT(String A){var B=UC(jD.path,A);return new dK(new File(B));}Future create(){return jD.create(recursive:true);}Future delete(){return jD.delete(recursive:true);}Future<bool> exists(){return jD.exists();}UF get parent=>new VF(jD.parent);String get path=>jD.path;}class OQ extends VE{UF get i=>new VF(Directory.current);}class hB{final List<int> yE;hB(this.yE);bool operator==(Object A)=>A is hB&&const IH().GC(yE,A.yE);int get hashCode=>const IH().HC(yE);String toString()=>cP.encode(yE);}class fP extends Sink<hB>{hB get value{assert(TW!=null);return TW;}hB TW;void add(hB A){assert(TW==null);TW=A;}void close(){assert(TW!=null);}}final bQ=rQ;Future<File> cQ(File B,dynamic G,Future<File> I(File file,dynamic content),{bool verifyJson: false})async{final C=await Directory.current.createTemp();final J=rK(B.path);var A=new File("${C.path}${bQ}${J}");A=await I(A,G);var D=true;if(verifyJson){final M=await A.readAsString();try {JSON.decode(M);}on FormatException catch (S,W){D=false;WH.kO("Couldn't parse JSON after trying to write ${B.path}",S,W);}}if(D){A=await A.rename(B.absolute.path);C.delete();return A;}else{WH.kO("${B.path} wasn't saved, the original will be preserved");return B;}}Future<File> dQ(File B,String A,{bool verifyJson: false})async{return cQ(B,A,(File C,A)=>C.writeAsString(A,flush:true),verifyJson:verifyJson);}typedef dynamic gK();AB ZE;const bool eQ=identical(1,1.0);bool aE(hC B,String A,[bool D=false]){if(!eQ){bool C=new bool.fromEnvironment(A,defaultValue:null);if(C!=null){return C;}}if(B.zone[A] is bool){return B.zone[A];}return D;}AB get WH{if(ZE!=null){return ZE;}bE=true;ZE=new AB("DSA");ZE.gU.listen((A){List<String> D=A.message.split("\n");bool G=aE(A,"dsa.logger.inline_errors",true);bool I=aE(A,"dsa.logger.sequence",false);if(G){if(A.error!=null){D.addAll(A.error.toString().split("\n"));}if(A.stackTrace!=null){D.addAll(A.stackTrace.toString().split("\n").where((J)=>J.isNotEmpty).toList());}}String C=A.bJ;if(A.zone["dsa.logger.name"] is String){C=A.zone["dsa.logger.name"];}bool M=aE(A,"dsa.logger.show_timestamps",false);if(!aE(A,"dsa.logger.show_name",true)){C=null;}for(String S in D){String B="";if(I){B+= "[${A.jO}]";}if(M){B+= "[${A.sO}]";}B+= "[${A.level.name}]";if(C!=null){B+= "[${C}]";}B+= " ";B+= S;if(aE(A,"dsa.logger.print",true)){print(B);}}if(!G){if(A.error!=null){print(A.error);}if(A.stackTrace!=null){print(A.stackTrace);}}});fQ(const String.fromEnvironment("dsa.logger.default_level",defaultValue:"INFO"));return ZE;}void fQ(String A){A=A.trim().toUpperCase();if(A=="DEBUG"){A="ALL";}Map<String,V> C={};for(var B in V.pQ){C[B.name]=B;}var B=C[A];if(B!=null){WH.level=B;}}class gQ{}abstract class ZF{void OJ();}class hK extends ZF{final gK function;hK(this.function);void OJ(){if(function!=null){function();}}}class iK{static ZF jK(A,I()){Duration B;if(A is Duration){B=A;}else if(A is int){B=new Duration(milliseconds:A);}else if(A is gQ){B=A.duration;}else{throw new Exception("Invalid Interval: ${A}");}gK C;Timer D;bool G=false;C=()async{await I();if(!G){new Timer(B,C);}};D=new Timer(B,C);return new hK((){if(D!=null){D.cancel();}G=true;});}}final ZL=new RegExp(r"\r\n?|\n");class vH extends BE{int get RB=>UW;int UW=0;int get k=>VW;int VW=0;KD get state=>new aL(this,position,RB,k);bool get WW=>X(-1)==zJ&&X()==EH;set position(int A){var C=position;super.position=A;if(A>C){var B=XW(string.substring(C,A));UW+= B.length;if(B.isEmpty){VW+= A-C;}else{VW=A-B.last.end;}}else{var B=XW(string.substring(A,C));if(WW)B.removeLast();UW-= B.length;if(B.isEmpty){VW-= C-A;}else{VW=A-string.lastIndexOf(ZL,A)-1;}}}vH(String A,{sourceUrl,int position}):super(A,sourceUrl:sourceUrl,position:position);int U(){var A=super.U();YW(A);return A;}void YW(int A){if(A==EH||(A==zJ&&X()!=EH)){UW+= 1;VW=0;}else{VW+= 1;}}bool EB(Pattern B){if(!super.EB(B))return false;var A=XW(LE[0]);UW+= A.length;if(A.isEmpty){VW+= LE[0].length;}else{VW=LE[0].length-A.last.end;}return true;}List<Match> XW(String B){var A=ZL.allMatches(B).toList();if(WW)A.removeLast();return A;}}class aL implements KD{final vH ZW;final int position;final int RB;final int k;aL(this.ZW,this.position,this.RB,this.k);}const int LC=0x7fffffff;abstract class TC<R>{}class PF<R> implements TC<R>{const PF();bool GC(R A,R B)=>A==B;int HC(R A)=>A.hashCode;bool nG(Object A)=>true;}class BK<R> implements TC<Iterable<R>>{final TC<R> aW;const BK([TC<R> A=const PF()]):aW=A;bool GC(Iterable<R> A,Iterable<R> B){if(identical(A,B))return true;if(A==null||B==null)return false;var C=A.iterator;var D=B.iterator;while(true){bool G=C.moveNext();if(G!=D.moveNext())return false;if(!G)return true;if(!aW.GC(C.current,D.current))return false;}}int HC(Iterable<R> B){int A=0;for(R C in B){int D=aW.HC(C);A=(A+D)&LC;A=(A+(A<<10))&LC;A^= (A>>6);}A=(A+(A<<3))&LC;A^= (A>>11);A=(A+(A<<15))&LC;return A;}bool nG(Object A)=>A is Iterable<R>;}class IH<R> implements TC<List<R>>{final TC<R> aW;const IH([TC<R> A=const PF()]):aW=A;bool GC(List<R> A,List<R> B){if(identical(A,B))return true;if(A==null||B==null)return false;int D=A.length;if(D!=B.length)return false;for(int C=0;C<D;C++ ){if(!aW.GC(A[C],B[C]))return false;}return true;}int HC(List<R> C){int A=0;for(int B=0;B<C.length;B++ ){int D=aW.HC(C[B]);A=(A+D)&LC;A=(A+(A<<10))&LC;A^= (A>>6);}A=(A+(A<<3))&LC;A^= (A>>11);A=(A+(A<<15))&LC;return A;}bool nG(Object A)=>A is List<R>;}abstract class CK<R,HE extends Iterable<R>> implements TC<HE>{final TC<R> aW;const CK(this.aW);bool GC(HE D,HE G){if(identical(D,G))return true;if(D==null||G==null)return false;HashMap<R,int> C=new HashMap(equals:aW.GC,hashCode:aW.HC,isValidKey:aW.nG);int I=0;for(var B in D){int A=C[B];if(A==null)A=0;C[B]=A+1;I++ ;}for(var B in G){int A=C[B];if(A==null||A==0)return false;C[B]=A-1;I-- ;}return I==0;}int HC(HE B){int A=0;for(R C in B){int D=aW.HC(C);A=(A+D)&LC;}A=(A+(A<<3))&LC;A^= (A>>11);A=(A+(A<<15))&LC;return A;}}class DK<R> extends CK<R,Iterable<R>>{const DK([TC<R> A=const PF()]):super(A);bool nG(Object A)=>A is Iterable<R>;}class fF extends tH{String get source=>super.source;Uri get e=>L.e;fF(String A,v B,String C):super(A,B,C);}const int rH=10;const int KR=13;class bD{final Uri rJ;final bW=<int>[0];final Uint32List cW;int get length=>cW.length;int get ME=>bW.length;int dW;bD(String A,{url}):this.PV(A.runes,url:url);bD.PV(Iterable<int> D,{url}):rJ=url is String?Uri.parse(url):url,cW=new Uint32List.fromList(D.toList()){for(var A=0;A<cW.length;A++ ){var B=cW[A];if(B==KR){var C=A+1;if(C>=cW.length||cW[C]!=rH)B=rH;}if(B==rH)bW.add(A+1);}}n L(int B,[int A]){if(A==null)A=length-1;return new mC(this,B,A);}JD location(int A)=>new JD.QV(this,A);int kG(int A){if(A<0){throw new RangeError("Offset may not be negative, was ${A}.");}else if(A>length){throw new RangeError("Offset ${A} must not be greater than the number " "of characters in the file, ${length}.");}if(A<bW.first)return -1;if(A>=bW.last)return bW.length-1;if(eW(A))return dW;dW=fW(A)-1;return dW;}bool eW(int A){if(dW==null)return false;if(A<bW[dW])return false;if(dW>=bW.length-1||A<bW[dW+1]){return true;}if(dW>=bW.length-2||A<bW[dW+2]){dW++ ;return true;}return false;}int fW(int D){int A=0;int B=bW.length-1;while(A<B){var C=A+((B-A)~/2);if(bW[C]>D){B=C;}else{A=C+1;}}return B;}int VJ(int A,{int line}){if(A<0){throw new RangeError("Offset may not be negative, was ${A}.");}else if(A>length){throw new RangeError("Offset ${A} must be not be greater than the " "number of characters in the file, ${length}.");}if(line==null){line=kG(A);}else if(line<0){throw new RangeError("Line may not be negative, was ${line}.");}else if(line>=ME){throw new RangeError("Line ${line} must be less than the number of " "lines in the file, ${ME}.");}var B=bW[line];if(B>A){throw new RangeError("Line ${line} comes after offset ${A}.");}return A-B;}int uN(int A,[int B]){if(B==null)B=0;if(A<0){throw new RangeError("Line may not be negative, was ${A}.");}else if(A>=ME){throw new RangeError("Line ${A} must be less than the number of " "lines in the file, ${ME}.");}else if(B<0){throw new RangeError("Column may not be negative, was ${B}.");}var C=bW[A]+B;if(C>length||(A+1<ME&&C>=bW[A+1])){throw new RangeError("Line ${A} doesn't have ${B} columns.");}return C;}String xN(int A,[int B])=>new String.fromCharCodes(cW.sublist(A,B));}class JD extends LR implements jB{final bD file;final int offset;Uri get e=>file.rJ;int get RB=>file.kG(offset);int get k=>file.VJ(offset);JD.QV(this.file,this.offset){if(offset<0){throw new RangeError("Offset may not be negative, was ${offset}.");}else if(offset>file.length){throw new RangeError("Offset ${offset} must not be greater than the number " "of characters in the file, ${file.length}.");}}n TB()=>new mC(file,offset,offset);}abstract class n implements uH{}class mC extends YL implements n{final bD file;final int gW;final int hW;Uri get e=>file.rJ;int get length=>hW-gW;JD get start=>new JD.QV(file,gW);JD get end=>new JD.QV(file,hW);String get qD=>file.xN(gW,hW);String get context=>file.xN(file.uN(start.RB),end.RB==file.ME-1?null:file.uN(end.RB+1));mC(this.file,this.gW,this.hW){if(hW<gW){throw new ArgumentError('End ${hW} must come after start ${gW}.');}else if(hW>file.length){throw new RangeError("End ${hW} must not be greater than the number " "of characters in the file, ${file.length}.");}else if(gW<0){throw new RangeError("Start may not be negative, was ${gW}.");}}int compareTo(v A){if(A is!mC)return super.compareTo(A);mC B=A;var C=gW.compareTo(B.gW);return C==0?hW.compareTo(B.hW):C;}bool operator==(A){if(A is!n)return super==A;if(A is!mC){return super==A&&e==A.e;}return gW==A.gW&&hW==A.hW&&e==A.e;}int get hashCode=>super.hashCode;n expand(n A){if(e!=A.e){throw new ArgumentError("Source URLs \"${e}\" and " " \"${A.e}\" don't match.");}if(A is mC){var B=AH.min(this.gW,A.gW);var C=AH.max(this.hW,A.hW);return new mC(file,B,C);}else{var B=AH.min(this.gW,A.start.offset);var C=AH.max(this.hW,A.end.offset);return new mC(file,B,C);}}}abstract class NK extends Converter<List<int>,hB>{const NK();hB convert(List<int> C){var A=new fP();var B=startChunkedConversion(A);B.add(C);B.close();return A.value;}ByteConversionSink startChunkedConversion(Sink<hB> A);}abstract class PK implements Sink<List<int>>{final Sink<hB> iW;final Endianness jW;final Uint32List kW;static const gP=0x1fffffffffffffff;int lW=0;final mW=new gL();bool nW=false;Uint32List get DB;PK(this.iW,int A,{Endianness endian: Endianness.BIG_ENDIAN}):jW=endian,kW=new Uint32List(A);void vO(Uint32List A);void add(List<int> A){if(nW)throw new StateError('Hash.add() called after close().');lW+= A.length;mW.addAll(A);oW();}void close(){if(nW)return;nW=true;pW();oW();assert(mW.isEmpty);iW.add(new hB(qW()));iW.close();}Uint8List qW(){if(jW==Endianness.HOST_ENDIAN)return DB.buffer.asUint8List();var B=new Uint8List(DB.lengthInBytes);var C=B.buffer.asByteData();for(var A=0;A<DB.length;A++ ){C.setUint32(A*RE,DB[A]);}return B;}void oW(){var D=mW.buffer.asByteData();var C=mW.length~/kW.lengthInBytes;for(var B=0;B<C;B++ ){for(var A=0;A<kW.length;A++ ){kW[A]=D.getUint32(B*kW.lengthInBytes+A*RE,jW);}vO(kW);}mW.removeRange(0,C*kW.lengthInBytes);}void pW(){mW.add(0x80);var C=lW+9;var M=rW(C,kW.lengthInBytes);for(var D=0;D<M-C;D++ ){mW.add(0);}if(lW>gP){throw new UnsupportedError('Hashing is unsupported for messages with more than 2^64 bits.');}var G=lW*kP;var A=mW.length;mW.addAll(new Uint8List(8));var B=mW.buffer.asByteData();var I=G>>32;var J=G&WD;if(jW==Endianness.BIG_ENDIAN){B.setUint32(A,I,jW);B.setUint32(A+RE,J,jW);}else{B.setUint32(A,J,jW);B.setUint32(A+RE,I,jW);}}int rW(int B,int A)=>(B+A-1)&-A;}abstract class kC extends GB{String get IC;bool eG(String A);bool a(int A);bool NE(String A);int SC(String A,{bool withDrive: false});String wN(String A){var B=SC(A);if(B>0)return A.substring(0,B);return PB(A)?A[0]:null;}bool PB(String A);String HF(Uri A);bool dG(int A,int B)=>A==B;bool fJ(String A,String B)=>A==B;int TN(int A)=>A;String UN(String A)=>A;}class NR extends wH{}class KD{}class jB implements Comparable<jB>{}abstract class LR implements jB{String get qU{var A=e==null?'unknown source':e;return '${A}:${RB+1}:${k+1}';}int dN(jB A){if(e!=A.e){throw new ArgumentError("Source URLs \"${e}\" and " "\"${A.e}\" don't match.");}return (offset-A.offset).abs();}v TB()=>new v(this,this,"");int compareTo(jB A){if(e!=A.e){throw new ArgumentError("Source URLs \"${e}\" and " "\"${A.e}\" don't match.");}return offset-A.offset;}bool operator==(A)=>A is jB&&e==A.e&&offset==A.offset;int get hashCode=>e.hashCode+offset;String toString()=>'<${runtimeType}: ${offset} ${qU}>';}bool bE=false;V hQ=V.mK;V kK=V.XH;class AB{final String name;String get sN=>(parent==null||parent.name=='')?name:'${parent.sN}.${name}';final AB parent;V sW;final Map<String,AB> tW;final Map<String,AB> OD;StreamController<hC> uW;factory AB(String A){return iQ.putIfAbsent(A,()=>new AB.GV(A));}factory AB.GV(String A){if(A.startsWith('.')){throw new ArgumentError("name shouldn't start with a '.'");}int B=A.lastIndexOf('.');AB C;String D;if(B==-1){if(A!='')C=new AB('');D=A;}else{C=new AB(A.substring(0,B));D=A.substring(B+1);}return new AB.HV(D,C,new Map<String,AB>());}AB.HV(this.name,this.parent,Map<String,AB> A):this.tW=A,this.OD=new UnmodifiableMapView(A){if(parent!=null)parent.tW[name]=this;}V get level{if(bE){if(sW!=null)return sW;if(parent!=null)return parent.level;}return kK;}set level(V A){if(bE&&parent!=null){sW=A;}else{if(parent!=null){throw new UnsupportedError('Please set "hierarchicalLoggingEnabled" to true if you want to ' 'change the level on a non-root logger.');}kK=A;}}Stream<hC> get gU=>vW();bool WU(V A)=>(A>=level);void ZJ(V B,A,[Object J,StackTrace G,Zone I]){Object M;if(WU(B)){if(A is Function){A=A();}String C;if(A is String){C=A;}else{C=A.toString();M=A;}if(G==null&&B>=hQ){G=StackTrace.current;J??= 'autogenerated stack trace for ${B} ${C}';}if(I==null)I=Zone.current;var S=new hC(B,C,sN,J,G,I,M);if(bE){var D=this;while(D!=null){D.wW(S);D=D.parent;}}else{lK.wW(S);}}}void SU(A,[Object B,StackTrace C])=>ZJ(V.XH,A,B,C);void sJ(A,[Object B,StackTrace C])=>ZJ(V.nK,A,B,C);void kO(A,[Object B,StackTrace C])=>ZJ(V.oK,A,B,C);Stream<hC> vW(){if(bE||parent==null){if(uW==null){uW=new StreamController<hC>.broadcast(sync:true);}return uW.stream;}else{return lK.vW();}}void wW(hC A){if(uW!=null){uW.add(A);}}static final AB lK=new AB('');static final Map<String,AB> iQ=<String,AB>{};}class V implements Comparable<V>{final String name;final int value;const V(this.name,this.value);static const V jQ=const V('ALL',0);static const V mK=const V('OFF',2000);static const V kQ=const V('FINEST',300);static const V lQ=const V('FINER',400);static const V mQ=const V('FINE',500);static const V nQ=const V('CONFIG',700);static const V XH=const V('INFO',800);static const V nK=const V('WARNING',900);static const V oK=const V('SEVERE',1000);static const V oQ=const V('SHOUT',1200);static const List<V> pQ=const[jQ,kQ,lQ,mQ,nQ,XH,nK,oK,oQ,mK];bool operator==(Object A)=>A is V&&value==A.value;bool operator<(V A)=>value<A.value;bool operator<=(V A)=>value<=A.value;bool operator>(V A)=>value>A.value;bool operator>=(V A)=>value>=A.value;int compareTo(V A)=>value-A.value;int get hashCode=>value;String toString()=>name;}class hC{final V level;final String message;final Object fU;final String bJ;final DateTime sO;final int jO;static int qQ=0;final Object error;final StackTrace stackTrace;final Zone zone;hC(this.level,this.message,this.bJ,[this.error,this.stackTrace,this.zone,this.fU]):sO=new DateTime.now(),jO=hC.qQ++ ;String toString()=>'[${level.name}] ${bJ}: ${message}';}final hP=new QK.FV();class QK extends NK{final int blockSize=16*RE;QK.FV();ByteConversionSink startChunkedConversion(Sink<hB> A)=>new ByteConversionSink.from(new RK(A));}const iP=const[0xd76aa478,0xe8c7b756,0x242070db,0xc1bdceee,0xf57c0faf,0x4787c62a,0xa8304613,0xfd469501,0x698098d8,0x8b44f7af,0xffff5bb1,0x895cd7be,0x6b901122,0xfd987193,0xa679438e,0x49b40821,0xf61e2562,0xc040b340,0x265e5a51,0xe9b6c7aa,0xd62f105d,0x02441453,0xd8a1e681,0xe7d3fbc8,0x21e1cde6,0xc33707d6,0xf4d50d87,0x455a14ed,0xa9e3e905,0xfcefa3f8,0x676f02d9,0x8d2a4c8a,0xfffa3942,0x8771f681,0x6d9d6122,0xfde5380c,0xa4beea44,0x4bdecfa9,0xf6bb4b60,0xbebfbc70,0x289b7ec6,0xeaa127fa,0xd4ef3085,0x04881d05,0xd9d4d039,0xe6db99e5,0x1fa27cf8,0xc4ac5665,0xf4292244,0x432aff97,0xab9423a7,0xfc93a039,0x655b59c3,0x8f0ccc92,0xffeff47d,0x85845dd1,0x6fa87e4f,0xfe2ce6e0,0xa3014314,0x4e0811a1,0xf7537e82,0xbd3af235,0x2ad7d2bb,0xeb86d391];const jP=const[07,12,17,22,07,12,17,22,07,12,17,22,07,12,17,22,05,09,14,20,05,09,14,20,05,09,14,20,05,09,14,20,04,11,16,23,04,11,16,23,04,11,16,23,04,11,16,23,06,10,15,21,06,10,15,21,06,10,15,21,06,10,15,21];class RK extends PK{final DB=new Uint32List(4);RK(Sink<hB> A):super(A,16,endian:Endianness.LITTLE_ENDIAN){DB[0]=0x67452301;DB[1]=0xefcdab89;DB[2]=0x98badcfe;DB[3]=0x10325476;}void vO(Uint32List M){assert(M.length==16);var J=DB[0];var B=DB[1];var D=DB[2];var C=DB[3];int G;int I;for(var A=0;A<64;A++ ){if(A<16){G=(B&D)|((~B&WD)&C);I=A;}else if(A<32){G=(C&B)|((~C&WD)&D);I=((5*A)+1)%16;}else if(A<48){G=B^D^C;I=((3*A)+5)%16;}else{G=D^(B|(~C&WD));I=(7*A)%16;}var S=C;C=D;D=B;B=GD(B,lP(GD(GD(J,G),GD(iP[A],M[I])),jP[A]));J=S;}DB[0]=GD(J,DB[0]);DB[1]=GD(B,DB[1]);DB[2]=GD(D,DB[2]);DB[3]=GD(C,DB[3]);}}rB LP(String A,String B,String C,String D,List<String> G,Map<String,String> I,J,Function M,gB S,{bool negatable,bool splitCommas,bool hide: false}){return new rB.AV(A,B,C,D,G,I,J,M,S,negatable:negatable,splitCommas:splitCommas,hide:hide);}class rB{final String name;final String KE;final List<String> EJ;final AF;final Function callback;final String QU;final String sU;final Map<String,String> rT;final gB type;final bool negatable;final bool lO;final bool hide;bool get lD=>type==gB.MP;bool get EO=>type==gB.DH;rB.AV(this.name,this.KE,this.QU,this.sU,List<String> A,Map<String,String> B,this.AF,this.callback,gB C,{this.negatable,bool splitCommas,this.hide: false}):this.EJ=A==null?null:new UnmodifiableListView(A),this.rT=B==null?null:new UnmodifiableMapView(B),this.type=C,this.lO=splitCommas==null?C==gB.DH:splitCommas{if(name.isEmpty){throw new ArgumentError('Name cannot be empty.');}else if(name.startsWith('-')){throw new ArgumentError('Name ${name} cannot start with "-".');}if(xJ.hasMatch(name)){throw new ArgumentError('Name "${name}" contains invalid characters.');}if(KE!=null){if(KE.length!=1){throw new ArgumentError('Abbreviation must be null or have length 1.');}else if(KE=='-'){throw new ArgumentError('Abbreviation cannot be "-".');}if(xJ.hasMatch(KE)){throw new ArgumentError('Abbreviation is an invalid character.');}}}dynamic vN(A){if(A!=null)return A;if(!EO)return AF;if(AF!=null)return [AF];return [] ;}static final xJ=new RegExp(r'''[ \t\r\n"'\\/]''');}class gB{static const MP=const gB.BV("OptionType.FLAG");static const NP=const gB.BV("OptionType.SINGLE");static const DH=const gB.BV("OptionType.MULTIPLE");final String name;const gB.BV(this.name);}class YD{kC Q;String i;bool PB;List<String> c;List<String> OB;String get TJ=>xW()[1];bool get isAbsolute=>i!=null;factory YD.KV(String A,kC D){var I=D.wN(A);var M=D.PB(A);if(I!=null)A=A.substring(I.length);var J=<String>[] ;var G=<String>[] ;var B=0;if(A.isNotEmpty&&D.a(A.codeUnitAt(0))){G.add(A[0]);B=1;}else{G.add('');}for(var C=B;C<A.length;C++ ){if(D.a(A.codeUnitAt(C))){J.add(A.substring(B,C));G.add(A[C]);B=C+1;}}if(B<A.length){J.add(A.substring(B));G.add('');}return new YD.LV(D,I,M,J,G);}YD.LV(this.Q,this.i,this.PB,this.c,this.OB);String get FJ{var A=this.wT();A.IF();if(A.c.isEmpty)return i==null?'':i;return A.c.last;}String get GJ=>xW()[0];void IF(){while(!c.isEmpty&&c.last==''){c.removeLast();OB.removeLast();}if(OB.length>0)OB[OB.length-1]='';}void zC({bool canonicalize: false}){var C=0;var A=<String>[] ;for(var B in c){if(B=='.'||B==''){}else if(B=='..'){if(A.length>0){A.removeLast();}else{C++ ;}}else{A.add(canonicalize?Q.UN(B):B);}}if(!isAbsolute){A.insertAll(0,new List.filled(C,'..'));}if(A.length==0&&!isAbsolute){A.add('.');}var D=new List<String>.generate(A.length,(G)=>Q.IC,growable:true);D.insert(0,isAbsolute&&A.length>0&&Q.NE(i)?Q.IC:'');c=A;OB=D;if(i!=null&&Q==GB.cF){if(canonicalize)i=i.toLowerCase();i=i.replaceAll('/','\\');}IF();}String toString(){var A=new StringBuffer();if(i!=null)A.write(i);for(var B=0;B<c.length;B++ ){A.write(OB[B]);A.write(c[B]);}A.write(OB.last);return A.toString();}List<String> xW(){var A=c.lastWhere((C)=>C!='',orElse:()=>null);if(A==null)return ['',''];if(A=='..')return ['..',''];var B=A.lastIndexOf('.');if(B<=0)return [A,''];return [A.substring(0,B),A.substring(B)];}YD wT()=>new YD.LV(Q,i,PB,new List.from(c),new List.from(OB));}final OP=new RegExp(r'^-([a-zA-Z0-9])$');final PP=new RegExp(r'^-([a-zA-Z0-9]+)(.*)$');final QP=new RegExp(r'^--([a-zA-Z\-_0-9]+)(=(.*))?$');class OE{final String WN;final OE parent;final KC cC;final List<String> aB;final eC=<String>[] ;final Map<String,dynamic> DD=<String,dynamic>{};OE(this.WN,this.cC,this.aB,[this.parent,List<String> A]){if(A!=null)this.eC.addAll(A);}String get current=>aB[0];VD NB(){var I=aB.toList();var C=null;while(aB.length>0){if(current=='--'){aB.removeAt(0);break;}var D=cC.zE[current];if(D!=null){qB(eC.isEmpty,'Cannot specify arguments before a command.');var A=aB.removeAt(0);var J=new OE(A,D,aB,this,eC);try {C=J.NB();}on MF catch (G){if(A==null)rethrow;throw new MF(G.message,[A]..addAll(G.zE));}eC.clear();break;}if(WO())continue;if(UO(this))continue;if(eJ())continue;if(!cC.LN)break;eC.add(aB.removeAt(0));}cC.BD.forEach((M,B){if(B.callback==null)return;B.callback(B.vN(DD[M]));});eC.addAll(aB);aB.clear();return KP(cC,DD,WN,C,eC,I);}void cO(rB A){qB(aB.length>0,'Missing argument for "${A.name}".');setOption(DD,A,current);aB.removeAt(0);}bool WO(){var B=OP.firstMatch(current);if(B==null)return false;var A=cC.iG(B[1]);if(A==null){qB(parent!=null,'Could not find an option or flag "-${B[1]}".');return parent.WO();}aB.removeAt(0);if(A.lD){sG(DD,A,true);}else{cO(A);}return true;}bool UO(OE G){var A=PP.firstMatch(current);if(A==null)return false;var B=A[1].substring(0,1);var D=cC.iG(B);if(D==null){qB(parent!=null,'Could not find an option with short name "-${B}".');return parent.UO(G);}else if(!D.lD){var I='${A[1].substring(1)}${A[2]}';setOption(DD,D,I);}else{qB(A[2]=='','Option "-${B}" is a flag and cannot handle value ' '"${A[1].substring(1)}${A[2]}".');for(var C=0;C<A[1].length;C++ ){var B=A[1].substring(C,C+1);G.VO(B);}}aB.removeAt(0);return true;}void VO(String A){var B=cC.iG(A);if(B==null){qB(parent!=null,'Could not find an option with short name "-${A}".');parent.VO(A);return;}qB(B.lD,'Option "-${A}" must be a flag to be in a collapsed "-".');sG(DD,B,true);}bool eJ(){var C=QP.firstMatch(current);if(C==null)return false;var A=C[1];var B=cC.BD[A];if(B!=null){aB.removeAt(0);if(B.lD){qB(C[3]==null,'Flag option "${A}" should not be given a value.');sG(DD,B,true);}else if(C[3]!=null){setOption(DD,B,C[3]);}else{cO(B);}}else if(A.startsWith('no-')){A=A.substring('no-'.length);B=cC.BD[A];if(B==null){qB(parent!=null,'Could not find an option named "${A}".');return parent.eJ();}aB.removeAt(0);qB(B.lD,'Cannot negate non-flag option "${A}".');qB(B.negatable,'Cannot negate option "${A}".');sG(DD,B,false);}else{qB(parent!=null,'Could not find an option named "${A}".');return parent.eJ();}return true;}void qB(bool A,String B){if(!A)throw new MF(B);}void setOption(Map C,rB A,String B){assert(!A.lD);if(!A.EO){yW(A,B);C[A.name]=B;return;}var D=C.putIfAbsent(A.name,()=><String>[] );if(A.lO){for(var G in B.split(",")){yW(A,G);D.add(G);}}else{yW(A,B);D.add(B);}}void sG(Map B,rB A,bool C){assert(A.lD);B[A.name]=C;}void yW(rB A,String B){if(A.EJ==null)return;qB(A.EJ.contains(B),'"${B}" is not an allowed value for option "${A.name}".');}}final iC HD=vQ();String get pK{var B=Uri.base;if(B==qK)return cE;qK=B;if(GB.cH==GB.dE){cE=B.resolve('.').toString();return cE;}else{var A=B.toFilePath();var C=A.length-1;assert(A[C]=='/'||A[C]=='\\');cE=C==0?A:A.substring(0,C);return cE;}}Uri qK;String cE;String get rQ=>HD.IC;String rK(String A)=>HD.FJ(A);String sK(String A)=>HD.GJ(A);String sQ(String A)=>HD.AU(A);String tK(String A)=>HD.TJ(A);String UC(String A,[String B,String C,String D,String G,String I,String J,String M])=>HD.join(A,B,C,D,G,I,J,M);String tQ(String A)=>HD.zC(A);String uQ(A)=>HD.kU(A);class bF implements Exception{String message;bF(this.message);String toString()=>"PathException: ${message}";}class eH extends MC{final Function zW;eH(A,this.zW):super(A);o g(HB B){var A=AX.g(B);if(A.yC){return A.oB(zW(A.value));}else{return A;}}bool QB(N A){return A is eH&&super.QB(A)&&zW==A.zW;}}class GL extends MC{N BX;N CX;GL(A,this.BX,this.CX):super(A);o g(HB C){var A=C;do{A=BX.g(A);}while((A as o).yC);var B=AX.g(A);if(B.kD){return B;}A=B;do{A=CX.g(A);}while((A as o).yC);return A.oB(B.value);}List<N> get OD=>[AX,BX,CX];void replace(N A,N B){super.replace(A,B);if(BX==A){BX=B;}if(CX==A){CX=B;}}}class LL extends MC{LL(A):super(A);o g(HB A){var B=AX.g(A);if(B.yC){var C=A.buffer is String?A.buffer.substring(A.position,B.position):A.buffer.sublist(A.position,B.position);return B.oB(C);}else{return B;}}}class QL extends MC{QL(A):super(A);o g(HB B){var A=AX.g(B);if(A.yC){var C=new ZD(A.value,B.buffer,B.position,A.position);return A.oB(C);}else{return A;}}}class yD extends N{final lC DX;final String EX;yD(this.DX,this.EX);o g(HB A){var C=A.buffer;var B=A.position;if(B<C.length&&DX.test(C.codeUnitAt(B))){return A.oB(C[B],B+1);}return A.wC(EX);}String toString()=>'${super.toString()}[${EX}]';bool QB(N A){return A is yD&&super.QB(A)&&DX==A.DX&&EX==A.EX;}}abstract class lC{}class IL implements lC{final lC aO;IL(this.aO);bool test(int A)=>!aO.test(A);}lC BR(Iterable<zD> M){var I=new List.from(M,growable:false);I.sort((C,D){return C.start!=D.start?C.start-D.start:C.stop-D.stop;});var A=new List();for(var B in I){if(A.isEmpty){A.add(B);}else{var J=A.last;if(J.stop+1>=B.start){var S=new zD(J.start,B.stop);A[A.length-1]=S;}else{A.add(B);}}}if(A.length==1){return A[0].start==A[0].stop?new qH(A[0].start):A[0];}else{return new UL(A.length,A.map((G)=>G.start).toList(growable:false) as List<int>,A.map((G)=>G.stop).toList(growable:false) as List<int>);}}N Z(A,[String B]){return new yD(new qH(hE(A)),B!=null?B:'"${A}" expected');}class qH implements lC{final int value;const qH(this.value);bool test(int A)=>identical(this.value,A);}N dF([String A]){return new yD(DR,A!=null?A:'digit expected');}class RL implements lC{const RL();bool test(int A)=>48<=A&&A<=57;}const DR=const RL();N TL(String A,[String B]){return new yD(FR.NB(A).value,B!=null?B:'[${A}] expected');}N ER(){var B=ID().map((A)=>new zD(hE(A),hE(A)));var C=ID().pD(Z('-')).pD(ID()).map((A)=>new zD(hE(A[0]),hE(A[2])));var D=C.GF(B).pG().map((A)=>BR(A as Iterable<zD>));return Z('^').dC().pD(D).map((A)=>A[0]==null?A[1]:new IL(A[1]));}final FR=ER();class UL implements lC{final int length;final List<int> nO;final List<int> oO;UL(this.length,this.nO,this.oO);bool test(int D){var A=0;var B=length;while(A<B){var C=A+((B-A)>>1);var G=nO[C]-D;if(G==0){return true;}else if(G<0){A=C+1;}else{B=C;}}return 0<A&&D<=oO[A-1];}}class zD implements lC{final int start;final int stop;zD(this.start,this.stop);bool test(int A)=>start<=A&&A<=stop;}N GR([String A]){return new yD(HR,A!=null?A:'whitespace expected');}class VL implements lC{const VL();bool test(int A){if(A<256){return A==0x09||A==0x0A||A==0x0B||A==0x0C||A==0x0D||A==0x20||A==0x85||A==0xA0;}else{return A==0x1680||A==0x180E||A==0x2000||A==0x2001||A==0x2002||A==0x2003||A==0x2004||A==0x2005||A==0x2006||A==0x2007||A==0x2008||A==0x2009||A==0x200A||A==0x2028||A==0x2029||A==0x202F||A==0x205F||A==0x3000||A==0xFEFF;}}}const HR=const VL();int hE(A){if(A is num){return A.round();}var B=A.toString();if(B.length!=1){throw new ArgumentError('${B} is not a character');}return B.codeUnitAt(0);}class MC extends N{N AX;MC(this.AX);o g(HB A){return AX.g(A);}List<N> get OD=>[AX];void replace(N A,N B){super.replace(A,B);if(AX==A){AX=B;}}}class hH extends MC{final String EX;hH(A,this.EX):super(A);o g(HB B){var A=AX.g(B);if(A.kD||A.position==A.buffer.length){return A;}return A.wC(EX,A.position);}String toString()=>'${super.toString()}[${EX}]';bool QB(N A){return A is hH&&super.QB(A)&&EX==A.EX;}}class KL extends MC{KL(A):super(A);o g(HB B){var A=AX.g(B);if(A.yC){return B.oB(A.value);}else{return A;}}}class mH extends MC{final String EX;mH(A,this.EX):super(A);o g(HB A){var B=AX.g(A);if(B.kD){return A.oB(null);}else{return A.wC(EX);}}String toString()=>'${super.toString()}[${EX}]';bool QB(N A){return A is mH&&super.QB(A)&&EX==A.EX;}}class oH extends MC{final FX;oH(A,this.FX):super(A);o g(HB A){var B=AX.g(A);if(B.yC){return B;}else{return A.oB(FX);}}bool QB(N A){return A is oH&&super.QB(A)&&FX==A.FX;}}abstract class pH extends N{final List<N> GX;pH(this.GX);List<N> get OD=>GX;void replace(N B,N C){super.replace(B,C);for(var A=0;A<GX.length;A++ ){if(GX[A]==B){GX[A]=C;}}}}class gE extends pH{factory gE(Iterable<N> A){return new gE.MV(new List.from(A,growable:false));}gE.MV(List<N> A):super(A);o g(HB C){var A;for(var B=0;B<GX.length;B++ ){A=GX[B].g(C);if(A.yC){return A;}}return A;}N GF(N A){return new gE(new List()..addAll(GX)..add(A));}}class aD extends pH{factory aD(Iterable<N> A){return new aD.NV(new List.from(A,growable:false));}aD.NV(List<N> A):super(A);o g(HB G){var C=G;var D=new List(GX.length);for(var A=0;A<GX.length;A++ ){var B=GX[A].g(C);if(B.kD){return B;}D[A]=B.value;C=B;}return C.oB(D);}N pD(N A){return new aD(new List()..addAll(GX)..add(A));}}class HB{const HB(this.buffer,this.position);final buffer;final int position;o oB(B,[int A]){return new JL(buffer,A==null?this.position:A,B);}o wC(String B,[int A]){return new jH(buffer,A==null?this.position:A,B);}String toString()=>'Context[${yG()}]';String yG()=>ZD.OL(buffer,position);}abstract class o extends HB{const o(A,B):super(A,B);bool get yC=>false;bool get kD=>false;get value;String get message;}class JL extends o{const JL(A,B,this.value):super(A,B);bool get yC=>true;final value;String get message=>null;String toString()=>'Success[${yG()}]: ${value}';}class jH extends o{const jH(A,B,this.message):super(A,B);bool get kD=>true;get value=>throw new ML(this);final String message;String toString()=>'Failure[${yG()}]: ${message}';}class ML extends Error{final jH wC;ML(this.wC);String toString()=>'${wC.message} at ${wC.yG()}';}abstract class lH{const lH();N start();N O(Function A,[B,C,D,G,I,J]){var M=[B,C,D,G,I,J].takeWhile((S)=>S!=null).toList(growable:false);return new VC(A,M);}N uT({Function start: null,List arguments: const[] }){return HX(new VC(start!=null?start:this.start,arguments));}N HX(VC C){var I=new Map();N J(VC C){var A=I[C];if(A==null){var D=[C];A=C.resolve();while(A is VC){if(D.contains(A)){throw new StateError('Recursive references detected: ${D}');}D.add(A);A=A.resolve();}for(var b in D){I[b]=A;}}return A;}var G=[J(C)];var M=new Set.from(G);while(G.isNotEmpty){var S=G.removeLast();for(var B in S.OD){if(B is VC){var W=J(B);S.replace(B,W);B=W;}if(!M.contains(B)){M.add(B);G.add(B);}}}return I[C];}}class SL extends MC{SL(lH A):super(A.uT());}class VC extends N{final Function function;final List arguments;VC(this.function,this.arguments);N resolve()=>Function.apply(function,arguments);bool operator==(A){if(A is!VC||A.function!=function||A.arguments.length!=arguments.length){return false;}for(var B=0;B<arguments.length;B++ ){var C=arguments[B],D=A.arguments[B];if(C is N&&C is!VC&&D is N&&D is!VC){if(!C.DO(D)){return false;}}else{if(C!=D){return false;}}}return true;}int get hashCode=>function.hashCode;o g(HB A)=>throw new UnsupportedError('References cannot be parsed.');}abstract class N{o g(HB A);o NB(A){return g(new HB(A,0));}Iterable QD(B){var A=new List();sT().map((C)=>A.add(C)).pD(ID()).GF(ID()).fC().NB(B);return A;}Iterable aU(B){var A=new List();map((C)=>A.add(C)).GF(ID()).fC().NB(B);return A;}N dC([A])=>new oH(this,A);N fC()=>qG(0,eE);N pG()=>qG(1,eE);N qG(int A,int B){return new HL(this,A,B);}N xG(int A)=>qG(A,A);N pD(N A)=>new aD([this,A]);N operator&(N A)=>this.pD(A);N GF(N A)=>new gE([this,A]);N operator|(N A)=>this.GF(A);N sT()=>new KL(this);N eU([String A])=>new mH(this,A);N TO([String A])=>eU(A).pD(ID()).CD(1);N UJ()=>new LL(this);N pB()=>new QL(this);N trim([N A,N B]){if(A==null)A=GR();if(B==null)B=A;return new GL(this,A,B);}N end([String A='end of input expected']){return new hH(this,A);}N map(Function A)=>new eH(this,A);N CD(int A){return this.map((List B){return B[A<0?B.length+A:A];});}N jU(List<int> C){return this.map((List B){return C.map((A){return B[A<0?B.length+A:A];}).toList();});}N JF(N B,{bool includeSeparators: true,bool optionalSeparatorAtEnd: false}){var D=new aD([B,this]).fC();var I=new aD(optionalSeparatorAtEnd?[this,D,B.dC(B)]:[this,D]);return I.map((List C){var A=new List();A.add(C[0]);for(var G in C[1]){if(includeSeparators){A.add(G[0]);}A.add(G[1]);}if(includeSeparators&&optionalSeparatorAtEnd&&!identical(C[2],B)){A.add(C[2]);}return A;});}bool DO(N B,[Set<N> A]){if(A==null){A=new Set();}if(this==B||A.contains(this)){return true;}A.add(this);return runtimeType==B.runtimeType&&QB(B)&&PU(B,A);}bool QB(N A)=>true;bool PU(N D,Set<N> G){var B=OD,C=D.OD;if(B.length!=C.length){return false;}for(var A=0;A<B.length;A++ ){if(!B[A].DO(C[A],G)){return false;}}return true;}List<N> get OD=>const[] ;void replace(N A,N B){}}N ID([String A='input expected']){return new gH(A);}class gH extends N{final String EX;gH(this.EX);o g(HB A){var B=A.position;var C=A.buffer;return B<C.length?A.oB(C[B],B+1):A.wC(EX);}bool QB(N A){return A is gH&&super.QB(A)&&EX==A.EX;}}N iH(A,[String B]){return PL(1,(C)=>A.indexOf(C)>=0,B!=null?B:'any of ${A} expected');}N fE(String A,[String B]){return PL(A.length,(String C)=>A==C,B!=null?B:'${A} expected');}typedef bool NL(_0);N PL(int A,NL B,String C){return new nH(A,B,C);}class nH extends N{final int IX;final NL DX;final String EX;nH(this.IX,this.DX,this.EX);o g(HB A){final C=A.position;final B=C+IX;if(B<=A.buffer.length){var D=A.buffer is String?A.buffer.substring(C,B):A.buffer.sublist(C,B);if(DX(D)){return A.oB(D,B);}}return A.wC(EX);}String toString()=>'${super.toString()}[${EX}]';bool QB(N A){return A is nH&&super.QB(A)&&IX==A.IX&&DX==A.DX&&EX==A.EX;}}const int eE=-1;abstract class fH extends MC{final int JX;final int KX;fH(N A,this.JX,this.KX):super(A){assert(0<=JX);assert(KX==eE||JX<=KX);}String toString(){var A=KX==eE?'*':KX;return '${super.toString()}[${JX}..${A}]';}bool QB(N A){return A is fH&&super.QB(A)&&JX==A.JX&&KX==A.KX;}}class HL extends fH{HL(N A,int B,int C):super(A,B,C);o g(HB D){var B=D;var C=new List();while(C.length<JX){var A=AX.g(B);if(A.kD){return A;}C.add(A.value);B=A;}while(KX==eE||C.length<KX){var A=AX.g(B);if(A.kD){return B.oB(C);}C.add(A.value);B=A;}return B.oB(C);}}class ZD{final value;final buffer;final int start;final int stop;const ZD(this.value,this.buffer,this.start,this.stop);int get length=>stop-start;int get RB=>ZD.kH(buffer,start)[0];int get k=>ZD.kH(buffer,start)[1];String toString()=>'Token[${OL(buffer,start)}]: ${value}';bool operator==(A){return A is ZD&&value==A.value&&start==A.start&&stop==A.stop;}int get hashCode=>value.hashCode+start.hashCode+stop.hashCode;static N zQ()=>AR;static final N AR=Z('\n')|(Z('\r')&Z('\n').dC());static List<int> kH(String G,int A){var B=1,C=0;for(var D in zQ().pB().aU(G)){if(A<D.stop){return [B,A-C+1];}B++ ;C=D.stop;}return [B,A-C+1];}static String OL(A,int B){if(A is String){var C=ZD.kH(A,B);return '${C[0]}:${C[1]}';}else{return '${B}';}}}class BL extends kC{BL();final name='posix';final IC='/';final OB=const['/'];final iO=new RegExp(r'/');final SO=new RegExp(r'[^/]$');final fO=new RegExp(r'^/');final eO=null;bool eG(String A)=>A.contains('/');bool a(int A)=>A==AC;bool NE(String A)=>A.isNotEmpty&&!a(A.codeUnitAt(A.length-1));int SC(String A,{bool withDrive: false}){if(A.isNotEmpty&&a(A.codeUnitAt(0)))return 1;return 0;}bool PB(String A)=>false;String HF(Uri A){if(A.scheme==''||A.scheme=='file'){return Uri.decodeComponent(A.path);}throw new ArgumentError("Uri ${A} must have scheme 'file:'.");}}class EK<R> extends Object with ListMixin<R> implements Queue<R>{static const int FK=8;List<R> LX;int MX;int NX;EK([int A]):MX=0,NX=0{if(A==null||A<FK){A=FK;}else if(!GK(A)){A=HK(A);}assert(GK(A));LX=new List<R>(A);}void add(R A){OX(A);}void addAll(Iterable<R> G){if(G is List){var B=G;int A=B.length;int C=this.length;if(C+A>=LX.length){PX(C+A);LX.setRange(C,C+A,B,0);NX+= A;}else{int D=LX.length-NX;if(A<D){LX.setRange(NX,NX+A,B,0);NX+= A;}else{int I=A-D;LX.setRange(NX,NX+D,B,0);LX.setRange(0,I,B,D);NX=I;}}}else{for(R J in G)OX(J);}}String toString()=>IterableBase.iterableToFullString(this,"{","}");void addLast(R A){OX(A);}void addFirst(R A){MX=(MX-1)&(LX.length-1);LX[MX]=A;if(MX==NX)QX();}R removeFirst(){if(MX==NX)throw new StateError("No element");R A=LX[MX];LX[MX]=null;MX=(MX+1)&(LX.length-1);return A;}R removeLast(){if(MX==NX)throw new StateError("No element");NX=(NX-1)&(LX.length-1);R A=LX[NX];LX[NX]=null;return A;}int get length=>(NX-MX)&(LX.length-1);void set length(int A){if(A<0)throw new RangeError("Length ${A} may not be negative.");int C=A-length;if(C>=0){if(LX.length<=A){PX(A);}NX=(NX+C)&(LX.length-1);return;}int B=NX+C;if(B>=0){LX.fillRange(B,NX,null);}else{B+= LX.length;LX.fillRange(0,NX,null);LX.fillRange(B,LX.length,null);}NX=B;}R operator[](int A){if(A<0||A>=length){throw new RangeError("Index ${A} must be in the range [0..${length}).");}return LX[(MX+A)&(LX.length-1)];}void operator[]=(int A,R B){if(A<0||A>=length){throw new RangeError("Index ${A} must be in the range [0..${length}).");}LX[(MX+A)&(LX.length-1)]=B;}static bool GK(int A)=>(A&(A-1))==0;static int HK(int A){assert(A>0);A=(A<<1)-1;for(;;){int B=A&(A-1);if(B==0)return A;A=B;}}void OX(R A){LX[NX]=A;NX=(NX+1)&(LX.length-1);if(MX==NX)QX();}void QX(){List<R> A=new List<R>(LX.length*2);int B=LX.length-MX;A.setRange(0,B,LX,MX);A.setRange(B,B+MX,LX,0);MX=0;NX=LX.length;LX=A;}int RX(List<R> A){assert(A.length>=length);if(MX<=NX){int C=NX-MX;A.setRange(0,C,LX,MX);return C;}else{int B=LX.length-MX;A.setRange(0,B,LX,MX);A.setRange(B,B+NX,LX,0);return NX+B;}}void PX(int A){assert(A>=length);A+= A>>1;int C=HK(A);List<R> B=new List<R>(C);NX=RX(B);LX=B;MX=0;}}abstract class AE<LB,m> implements Map<LB,m>{factory AE()=>new eF();}class eF<LB,m> implements AE<LB,m>{final Map<LB,m> SX;final Map<m,LB> TX;AE<m,LB> UX;eF():this.OV(new HashMap(),new HashMap());eF.OV(this.SX,this.TX);m operator[](Object A)=>SX[A];void operator[]=(LB A,m B){VX(A,B,false);}void replace(LB A,m B){VX(A,B,true);}void addAll(Map<LB,m> A)=>A.forEach((B,C)=>VX(B,C,false));bool containsKey(Object A)=>SX.containsKey(A);bool containsValue(Object A)=>TX.containsKey(A);void forEach(void A(LB key,m value))=>SX.forEach(A);bool get isEmpty=>SX.isEmpty;bool get isNotEmpty=>SX.isNotEmpty;Iterable<LB> get keys=>SX.keys;int get length=>SX.length;Iterable<m> get values=>TX.keys;AE<m,LB> get VU{if(UX==null){UX=new eF.OV(TX,SX);}return UX;}m putIfAbsent(LB A,m C()){var B=SX[A];if(B!=null)return B;if(!SX.containsKey(A))return VX(A,C(),false);return null;}m remove(Object A){TX.remove(SX[A]);return SX.remove(A);}void clear(){SX.clear();TX.clear();}m VX(LB B,m A,bool D){if(B==null)throw new ArgumentError("null key");if(A==null)throw new ArgumentError("null value");var C=SX[B];if(C==A)return A;if(TX.containsKey(A)){if(!D)throw new ArgumentError("Mapping for ${A} exists");SX.remove(TX[A]);}TX.remove(C);SX[B]=A;TX[A]=B;return A;}}Iterable IR(Iterable<Iterable> A)=>A.expand((B)=>B);abstract class v implements Comparable<v>{factory v(jB A,jB B,String C)=>new sH(A,B,C);}class sH extends YL{final jB start;final jB end;final String qD;sH(this.start,this.end,this.qD){if(end.e!=start.e){throw new ArgumentError("Source URLs \"${start.e}\" and " " \"${end.e}\" don't match.");}else if(end.offset<start.offset){throw new ArgumentError('End ${end} must come after start ${start}.');}else if(qD.length!=start.dN(end)){throw new ArgumentError('Text "${qD}" must be ${start.dN(end)} ' 'characters long.');}}}class XL implements Exception{String get message=>WX;final String WX;v get L=>XX;final v XX;XL(this.WX,this.XX);String toString({color}){if(L==null)return message;return "Error on "+L.message(message,color:color);}}class tH extends XL implements FormatException{dynamic get source=>YX;final YX;int get offset=>L==null?null:L.start.offset;tH(String A,v B,[this.YX]):super(A,B);}abstract class YL implements v{Uri get e=>start.e;int get length=>end.offset-start.offset;int compareTo(v A){var B=start.compareTo(A.start);return B==0?end.compareTo(A.end):B;}String message(String C,{color}){var A=new StringBuffer();A.write('line ${start.RB+1}, column ${start.k+1}');if(e!=null)A.write(' of ${uQ(e)}');A.write(': ${C}');var B=this.RU(color:color);if(!B.isEmpty){A.writeln();A.write(B);}return A.toString();}String RU({color}){if(color==true)color=JR;if(color==false)color=null;var C=start.k;var A=new StringBuffer();String B;if(this is uH){var D=(this as uH).context;var G=MR(D,qD,C);if(G!=null&&G>0){A.write(D.substring(0,G));D=D.substring(G);}var M=D.indexOf('\n');B=M==-1?D:D.substring(0,M+1);C=AH.min(C,B.length);}else if(length==0){return "";}else{B=qD.split("\n").first;C=0;}var I=AH.min(C+end.offset-start.offset,B.length);if(color!=null){A.write(B.substring(0,C));A.write(color);A.write(B.substring(C,I));A.write(WL);A.write(B.substring(I));}else{A.write(B);}if(!B.endsWith('\n'))A.write('\n');for(var J=0;J<C;J++ ){if(B.codeUnitAt(J)==yJ){A.writeCharCode(yJ);}else{A.writeCharCode(RP);}}if(color!=null)A.write(color);A.write('^'*AH.max(I-C,1));if(color!=null)A.write(WL);return A.toString();}bool operator==(A)=>A is v&&start==A.start&&end==A.end;int get hashCode=>start.hashCode+(31*end.hashCode);String toString()=>'<${runtimeType}: from ${start} to ${end} "${qD}">';}class BE extends wH implements NR{final bD ZX;int get RB=>ZX.kG(position);int get k=>ZX.VJ(position);KD get state=>new bL(this,position);n aX;JD get location=>ZX.location(position);n get bB=>location.TB();BE(String A,{sourceUrl,int position}):ZX=new bD(A,url:sourceUrl),super(A,sourceUrl:sourceUrl,position:position);factory BE.fV(String string,{sourceUrl,int position})=vH;n UB(KD B,[KD A]){var C=A==null?position:A.position;return ZX.L(B.position,C);}bool QD(Pattern A){if(!super.QD(A)){aX=null;return false;}aX=ZX.L(position,LE.end);return true;}void error(String A,{Match match,int position,int length}){cL(string,match,position,length);if(match==null&&position==null&&length==null)match=LE;if(position==null){position=match==null?this.position:match.start;}if(length==null)length=match==null?1:match.end-match.start;var B=ZX.L(position,position+length);throw new fF(A,B,string);}}class bL implements KD{final BE bX;final int position;int get RB=>bX.ZX.kG(position);int get k=>bX.ZX.VJ(position);bL(this.bX,this.position);}class uH extends sH{}final OR=new RegExp("/").pattern=="\\/";class wH{final Uri e;final String string;int get position=>cX;set position(int A){if(A<0||A>string.length){throw new ArgumentError("Invalid position ${A}");}cX=A;}int cX=0;Match get LE=>dX;Match dX;String get eC=>string.substring(position);bool get xC=>position==string.length;wH(this.string,{sourceUrl,int position}):e=sourceUrl is String?Uri.parse(sourceUrl):sourceUrl{if(position!=null)this.position=position;}int U(){if(xC)eX("more input");return string.codeUnitAt(cX++ );}int X([int A]){if(A==null)A=0;var B=position+A;if(B<0||B>=string.length)return null;return string.codeUnitAt(B);}bool EB(Pattern B){var A=QD(B);if(A)cX=dX.end;return A;}void hG(Pattern A,{String name}){if(EB(A))return;if(name==null){if(A is RegExp){var B=A.pattern;if(!OR)B=B.replaceAll("/","\\/");name="/${B}/";}else{name=A.toString().replaceAll("\\","\\\\").replaceAll('"','\\"');name='"${name}"';}}eX(name);}bool QD(Pattern A){dX=A.matchAsPrefix(string,position);return dX!=null;}String substring(int B,[int A]){if(A==null)A=position;return string.substring(B,A);}void error(String A,{Match match,int position,int length}){cL(string,match,position,length);if(match==null&&position==null&&length==null)match=LE;if(position==null){position=match==null?this.position:match.start;}if(length==null)length=match==null?1:match.end-match.start;var B=new bD(string,url:e);var C=B.L(position,position+length);throw new fF(A,C,string);}void eX(String A){error("expected ${A}.",position:this.position,length:0);}}abstract class GB{static final GB xQ=new BL();static final GB cF=new DL();static final GB dE=new CL();static final GB cH=yQ();static GB yQ(){if(Uri.base.scheme!='file')return GB.dE;if(!Uri.base.path.endsWith('/'))return GB.dE;if(new Uri(path:'a/b').toFilePath()=='a\\b')return GB.cF;return GB.xQ;}String get name;iC get context=>new iC(style:this);String get IC;String wN(String A);String HF(Uri A);String toString()=>name;}class dL extends SL{dL():super(new TR());}class PR{String encode(Map<String,dynamic> B){var A=new RR();A.SJ(B,name:[] );return A.toString();}}abstract class QR{}typedef void xH<m>(m _0);class RR{static final RegExp SR=new RegExp(r'^[A-Za-z0-9_-]+$');final StringBuffer fX=new StringBuffer();void XJ(){if(fX.isNotEmpty)fX.writeln();}void TU(List<String> B,{bool array: false}){if(B.isNotEmpty){XJ();XJ();fX.write(array?'[[':'[');for(int A=0;A<B.length;A++ ){if(A!=0)fX.write('.');oN(B[A]);}fX.write(array?']]':']');}}pJ(A){while(A is QR)A=A.eV();return A;}void SJ(Map<String,dynamic> I,{List<String> name,bool array: false}){var C={};var D={};I.forEach((B,A){A=pJ(A);if(A is Map){D[B]=A;return;}if(A is Iterable&&A.length>0){A=A.map(pJ);if(A.every((G)=>G is Map)){D[B]=A;return;}}C[B]=A;});if(array||C.isNotEmpty){TU(name,array:array);C.forEach(UU);}D.forEach((B,A){name.add(B);if(A is Map){SJ(A,name:name);}else if(A is Iterable){A.forEach((G){SJ(G,name:name,array:true);});}name.removeLast();});}void UU(String A,B){XJ();oN(A);fX.write(' = ');pN(B);}void oN(String A){if(SR.hasMatch(A)){fX.write(A);}else{nN(A);}}void pN(A){A=pJ(A);xH B=OU(A);if(B==null)throw new AI(A);B(A);}xH OU(A){if(A is num)return HU;if(A is bool)return CU;if(A is DateTime)return DU;if(A is String)return IU;if(A is Iterable)return BU;return null;}void HU(num A){fX.write('${A}');}void CU(bool A){fX.write(A?'true':'false');}void DU(DateTime A){fX.write(A.toIso8601String());}Type rU(Iterable B){if(B.isEmpty)return null;if(identical(1,1.0)&&B.every((A)=>A is num)&&B.any((A)=>A is int)&&B.any((A)=>A is!int)){return num;}return B.map((A)=>A.runtimeType).reduce((C,D){if(C!=D)throw new BI(B);return C;});}void BU(Iterable B){var D=rU(B);fX.write('[');for(var A=0;A<B.length;A++ ){var C=B.elementAt(A);if(A!=0)fX.write(', ');pN(C);if(D==num&&C is int)fX.write('.0');}fX.write(']');}xH<String> NU(String A){var C=[BC.NC['"'],BC.NC['\\']];bool B(String D)=>BC.NC.values.where((G)=>!C.contains(G)).any(D.codeUnits.contains);if(A.contains('\n')||A.contains('\r')){if(A.split(new RegExp('\n|\r')).any(B)){return FU;}return GU;}if(A.contains("'")||B(A)){return nN;}return EU;}void IU(String A){var B=NU(A);B(A);}void gX(String A,{String quotes,Iterable<int> esc: const[] ,bool multiline: false}){if(esc.isNotEmpty){A=A.codeUnits.map((int B){if(esc.contains(B)){return '\\${BC.NC.VU[B]}';}return new String.fromCharCode(B);}).join();}if(multiline){if(quotes=='"""')A=A.replaceAll('"""',r'\"\"\"');}else if(A.contains('\n')||A.contains('\r')){throw new gF('Newlines are only allowed in multi-line strings!');}if(!esc.contains(quotes.codeUnitAt(0))&&A.contains(quotes)){throw new gF('"${quotes}" are prohibited in non-basic strings.');}fX.write(quotes);if(multiline)fX.writeln();fX.write(A);fX.write(quotes);}void nN(String A)=>gX(A,quotes:'"',esc:BC.NC.values);void FU(String B)=>gX(B,quotes:'"""',esc:BC.NC.values.where((A)=>A!=BC.NC['"']&&A!=BC.NC['n']&&A!=BC.NC['r']),multiline:true);void EU(String A)=>gX(A,quotes:"'");void GU(String A)=>gX(A,quotes:"'''",multiline:true);String toString()=>fX.toString();}class yH{final String BF;yH(this.BF);bool operator==(A)=>A is yH&&A.BF==BF;int get hashCode=>BF.hashCode;String toString()=>'The escape sequence "${BF}" is invalid!';}class gF{final String EF;gF(this.EF);bool operator==(A)=>A is gF&&A.EF==EF;int get hashCode=>EF.hashCode;String toString()=>EF;}class iE{final String name;iE(this.name);bool operator==(A)=>A is iE&&A.name==name;int get hashCode=>name.hashCode;String toString()=>'Cannot redefine "${name}"!';}class zH{final String name;zH(this.name);bool operator==(A)=>A is zH&&A.name==name;int get hashCode=>name.hashCode;String toString()=>'Cannot define table "${name}"! Parent must be a table!';}class AI{final value;AI(this.value);bool operator==(A)=>A is AI&&A.value==value;int get hashCode=>value.hashCode;String toString()=>'"${value}" cannot be encoded as a TOMl value!';}class BI{final Iterable ND;BI(this.ND);bool operator==(A)=>A is BI&&A.ND==ND;int get hashCode=>ND.hashCode;String toString()=>'The items of "${ND}" must all be of the same type!';}class BC extends lH{static final AE<String,int> NC=new AE()..addAll({'b':0x08,'t':0x09,'n':0x0A,'f':0x0C,'r':0x0D,'"':0x22,r'\':0x5C});start()=>O(PJ).end();pB(A,[bool C=false,bool B]){if(B==null)B=C;if(A is Function)A=O(A);var D=O(PD,C);var G=O(PD,B);return A.UJ().trim(D,G);}PD([bool A=false])=>A?O(PD)|O(FF):O(tJ)|O(yT);tJ()=>Z(' ')|Z('\t');FF()=>Z('\n')|Z('\r')&Z('\n');yT()=>Z('#')&O(FF).TO().fC();value()=>O(fG)|O(jG)|O(mG)|O(aG)|O(qO)|O(ND)|O(lG);N hX({N quotes,N esc,bool multiline: false}){var A=quotes;if(multiline)A=(A&O(gN).dC()).CD(0);var C=quotes;if(!multiline)C|= O(FF);var B=C.TO();if(esc!=null)B=esc|B;return (A&B.fC()&quotes).trim(O(PD)).CD(1).map((List D)=>D.join());}qO()=>O(bU)|O(QN)|O(dU)|O(ZU);QN()=>hX(quotes:Z('"'),esc:O(gG));gG()=>Z('\\')&(O(oJ)|O(kJ));oJ()=>Z('u')&O(zN).xG(4).UJ()|Z('U')&O(zN).xG(8).UJ();kJ()=>ID();zN()=>TL('0-9a-fA-F');bU()=>hX(quotes:fE('"""'),esc:O(cU),multiline:true);cU()=>O(uJ)|O(gG);uJ()=>Z('\\')&O(gN).pG()&O(tJ).fC();gN()=>O(tJ).fC()&O(FF);ZU()=>hX(quotes:fE("'"));dU()=>hX(quotes:fE("'''"),multiline:true);mG()=>O(pB,iX);iX()=>iH('+-').dC()&(Z('0')|O(aN));aN()=>dF().pG().JF(Z('_'));jG()=>O(pB,jX);jX()=>O(iX)&(O(JU)&O(qN).dC()|O(qN));JU()=>Z('.')&O(aN);qN()=>iH('eE')&O(iX);aG()=>O(pB,kX);kX()=>fE('true')|fE('false');fG()=>O(pB,lX);lX()=>O(LU)&Z('T')&O(MU);LU()=>O(zT)&Z('-')&O(iD)&Z('-')&O(iD);MU()=>O(iU)&O(pU);iU()=>O(iD)&Z(':')&O(iD)&Z(':')&O(iD)&(Z('.')&dF().qG(1,6)).dC();pU()=>Z('Z')|O(oU);oU()=>iH('+-')&O(iD)&Z(':')&O(iD);iD()=>dF().xG(2);zT()=>dF().xG(4);ND()=>vC(fG)|vC(jG)|vC(mG)|vC(aG)|vC(qO)|vC(ND)|vC(lG);vC(A)=>O(pB,Z('['),false,true)&O(A).JF(O(pB,Z(','),true),optionalSeparatorAtEnd:true,includeSeparators:false).dC([] )&O(pB,Z(']'),true,false);lJ()=>O(vG).trim(O(PD,true))&O(YJ);vG()=>Z('[')&O(nU)&Z(']');mJ()=>O(nJ).trim(O(PD,true))&O(YJ);nJ()=>Z('[')&O(vG)&Z(']');lG()=>O(pB,Z('{'))&O(oG).JF(pB(Z(',')),optionalSeparatorAtEnd:false,includeSeparators:false).dC([] )&O(pB,Z('}'));key()=>O(pB,tT)|O(mU);tT()=>TL('A-Za-z0-9_-').pG();mU()=>O(QN);nU()=>O(key).JF(Z('.'),includeSeparators:false);oG()=>O(key)&Z('=')&O(value);YJ()=>O(oG).JF(O(FF)&O(PD,true).fC(),includeSeparators:false,optionalSeparatorAtEnd:true).dC([] );PJ()=>O(PD,true).fC()&O(YJ)&(O(lJ)|O(mJ)).fC();}class TR extends BC{gG()=>super.gG().CD(1);kJ()=>super.kJ().map((String A){if(BC.NC.containsKey(A)){return new String.fromCharCode(BC.NC[A]);}throw new yH('\\${A}');});oJ()=>super.oJ().CD(1).map((A)=>new String.fromCharCode(int.parse(A,radix:16)));uJ()=>super.uJ().map((A)=>'');mG()=>super.mG().map((A)=>int.parse(A.replaceAll('_','')));jG()=>super.jG().map((A)=>double.parse(A.replaceAll('_','')));aG()=>super.aG().map((A)=>A=='true');fG()=>super.fG().map(DateTime.parse);vC(A)=>super.vC(A).CD(1);lJ()=>super.lJ().map((List A)=>{'type':'table','parent':A[0].sublist(0,A[0].length-1),'name':A[0].last,'pairs':A[1]});vG()=>super.vG().CD(1);mJ()=>super.mJ().map((List A)=>{'type':'table-array','parent':A[0].sublist(0,A[0].length-1),'name':A[0].last,'pairs':A[1]});nJ()=>super.nJ().CD(1);lG()=>super.lG().CD(1).map((List C){var A={};C.forEach((Map B){A[B['key']]=B['value'];});return A;});oG()=>super.oG().jU([0,2]).map((List A)=>{'key':A[0],'value':A[1]});PJ()=>super.PJ().map((List u){var J={};var eB=new Set();void M(String A){if(eB.contains(A))throw new iE(A);eB.add(A);}Function JC(Map rD,[String sD])=>(Map G){var A=sD==null?G['key']:'${sD}.${G['key']}';M(A);if(rD.containsKey(G['key']))throw new iE(A);rD[G['key']]=G['value'];};u[1].forEach(JC(J));u[2].forEach((Map C){var B=J;var A=[] ;C['parent'].forEach((String I){B=B.putIfAbsent(I,()=>{});if(B is List){I='${I}[${B.length-1}]';B=B.last;}A.add(I);if(B is!Map)throw new zH(A.join('.'));});A.add(C['name']);A=A.join('.');var S;if(C['type']=='table-array'){var W=B.putIfAbsent(C['name'],(){M(A);return [] ;});if(W is Map)throw new iE(A);var KF=W.length;W.add(S={});A='${A}[${KF}]';}else{S=B.putIfAbsent(C['name'],()=>{});}M(A);C['pairs'].forEach(JC(S,A));});b(D){if(D is Map){return new UnmodifiableMapView(new Map.fromIterables(D.keys,D.values.map(b)));}if(D is List){return new UnmodifiableListView(D.map(b));}return D;}return b(J);});}abstract class CI<R> extends ListBase<R>{static const int eL=8;List<R> mX;TypedData get nX=>mX as TypedData;int oX;CI(List<R> A):this.mX=A,this.oX=A.length;int get length=>oX;R operator[](int A){if(A>=length)throw new RangeError.index(A,this);return mX[A];}void operator[]=(int A,R B){if(A>=length)throw new RangeError.index(A,this);mX[A]=B;}void set length(int A){if(A<oX){R D=pX;for(int C=A;C<oX;C++ ){mX[C]=D;}}else if(A>mX.length){List<R> B;if(mX.length==0){B=qX(A);}else{B=rX(A);}B.setRange(0,oX,mX);mX=B;}oX=A;}void sX(R A){if(oX==mX.length)tX(oX);mX[oX++ ]=A;}void add(R A){sX(A);}void addAll(Iterable<R> C,[int A=0,int B]){RangeError.checkNotNegative(A,"start");if(B!=null&&A>B){throw new RangeError.range(B,A,null,"end");}uX(C,A,B);}void insertAll(int D,Iterable<R> G,[int B=0,int A]){RangeError.checkValidIndex(D,this,"index",oX+1);RangeError.checkNotNegative(B,"start");if(A!=null){if(B>A){throw new RangeError.range(A,B,null,"end");}if(B==A)return;}if(D==oX){uX(G,B,A);return;}if(A==null&&G is List){A=G.length;}if(A!=null){vX(D,G,B,A);return;}var C=oX;var I=B;for(var J in G){if(I>0){I-- ;continue;}if(C==mX.length){tX(C);}mX[C++ ]=J;}if(I>0){throw new StateError("Too few elements");}if(A!=null&&C<A){throw new RangeError.range(A,B,C,"end");}DI(mX,D,oX);DI(mX,oX,C);DI(mX,D,C);oX=C;return;}static void DI(List B,int C,int A){A-- ;while(C<A){var D=B[C];var G=B[A];B[A]=D;B[C]=G;C++ ;A-- ;}}void uX(Iterable<R> A,[int B=0,int C]){if(A is List)C??= A.length;if(C!=null){vX(oX,A,B,C);return;}var D=0;for(var G in A){if(D>=B)add(G);D++ ;}if(D<B)throw new StateError("Too few elements");}void vX(int B,Iterable<R> A,int G,int C){if(A is List){C??= A.length;if(G>A.length||C>A.length){throw new StateError("Too few elements");}}else{assert(C!=null);}var D=C-G;var I=oX+D;wX(I);mX.setRange(B+D,oX+D,mX,B);mX.setRange(B,B+D,A,G);oX=I;}void insert(int A,R C){if(A<0||A>oX){throw new RangeError.range(A,0,oX);}if(oX<mX.length){mX.setRange(A+1,oX+1,mX,A);mX[A]=C;oX++ ;return;}List<R> B=rX(null);B.setRange(0,A,mX);B.setRange(A+1,oX+1,mX,A);B[A]=C;oX++ ;mX=B;}void wX(int A){if(A<=mX.length)return;var B=rX(A);B.setRange(0,oX,mX);mX=B;}List<R> rX(int B){int A=mX.length*2;if(B!=null&&A<B){A=B;}else if(A<eL){A=eL;}return qX(A);}void tX(int A){mX=rX(null)..setRange(0,A,mX);}void setRange(int B,int A,Iterable<R> C,[int D=0]){if(A>oX)throw new RangeError.range(A,0,oX);xX(B,A,C,D);}void xX(int B,int C,Iterable<R> A,int D){if(A is CI<R>){mX.setRange(B,C,A.mX,D);}else{mX.setRange(B,C,A,D);}}int get elementSizeInBytes=>nX.elementSizeInBytes;int get lengthInBytes=>oX*nX.elementSizeInBytes;int get offsetInBytes=>nX.offsetInBytes;ByteBuffer get buffer=>nX.buffer;R get pX;List<R> qX(int A);}abstract class fL extends CI<int>{fL(List<int> A):super(A);int get pX=>0;}class gL extends fL{gL([int A=0]):super(new Uint8List(A));Uint8List qX(int A)=>new Uint8List(A);}abstract class bP<LB,m> implements Map<LB,m>{static PE(){throw new UnsupportedError("Cannot modify an unmodifiable Map");}void operator[]=(LB A,m B)=>PE();m putIfAbsent(LB A,m B())=>PE();void addAll(Map<LB,m> A)=>PE();m remove(Object A)=>PE();void clear()=>PE();}class CL extends kC{CL();final name='url';final IC='/';final OB=const['/'];final iO=new RegExp(r'/');final SO=new RegExp(r"(^[a-zA-Z][-+.a-zA-Z\d]*://|[^/])$");final fO=new RegExp(r"[a-zA-Z][-+.a-zA-Z\d]*://[^/]*");final eO=new RegExp(r"^/");bool eG(String A)=>A.contains('/');bool a(int A)=>A==AC;bool NE(String A){if(A.isEmpty)return false;if(!a(A.codeUnitAt(A.length-1)))return true;return A.endsWith("://")&&SC(A)==A.length;}int SC(String A,{bool withDrive: false}){if(A.isEmpty)return 0;if(a(A.codeUnitAt(0)))return 1;for(var C=0;C<A.length;C++ ){var D=A.codeUnitAt(C);if(a(D))return 0;if(D==YH){if(C==0)return 0;if(A.startsWith('//',C+1))C+= 3;var B=A.indexOf('/',C);if(B<=0)return A.length;if(!withDrive||A.length<B+3)return B;if(!A.startsWith('file://'))return B;if(!FL(A,B+1))return B;return A.length==B+3?B+3:B+4;}}return 0;}bool PB(String A)=>A.isNotEmpty&&a(A.codeUnitAt(0));String HF(Uri A)=>A.toString();}const WD=0xFFFFFFFF;const kP=8;const RE=4;int GD(int A,int B)=>(A+B)&WD;int lP(int A,int C){var B=C&31;return ((A<<B)&WD)|((A&WD)>>(32-B));}bool EL(int A)=>(A>=uK&&A<=vK)||(A>=wK&&A<=xK);bool FL(String A,int B){if(A.length<B+2)return false;if(!EL(A.codeUnitAt(B)))return false;if(A.codeUnitAt(B+1)!=YH)return false;if(A.length==B+2)return true;return A.codeUnitAt(B+2)==AC;}int MR(String B,String C,int D){var J=C=='';var A=B.indexOf(C);while(A!=-1){var G=B.lastIndexOf('\n',A)+1;var I=A-G;if(D==I||(J&&D==I+1)){return G;}A=B.indexOf(C,A+1);}return null;}void cL(String C,Match D,int A,int B){if(D!=null&&(A!=null||B!=null)){throw new ArgumentError("Can't pass both match and position/length.");}if(A!=null){if(A<0){throw new RangeError("position must be greater than or equal to 0.");}else if(A>C.length){throw new RangeError("position must be less than or equal to the " "string length.");}}if(B!=null&&B<0){throw new RangeError("length must be greater than or equal to 0.");}if(A!=null&&B!=null&&A+B>C.length){throw new RangeError("position plus length must not go beyond the end of " "the string.");}}main(List<String> D)async{var B=new KC();B.DJ("log-file",abbr:"l",help:"Log File");B.DJ("manager-port",abbr:"m",help:"Manager Port");B.DJ("manager-token",abbr:"t",help:"Manager Token");var A=B.NB(D);var C=(J)async{print("");if(TD!=null){print("Killing Server Process.");await BH();await new Future.delayed(const Duration(seconds:1));await TD.kill();}exit(0);};ProcessSignal.SIGHUP.watch().listen(C);ProcessSignal.SIGINT.watch().listen(C);if(A["manager-port"]!=null&&A["manager-token"]!=null){var G=int.parse(A["manager-port"]);var I=A["manager-token"];await HP(G,I);}FP=iK.jK(new Duration(minutes:3),()async{if(Platform.numberOfProcessors==1){return;}await GP();});while(vJ){if(A["log-file"]!=null){SD=new File(A["log-file"]);if(!(await SD.exists())){await SD.create(recursive:true);}}await EP();await new Future.delayed(const Duration(seconds:3));}exit(0);}bool vJ=true;Future<bool> BH([bool A=false])async{vJ=A;await CH(TD.pid);return true;}Future CH(int A)async{if(Platform.isWindows){await Process.run("taskkill",["/F","/T","/PID",A.toString()]);}else{await Process.run("pkill",["-TERM","-P",A.toString()]);await Process.run("kill",["-TERM",A.toString()]);}}File SD;UE tD;Process TD;UD(String A,[bool B=false]){if(tD!=null){tD.write(A);}if(B){print(A);}}EP()async{QF A=new QF();await A.KO();if(SD!=null){tD=new UE(SD,logCompression:A.QJ);await tD.start(A.aJ);}UD("==== Server Start ====",true);var KF=Platform.script;var tU=KF.toFilePath(windows:Platform.isWindows);var M=sQ(tU);var B=new File(UC(M,"dglux_server.dart"));if(!(await B.exists())){B=new File(UC(M,"server.dart"));}File u;File D;{var G=await ZK(B.path);var S=UC(B.parent.path,sK(B.path)+".snapshot");D=new File(S);if(!(await D.exists())){G=ChecksumState.MODIFIED;}if(G!=ChecksumState.SAME){try {await RH(D.path,B.path);}catch (uU){}}u=B;B=D;}{var J=new File(UC(M,"runtime.dart"));var G=await ZK(J.path);var S=UC(J.parent.path,sK(J.path)+".snapshot");var eB=new File(S);if(!(await eB.exists())){G=ChecksumState.MODIFIED;}if(G!=ChecksumState.SAME){try {await RH(eB.path,J.path);}catch (uU){}}}String vU=bK();var C=["-Ddglux.server.watcher=true","-Ddslink.runtime.manager=true"];if(A.LJ){C.add("--checked");}if(A.AD is bool&&A.AD==true){C.add("--observe");}else if(A.AD is String&&A.AD.isNotEmpty){C.add("--observe=${A.AD}");}C.addAll(A.rG);if(SD!=null){C.add("-Ddglux.server.log=${SD.absolute.path}");}Directory JC=Directory.current;if(!A.rG.any((wU)=>wU.startsWith("--old_gen_heap_size"))){C.add("--old_gen_heap_size=1024");}C.add(B.path);if(await JQ()){C.add("--docker");var rD=new Directory("/data");if(await rD.exists()){JC=rD;}}Process I=await Process.start(vU,C,workingDirectory:JC.path);IP=I.pid;TD=I;I.stdout.transform(const Utf8Decoder()).transform(const LineSplitter()).listen((W)async{var b="[${gC}] "+W;UD(b,true);});I.stderr.transform(const Utf8Decoder()).transform(const LineSplitter()).listen((W)async{var b="[${gC}] "+W;UD(b,true);});var sD=await I.exitCode;if(sD==253){await RH(D.path,u.path);UD("[${gC}] ==== Regenerating Snapshot ====",true);}else{UD("[${gC}] ==== Server Died (exit code: ${sD}) ====",true);if(tD!=null){await tD.stop();}}}ZF FP;Future GP()async{QF A=new QF();await A.KO();if(!A.RJ){return;}var J=A.CF!=null&&A.CF>0&&A.bG!=null&&A.bG.isNotEmpty;var D=A.qJ;if(D==null||D.isEmpty){D="${J?"https":"http"}:" "//${InternetAddress.LOOPBACK_IP_V4.address}:" "${J?A.CF:A.port}/ping";}if(ED==null){ED=new HttpClient();ED.maxConnectionsPerHost=2;ED.badCertificateCallback=(S,W,b)=>true;}try {var G=const Duration(seconds:10);var B=Uri.parse(D);HttpClientRequest I=await ED.getUrl(B).timeout(G);HttpClientResponse C=await I.close().timeout(G);await C.drain();if(C.statusCode!=200){throw new Exception("Status Code on port '${B.port}'" " is not Ok: ${C.statusCode}");}if(A.port>0&&B.scheme=='https'){B=B.replace(scheme:'http',port:A.port);I=await ED.getUrl(B).timeout(G);C=await I.close().timeout(G);await C.drain();if(C.statusCode!=200){throw new Exception("Status Code on port '${B.port}'" " is not Ok: ${C.statusCode}");}}if(A.jJ.toLowerCase()=='debug'){UD("==== Uptime Manager: Server Up ====",true);}}catch (M){try {ED.close(force:true);ED=null;}catch (M){}UD("[${gC}] ==== Uptime Manager: Server Down (${M}) ====",true);await BH(true);}}HttpClient ED;HttpServer wJ;Future HP(int B,String C)async{wJ=await HttpServer.bind(InternetAddress.LOOPBACK_IP_V4.address,B);wJ.listen((A)async{if(A.uri.path=="/ws"&&A.uri.query==C){try {var D=await WebSocketTransformer.upgrade(A);JP(D);}catch (G){A.response.close();}}else{A.response..statusCode=404..writeln("Not Found")..close();}});}int IP;JP(WebSocket A)async{A.listen((B)async{if(B=="stop"){var C=await BH();if(C){A.add("OK");}else{A.add("ERROR");}if(TD!=null){await CH(TD.pid);}await CH(xU.pid);}else if(B=="rebind"){if(TD!=null){var D=new File(".signal");await D.writeAsString("rebind");A.add("OK");}else{A.add("ERROR");}}else{A.add("ERROR");}});}const dH=0x20;class DL extends kC{DL();final name='windows';final IC='\\';final OB=const['/','\\'];final iO=new RegExp(r'[/\\]');final SO=new RegExp(r'[^/\\]$');final fO=new RegExp(r'^(\\\\[^\\]+\\[^\\/]+|[a-zA-Z]:[/\\])');final eO=new RegExp(r"^[/\\](?![/\\])");bool eG(String A)=>A.contains('/');bool a(int A)=>A==AC||A==xD;bool NE(String A){if(A.isEmpty)return false;return !a(A.codeUnitAt(A.length-1));}int SC(String A,{bool withDrive: false}){if(A.isEmpty)return 0;if(A.codeUnitAt(0)==AC)return 1;if(A.codeUnitAt(0)==xD){if(A.length<2||A.codeUnitAt(1)!=xD)return 1;var B=A.indexOf('\\',2);if(B>0){B=A.indexOf('\\',B+1);if(B>0)return B;}return A.length;}if(A.length<3)return 0;if(!EL(A.codeUnitAt(0)))return 0;if(A.codeUnitAt(1)!=YH)return 0;if(!a(A.codeUnitAt(2)))return 0;return 3;}bool PB(String A)=>SC(A)==1;String HF(Uri B){if(B.scheme!=''&&B.scheme!='file'){throw new ArgumentError("Uri ${B} must have scheme 'file:'.");}var A=B.path;if(B.host==''){if(A.length>=3&&A.startsWith('/')&&FL(A,1)){A=A.replaceFirst("/","");}}else{A='\\\\${B.host}${A}';}return Uri.decodeComponent(A.replaceAll("/","\\"));}bool dG(int A,int B){if(A==B)return true;if(A==AC)return B==xD;if(A==xD)return B==AC;if(A^B!=dH)return false;var C=A|dH;return C>=wK&&C<=xK;}bool fJ(String A,String C){if(identical(A,C))return true;if(A.length!=C.length)return false;for(var B=0;B<A.length;B++ ){if(!dG(A.codeUnitAt(B),C.codeUnitAt(B))){return false;}}return true;}int TN(int A){if(A==AC)return xD;if(A<uK)return A;if(A>vK)return A;return A|dH;}String UN(String A)=>A.toLowerCase();}RS(String A,{sourceUrl})=>SS(A,sourceUrl:sourceUrl).value;BB SS(String A,{sourceUrl})=>TS(A,sourceUrl:sourceUrl).KJ;GE TS(String D,{sourceUrl}){var A=new pL(D,sourceUrl:sourceUrl);var B=A.load();if(B==null){return new GE.VV(new IB.ZV(null,A.L),A.L,null,const[] );}var C=A.load();if(C!=null){throw new Y("Only expected one document.",C.L);}return B;}Map UR()=>new HashMap(equals:VR,hashCode:hL);bool VR(A,B)=>new WR().GC(A,B);class WR{final yX=[] ;final zX=[] ;bool GC(A,B){if(A is IB)A=A.value;if(B is IB)B=B.value;for(var C=0;C<yX.length;C++ ){var D=identical(A,yX[C]);var G=identical(B,zX[C]);if(D&&G)return true;if(D||G)return false;}yX.add(A);zX.add(B);try {if(A is List&&B is List){return AY(A,B);}else if(A is Map&&B is Map){return BY(A,B);}else if(A is num&&B is num){return CY(A,B);}else{return A==B;}}finally {yX.removeLast();zX.removeLast();}}bool AY(List B,List C){if(B.length!=C.length)return false;for(var A=0;A<B.length;A++ ){if(!GC(B[A],C[A]))return false;}return true;}bool BY(Map A,Map B){if(A.length!=B.length)return false;for(var C in A.keys){if(!B.containsKey(C))return false;if(!GC(A[C],B[C]))return false;}return true;}bool CY(num A,num B){if(A.isNaN&&B.isNaN)return true;return A==B;}}int hL(G){var B=[] ;C(A){if(B.any((I)=>identical(I,A)))return -1;B.add(A);try {if(A is Map){var D=const DK();return D.HC(A.keys.map(C))^D.HC(A.values.map(C));}else if(A is Iterable){return const BK().HC(A.map(hL));}else if(A is IB){return A.value.hashCode;}else{return A.hashCode;}}finally {B.removeLast();}}return C(G);}class f{final d type;final n L;f(this.type,this.L);String toString()=>type.toString();}class hF implements f{get type=>d.XR;final n L;final qE versionDirective;final List<DC> wG;final bool isImplicit;hF(this.L,{this.versionDirective,List<DC> tagDirectives,this.isImplicit: true}):wG=tagDirectives==null?[] :tagDirectives;String toString()=>"DOCUMENT_START";}class iF implements f{get type=>d.kL;final n L;final bool isImplicit;iF(this.L,{this.isImplicit: true});String toString()=>"DOCUMENT_END";}class EI implements f{get type=>d.lL;final n L;final String name;EI(this.L,this.name);String toString()=>"ALIAS ${name}";}abstract class FI implements f{String get anchor;String get tag;String toString(){var A=new StringBuffer('${type}');if(anchor!=null)A.write(" &${anchor}");if(tag!=null)A.write(" ${tag}");return A.toString();}}class CC extends FI{get type=>d.mL;final n L;final String anchor;final String tag;final String value;final KB Q;CC(this.L,this.value,this.Q,{this.anchor,this.tag});String toString()=>"${super.toString()} \"${value}\"";}class jE extends FI{get type=>d.nL;final n L;final String anchor;final String tag;final kB Q;jE(this.L,this.Q,{this.anchor,this.tag});}class kE extends FI{get type=>d.oL;final n L;final String anchor;final String tag;final kB Q;kE(this.L,this.Q,{this.anchor,this.tag});}class d{static const iL=const d.RV("STREAM_START");static const jL=const d.RV("STREAM_END");static const XR=const d.RV("DOCUMENT_START");static const kL=const d.RV("DOCUMENT_END");static const lL=const d.RV("ALIAS");static const mL=const d.RV("SCALAR");static const nL=const d.RV("SEQUENCE_START");static const jF=const d.RV("SEQUENCE_END");static const oL=const d.RV("MAPPING_START");static const kF=const d.RV("MAPPING_END");final String name;const d.RV(this.name);String toString()=>name;}class Y extends tH{Y(String A,v B):super(A,B);}class pL{final GI DY;final EY=new Map<String,BB>();n get L=>FY;n FY;pL(String B,{sourceUrl}):DY=new GI(B,sourceUrl:sourceUrl){var A=DY.NB();FY=A.L;assert(A.type==d.iL);}GE load(){if(DY.xC)return null;var A=DY.NB();if(A.type==d.jL){FY=FY.expand(A.L);return null;}var B=GY(A);FY=FY.expand(B.L);EY.clear();return B;}GE GY(hF A){var C=HY(DY.NB());var B=DY.NB() as iF;assert(B.type==d.kL);return new GE.VV(C,A.L.expand(B.L),A.versionDirective,A.wG,startImplicit:A.isImplicit,endImplicit:B.isImplicit);}BB HY(f A){switch (A.type){case d.lL:return IY(A);case d.mL:return JY(A);case d.nL:return KY(A);case d.oL:return LY(A);default:throw "Unreachable";}}void MY(String A,BB B){if(A==null)return;EY[A]=B;}BB IY(EI A){var B=EY[A.name];if(B!=null)return B;throw new Y("Undefined alias.",A.L);}BB JY(CC A){var B;if(A.tag=="!"){B=new IB.YV(A.value,A);}else if(A.tag!=null){B=NY(A);}else{B=OY(A);}MY(A.anchor,B);return B;}BB KY(jE A){if(A.tag!="!"&&A.tag!=null&&A.tag!="tag:yaml.org,2002:seq"){throw new Y("Invalid tag for sequence.",A.L);}var D=<BB>[] ;var C=new QM.XV(D,A.L,A.Q);MY(A.anchor,C);var B=DY.NB();while(B.type!=d.jF){D.add(HY(B));B=DY.NB();}RM(C,A.L.expand(B.L));return C;}BB LY(kE A){if(A.tag!="!"&&A.tag!=null&&A.tag!="tag:yaml.org,2002:map"){throw new Y("Invalid tag for mapping.",A.L);}var D=UR();var C=new PM.WV(D,A.L,A.Q);MY(A.anchor,C);var B=DY.NB();while(B.type!=d.kF){var G=HY(B);var I=HY(DY.NB());D[G]=I;B=DY.NB();}RM(C,A.L.expand(B.L));return C;}IB NY(CC A){switch (A.tag){case "tag:yaml.org,2002:null":var B=PY(A);if(B!=null)return B;throw new Y("Invalid null scalar.",A.L);case "tag:yaml.org,2002:bool":var B=QY(A);if(B!=null)return B;throw new Y("Invalid bool scalar.",A.L);case "tag:yaml.org,2002:int":var B=RY(A,allowFloat:false);if(B!=null)return B;throw new Y("Invalid int scalar.",A.L);case "tag:yaml.org,2002:float":var B=RY(A,allowInt:false);if(B!=null)return B;throw new Y("Invalid float scalar.",A.L);case "tag:yaml.org,2002:str":return new IB.YV(A.value,A);default:throw new Y('Undefined tag: ${A.tag}.',A.L);}}IB OY(CC A)=>SY(A)??new IB.YV(A.value,A);IB SY(CC A){var B=A.value.length;if(B==0)return new IB.YV(null,A);var C=A.value.codeUnitAt(0);switch (C){case NF:case FH:case GH:return RY(A);case WP:case UP:return B==4?PY(A):null;case YP:case VP:return B==4?QY(A):null;case AK:case TP:return B==5?QY(A):null;case aP:return B==1?new IB.YV(null,A):null;default:if(C>=FD&&C<=OF)return RY(A);return null;}}IB PY(CC A){switch (A.value){case "":case "null":case "Null":case "NULL":case "~":return new IB.YV(null,A);default:return null;}}IB QY(CC A){switch (A.value){case "true":case "True":case "TRUE":return new IB.YV(true,A);case "false":case "False":case "FALSE":return new IB.YV(false,A);default:return null;}}BB RY(CC A,{bool allowInt: true,bool allowFloat: true}){var B=TY(A.value,allowInt:allowInt,allowFloat:allowFloat);return B==null?null:new IB.YV(B,A);}num TY(String A,{bool allowInt: true,bool allowFloat: true}){assert(allowInt||allowFloat);var B=A.codeUnitAt(0);var G=A.length;if(allowInt&&G==1){var I=B-FD;return I>=0&&I<=9?I:null;}var C=A.codeUnitAt(1);if(allowInt&&B==FD){if(C==ZP)return int.parse(A,onError:(D)=>null);if(C==XP){var M=A.substring(2);return int.parse(M,radix:8,onError:(D)=>null);}}if((B>=FD&&B<=OF)||((B==FH||B==GH)&&C>=FD&&C<=OF)){var J=null;if(allowInt){J=int.parse(A,radix:10,onError:(D)=>null);}if(allowFloat)J??= double.parse(A,(D)=>null);return J;}if(!allowFloat)return null;if((B==NF&&C>=FD&&C<=OF)||(B==GH||B==FH)&&C==NF){if(G==5){switch (A){case "+.inf":case "+.Inf":case "+.INF":return double.INFINITY;case "-.inf":case "-.Inf":case "-.INF":return -double.INFINITY;}}return double.parse(A,(D)=>null);}if(G==4&&B==NF){switch (A){case ".inf":case ".Inf":case ".INF":return double.INFINITY;case ".nan":case ".NaN":case ".NAN":return double.NAN;}}return null;}}class GI{final OI UY;final VY=new List<P>();var WY=P.qL;final XY=new Map<String,DC>();bool get xC=>WY==P.zL;GI(String A,{sourceUrl}):UY=new OI(A,sourceUrl:sourceUrl);f NB(){try {if(xC)throw new StateError("No more events.");var B=YY();return B;}on fF catch (A){throw new Y(A.message,A.L);}}f YY(){switch (WY){case P.qL:return ZY();case P.HI:return aY();case P.rL:return bY();case P.II:return cY();case P.sL:return dY(block:true);case P.YR:return dY(block:true,indentlessSequence:true);case P.ZR:return dY();case P.tL:UY.EB();return eY();case P.JI:return eY();case P.lF:return fY();case P.uL:UY.EB();return gY();case P.mF:return gY();case P.nF:return hY();case P.vL:return iY(first:true);case P.KI:return iY();case P.wL:return jY();case P.LI:return kY();case P.MI:return lY();case P.xL:return mY(first:true);case P.oF:return mY();case P.NI:return nY();case P.yL:return nY(empty:true);default:throw "Unreachable";}}f ZY(){var A=UY.EB();assert(A.type==K.JM);WY=P.HI;return new f(d.iL,A.L);}f aY(){var A=UY.SB();while(A.type==K.EG){A=UY.mB();}if(A.type!=K.BG&&A.type!=K.CG&&A.type!=K.DG&&A.type!=K.oE){oY();VY.add(P.II);WY=P.sL;return new hF(A.L.start.TB());}if(A.type==K.oE){WY=P.zL;UY.EB();return new f(d.jL,A.L);}var C=A.L;var B=oY();var D=B.first;var G=B.last;A=UY.SB();if(A.type!=K.DG){throw new Y("Expected document start.",A.L);}VY.add(P.II);WY=P.rL;UY.EB();return new hF(C.expand(A.L),versionDirective:D,tagDirectives:G,isImplicit:false);}f bY(){var A=UY.SB();switch (A.type){case K.BG:case K.CG:case K.DG:case K.EG:case K.oE:WY=VY.removeLast();return pY(A.L.start);default:return dY(block:true);}}f cY(){XY.clear();WY=P.HI;var A=UY.SB();if(A.type==K.EG){UY.EB();return new iF(A.L,isImplicit:false);}else{return new iF(A.L.start.TB(),isImplicit:true);}}f dY({bool block: false,bool indentlessSequence: false}){var A=UY.SB();if(A is eI){UY.EB();WY=VY.removeLast();return new EI(A.L,A.name);}var D;var G;var B=A.L.start.TB();I(A){D=A.name;B=B.expand(A.L);return UY.mB();}J(A){G=A;B=B.expand(A.L);return UY.mB();}if(A is zF){A=I(A);if(A is AG)A=J(A);}else if(A is AG){A=J(A);if(A is zF)A=I(A);}var C;if(G!=null){if(G.nB==null){C=G.uG;}else{var M=XY[G.nB];if(M==null){throw new Y("Undefined tag handle.",G.L);}C=M.oD+G.uG;}}if(indentlessSequence&&A.type==K.FE){WY=P.lF;return new jE(B.expand(A.L),kB.aI,anchor:D,tag:C);}if(A is CE){if(C==null&&A.Q!=KB.yF)C="!";WY=VY.removeLast();UY.EB();return new CC(B.expand(A.L),A.value,A.Q,anchor:D,tag:C);}if(A.type==K.LM){WY=P.vL;return new jE(B.expand(A.L),kB.bI,anchor:D,tag:C);}if(A.type==K.MM){WY=P.xL;return new kE(B.expand(A.L),kB.bI,anchor:D,tag:C);}if(block&&A.type==K.KM){WY=P.tL;return new jE(B.expand(A.L),kB.aI,anchor:D,tag:C);}if(block&&A.type==K.FG){WY=P.uL;return new kE(B.expand(A.L),kB.aI,anchor:D,tag:C);}if(D!=null||C!=null){WY=VY.removeLast();return new CC(B,'',KB.yF,anchor:D,tag:C);}throw new Y("Expected node content.",B);}f eY(){var A=UY.SB();if(A.type==K.FE){A=UY.mB();if(A.type==K.FE||A.type==K.dD){WY=P.JI;return pY(A.L.end);}else{VY.add(P.JI);return dY(block:true);}}if(A.type==K.dD){UY.EB();WY=VY.removeLast();return new f(d.jF,A.L);}throw new Y("While parsing a block collection, expected '-'.",A.L.start.TB());}f fY(){var A=UY.SB();if(A.type!=K.FE){WY=VY.removeLast();return new f(d.jF,A.L.start.TB());}var B=A.L.start;A=UY.mB();if(A.type==K.FE||A.type==K.oC||A.type==K.ZC||A.type==K.dD){WY=P.lF;return pY(B);}else{VY.add(P.lF);return dY(block:true);}}f gY(){var A=UY.SB();if(A.type==K.oC){var B=A.L.start;A=UY.mB();if(A.type==K.oC||A.type==K.ZC||A.type==K.dD){WY=P.nF;return pY(B);}else{VY.add(P.nF);return dY(block:true,indentlessSequence:true);}}if(A.type==K.ZC){WY=P.nF;return pY(A.L.start);}if(A.type==K.dD){UY.EB();WY=VY.removeLast();return new f(d.kF,A.L);}throw new Y("Expected a key while parsing a block mapping.",A.L.start.TB());}f hY(){var A=UY.SB();if(A.type!=K.ZC){WY=P.mF;return pY(A.L.start);}var B=A.L.start;A=UY.mB();if(A.type==K.oC||A.type==K.ZC||A.type==K.dD){WY=P.mF;return pY(B);}else{VY.add(P.mF);return dY(block:true,indentlessSequence:true);}}f iY({bool first: false}){if(first)UY.EB();var A=UY.SB();if(A.type!=K.DE){if(!first){if(A.type!=K.eD){throw new Y("While parsing a flow sequence, expected ',' or ']'.",A.L.start.TB());}A=UY.mB();}if(A.type==K.oC){WY=P.wL;UY.EB();return new kE(A.L,kB.bI);}else if(A.type!=K.DE){VY.add(P.KI);return dY();}}UY.EB();WY=VY.removeLast();return new f(d.jF,A.L);}f jY(){var A=UY.SB();if(A.type==K.ZC||A.type==K.eD||A.type==K.DE){var B=A.L.start;WY=P.LI;return pY(B);}else{VY.add(P.LI);return dY();}}f kY(){var A=UY.SB();if(A.type==K.ZC){A=UY.mB();if(A.type!=K.eD&&A.type!=K.DE){VY.add(P.MI);return dY();}}WY=P.MI;return pY(A.L.start);}f lY(){WY=P.KI;return new f(d.kF,UY.SB().L.start.TB());}f mY({bool first: false}){if(first)UY.EB();var A=UY.SB();if(A.type!=K.EE){if(!first){if(A.type!=K.eD){throw new Y("While parsing a flow mapping, expected ',' or '}'.",A.L.start.TB());}A=UY.mB();}if(A.type==K.oC){A=UY.mB();if(A.type!=K.ZC&&A.type!=K.eD&&A.type!=K.EE){VY.add(P.NI);return dY();}else{WY=P.NI;return pY(A.L.start);}}else if(A.type!=K.EE){VY.add(P.yL);return dY();}}UY.EB();WY=VY.removeLast();return new f(d.kF,A.L);}f nY({bool empty: false}){var A=UY.SB();if(empty){WY=P.oF;return pY(A.L.start);}if(A.type==K.ZC){A=UY.mB();if(A.type!=K.eD&&A.type!=K.EE){VY.add(P.oF);return dY();}}WY=P.oF;return pY(A.L.start);}f pY(jB A)=>new CC(A.TB(),'',KB.yF);pE<qE,List<DC>> oY(){var A=UY.SB();var B;var C=<DC>[] ;while(A.type==K.BG||A.type==K.CG){if(A is cI){if(B!=null){throw new Y("Duplicate %YAML directive.",A.L);}if(A.mD!=1||A.RD==0){throw new Y("Incompatible YAML document. This parser only supports YAML 1.1 " "and 1.2.",A.L);}else if(A.RD>2){OM("Warning: this parser only supports YAML 1.1 and 1.2.",A.L);}B=new qE(A.mD,A.RD);}else if(A is dI){var D=new DC(A.nB,A.oD);qY(D,A.L);C.add(D);}A=UY.mB();}qY(new DC("!","!"),A.L.start.TB(),allowDuplicates:true);qY(new DC("!!","tag:yaml.org,2002:"),A.L.start.TB(),allowDuplicates:true);return new pE(B,C);}void qY(DC A,n B,{bool allowDuplicates: false}){if(XY.containsKey(A.nB)){if(allowDuplicates)return;throw new Y("Duplicate %TAG directive.",B);}XY[A.nB]=A;}}class P{static const qL=const P("STREAM_START");static const HI=const P("DOCUMENT_START");static const rL=const P("DOCUMENT_CONTENT");static const II=const P("DOCUMENT_END");static const sL=const P("BLOCK_NODE");static const YR=const P("BLOCK_NODE_OR_INDENTLESS_SEQUENCE");static const ZR=const P("FLOW_NODE");static const tL=const P("BLOCK_SEQUENCE_FIRST_ENTRY");static const JI=const P("BLOCK_SEQUENCE_ENTRY");static const lF=const P("INDENTLESS_SEQUENCE_ENTRY");static const uL=const P("BLOCK_MAPPING_FIRST_KEY");static const mF=const P("BLOCK_MAPPING_KEY");static const nF=const P("BLOCK_MAPPING_VALUE");static const vL=const P("FLOW_SEQUENCE_FIRST_ENTRY");static const KI=const P("FLOW_SEQUENCE_ENTRY");static const wL=const P("FLOW_SEQUENCE_ENTRY_MAPPING_KEY");static const LI=const P("FLOW_SEQUENCE_ENTRY_MAPPING_VALUE");static const MI=const P("FLOW_SEQUENCE_ENTRY_MAPPING_END");static const xL=const P("FLOW_MAPPING_FIRST_KEY");static const oF=const P("FLOW_MAPPING_KEY");static const NI=const P("FLOW_MAPPING_VALUE");static const yL=const P("FLOW_MAPPING_EMPTY_VALUE");static const zL=const P("END");final String name;const P(this.name);String toString()=>name;}class OI{static const WC=0x9;static const XC=0xA;static const YC=0xD;static const OC=0x20;static const aR=0x24;static const bR=0x28;static const cR=0x29;static const lE=0x2B;static const mE=0x2C;static const pF=0x2D;static const dR=0x2E;static const QI=0x3F;static const qF=0x3A;static const eR=0x3B;static const fR=0x3D;static const rF=0x5B;static const nE=0x5D;static const RI=0x7B;static const sF=0x7D;static const SI=0x23;static const AM=0x26;static const BM=0x2A;static const CM=0x21;static const gR=0x7C;static const hR=0x3C;static const iR=0x3E;static const cD=0x27;static const tF=0x22;static const uF=0x25;static const TI=0x40;static const DM=0x60;static const jR=0x7E;static const kR=0x0;static const lR=0x7;static const mR=0x8;static const nR=0xB;static const oR=0xC;static const pR=0x1B;static const EM=0x2F;static const UI=0x5C;static const qR=0x5F;static const vF=0x85;static const rR=0xA0;static const sR=0x2028;static const tR=0x2029;static const VI=0xFEFF;static const nC=0x30;static const wF=0x39;static const xF=0x61;static const uR=0x62;static const vR=0x65;static const FM=0x66;static const wR=0x6E;static const xR=0x72;static const yR=0x74;static const zR=0x75;static const AS=0x76;static const BS=0x78;static const CS=0x7A;static const WI=0x41;static const GM=0x46;static const DS=0x4C;static const ES=0x4E;static const FS=0x50;static const GS=0x55;static const HS=0x5A;final BE rY;var sY=false;var tY=false;final uY=new EK<l>();var vY=0;var wY=false;final xY=<int>[-1];var yY=true;final zY=<XI>[null];int get AZ=>xY.last;bool get BZ=>zY.length==1;bool get CZ=>rY.xC||DZ;bool get DZ=>EZ(0);bool get FZ=>GZ(0);bool get HZ=>IZ(0);bool get JZ{var A=rY.X();if(A==null)return false;switch (A){case pF:case eR:case EM:case qF:case TI:case AM:case fR:case lE:case aR:case dR:case jR:case QI:case BM:case cD:case bR:case cR:case uF:return true;default:return (A>=nC&&A<=wF)||(A>=xF&&A<=CS)||(A>=WI&&A<=HS);}}bool get KZ{if(!LZ)return false;switch (rY.X()){case mE:case rF:case nE:case RI:case sF:return false;default:return true;}}bool get MZ{var A=rY.X();return A!=null&&(A>=nC&&A<=wF);}bool get NZ{var A=rY.X();if(A==null)return false;return (A>=nC&&A<=wF)||(A>=xF&&A<=FM)||(A>=WI&&A<=GM);}bool get OZ=>PZ(0);bool get QZ{var A=rY.X();if(A==null)return false;switch (A){case XC:case YC:case VI:return false;case WC:case vF:return true;default:return (A>=0x00020&&A<=0x00007E)||(A>=0x000A0&&A<=0x00D7FF)||(A>=0x0E000&&A<=0x00FFFD)||(A>=0x10000&&A<=0x10FFFF);}}bool get LZ{var A=rY.X();if(A==null)return false;switch (A){case XC:case YC:case VI:case OC:return false;case vF:return true;default:return (A>=0x00020&&A<=0x00007E)||(A>=0x000A0&&A<=0x00D7FF)||(A>=0x0E000&&A<=0x00FFFD)||(A>=0x10000&&A<=0x10FFFF);}}bool get RZ{return rY.k==0&&GZ(3)&&(rY.QD('---')||rY.QD('...'));}OI(String A,{sourceUrl}):rY=new BE.fV(A,sourceUrl:sourceUrl);l EB(){if(tY)throw new StateError("Out of tokens.");if(!wY)SZ();var A=uY.removeFirst();wY=false;vY++ ;tY=A is l&&A.type==K.oE;return A;}l mB(){EB();return SB();}l SB(){if(tY)return null;if(!wY)SZ();return uY.first;}void SZ(){while(true){if(uY.isNotEmpty){TZ();if(!zY.any((A)=>A!=null&&A.zG==vY)){break;}}UZ();}wY=true;}void UZ(){if(!sY){VZ();return;}WZ();TZ();XZ(rY.k);if(rY.xC){YZ();return;}if(rY.k==0){if(rY.X()==uF){ZZ();return;}if(GZ(3)){if(rY.QD('---')){aZ(K.DG);return;}if(rY.QD('...')){aZ(K.EG);return;}}}switch (rY.X()){case rF:bZ(K.LM);return;case RI:bZ(K.MM);return;case nE:cZ(K.DE);return;case sF:cZ(K.EE);return;case mE:dZ();return;case BM:eZ(anchor:false);return;case AM:eZ(anchor:true);return;case CM:fZ();return;case cD:gZ(singleQuote:true);return;case tF:gZ(singleQuote:false);return;case gR:if(!BZ)hZ();iZ(literal:true);return;case iR:if(!BZ)hZ();iZ(literal:false);return;case uF:case TI:case DM:hZ();return;case pF:if(PZ(1)){jZ();}else{kZ();}return;case QI:if(PZ(1)){jZ();}else{lZ();}return;case qF:if(!BZ&&uY.isNotEmpty){var A=uY.last;if(A.type==K.DE||A.type==K.EE||(A.type==K.NM&&(A as CE).Q.XU)){mZ();return;}}if(PZ(1)){jZ();}else{mZ();}return;default:if(!QZ)hZ();jZ();return;}throw 'Inaccessible';}void hZ()=>rY.error("Unexpected character.",length:1);void TZ(){for(var A=0;A<zY.length;A++ ){var B=zY[A];if(B==null)continue;if(!BZ)continue;if(B.RB==rY.RB)continue;if(B.gJ){throw new Y("Expected ':'.",rY.bB);}zY[A]=null;}}void nZ(){var A=BZ&&AZ==rY.k;assert(yY||!A);if(!yY)return;oZ();zY[zY.length-1]=new XI(vY+uY.length,rY.RB,rY.k,rY.location,required:A);}void oZ(){var A=zY.last;if(A!=null&&A.gJ){throw new Y("Could not find expected ':' for simple key.",A.location.TB());}zY[zY.length-1]=null;}void pZ(){zY.add(null);}void qZ(){if(BZ)return;zY.removeLast();}void rZ(int A,K C,jB D,{int tokenNumber}){if(!BZ)return;if(AZ!=-1&&AZ>=A)return;xY.add(A);var B=new l(C,D.TB());if(tokenNumber==null){uY.add(B);}else{uY.insert(tokenNumber-vY,B);}}void XZ(int A){if(!BZ)return;while(AZ>A){uY.add(new l(K.dD,rY.bB));xY.removeLast();}}void sZ()=>XZ(-1);void VZ(){sY=true;uY.add(new l(K.JM,rY.bB));}void YZ(){sZ();oZ();yY=false;uY.add(new l(K.oE,rY.bB));}void ZZ(){sZ();oZ();yY=false;var A=tZ();if(A!=null)uY.add(A);}void aZ(K A){sZ();oZ();yY=false;var B=rY.state;rY.U();rY.U();rY.U();uY.add(new l(A,rY.UB(B)));}void bZ(K A){nZ();pZ();yY=true;uZ(A);}void cZ(K A){oZ();qZ();yY=false;uZ(A);}void dZ(){oZ();yY=true;uZ(K.eD);}void kZ(){if(BZ){if(!yY){throw new Y("Block sequence entries are not allowed here.",rY.bB);}rZ(rY.k,K.KM,rY.location);}else{}oZ();yY=true;uZ(K.FE);}void lZ(){if(BZ){if(!yY){throw new Y("Mapping keys are not allowed here.",rY.bB);}rZ(rY.k,K.FG,rY.location);}yY=BZ;uZ(K.oC);}void mZ(){var A=zY.last;if(A!=null){uY.insert(A.zG-vY,new l(K.oC,A.location.TB()));rZ(A.k,K.FG,A.location,tokenNumber:A.zG);zY[zY.length-1]=null;yY=false;}else if(BZ){if(!yY){throw new Y("Mapping values are not allowed here. Did you miss a colon " "earlier?",rY.bB);}rZ(rY.k,K.FG,rY.location);yY=true;}else if(yY){yY=false;uZ(K.oC);}uZ(K.ZC);}void uZ(K A){var B=rY.state;rY.U();uY.add(new l(A,rY.UB(B)));}void eZ({bool anchor: true}){nZ();yY=false;uY.add(vZ(anchor:anchor));}void fZ(){nZ();yY=false;uY.add(wZ());}void iZ({bool literal: false}){oZ();yY=true;uY.add(xZ(literal:literal));}void gZ({bool singleQuote: false}){nZ();yY=false;uY.add(yZ(singleQuote:singleQuote));}void jZ(){nZ();yY=false;uY.add(zZ());}void WZ(){var A=false;while(true){if(rY.k==0)rY.EB("\uFEFF");while(rY.X()==OC||((!BZ||!A)&&rY.X()==WC)){rY.U();}if(rY.X()==WC){rY.error("Tab characters are not allowed as indentation.",length:1);}Aa();if(DZ){Ba();if(BZ)yY=true;A=true;}else{break;}}}l tZ(){var A=rY.state;rY.U();var B;var C=Ca();if(C=="YAML"){B=Da(A);}else if(C=="TAG"){B=Ea(A);}else{OM("Warning: unknown directive.",rY.UB(A));while(!CZ){rY.U();}return null;}Fa();Aa();if(!CZ){throw new Y("Expected comment or line break after directive.",rY.UB(A));}Ba();return B;}String Ca(){var B=rY.position;while(LZ){rY.U();}var A=rY.substring(B);if(A.isEmpty){throw new Y("Expected directive name.",rY.bB);}else if(!FZ){throw new Y("Unexpected character in directive name.",rY.bB);}return A;}l Da(KD A){Fa();var B=Ga();rY.hG('.');var C=Ga();return new cI(rY.UB(A),B,C);}int Ga(){var B=rY.position;while(MZ){rY.U();}var A=rY.substring(B);if(A.isEmpty){throw new Y("Expected version number.",rY.bB);}return int.parse(A);}l Ea(KD A){Fa();var B=Ha(directive:true);if(!HZ){throw new Y("Expected whitespace.",rY.bB);}Fa();var C=Ia();if(!FZ){throw new Y("Expected whitespace.",rY.bB);}return new dI(rY.UB(A),B,C);}l vZ({bool anchor: true}){var C=rY.state;rY.U();var D=rY.position;while(KZ){rY.U();}var B=rY.substring(D);var A=rY.X();if(B.isEmpty||(!FZ&&A!=QI&&A!=qF&&A!=mE&&A!=nE&&A!=sF&&A!=uF&&A!=TI&&A!=DM)){throw new Y("Expected alphanumeric character.",rY.bB);}if(anchor){return new zF(rY.UB(C),B);}else{return new eI(rY.UB(C),B);}}l wZ(){var A;var B;var C=rY.state;if(rY.X(1)==hR){rY.U();rY.U();A='';B=Ia();rY.hG('>');}else{A=Ha();if(A.length>1&&A.startsWith('!')&&A.endsWith('!')){B=Ia(flowSeparators:false);}else{B=Ia(head:A,flowSeparators:false);if(B.isEmpty){A=null;B='!';}else{A='!';}}}return new AG(rY.UB(C),A,B);}String Ha({bool directive: false}){rY.hG('!');var A=new StringBuffer('!');var B=rY.position;while(JZ){rY.U();}A.write(rY.substring(B));if(rY.X()==CM){A.writeCharCode(rY.U());}else{if(directive&&A.toString()!='!')rY.hG('!');}return A.toString();}String Ia({String head,bool flowSeparators: true}){var B=head==null?0:head.length;var C=new StringBuffer();if(B>1)C.write(head.substring(1));var D=rY.position;var A=rY.X();while(JZ||(flowSeparators&&(A==mE||A==rF||A==nE))){rY.U();A=rY.X();}return Uri.decodeFull(rY.substring(D));}l xZ({bool literal: false}){var S=rY.state;rY.U();var J=PC.IS;var D=0;var A=rY.X();if(A==lE||A==pF){J=A==lE?PC.ZI:PC.YI;rY.U();if(MZ){if(rY.X()==nC){throw new Y("0 may not be used as an indentation indicator.",rY.UB(S));}D=rY.U()-nC;}}else if(MZ){if(rY.X()==nC){throw new Y("0 may not be used as an indentation indicator.",rY.UB(S));}D=rY.U()-nC;A=rY.X();if(A==lE||A==pF){J=A==lE?PC.ZI:PC.YI;rY.U();}}Fa();Aa();if(!CZ){throw new Y("Expected comment or line break.",rY.bB);}Ba();var C=0;if(D!=0){C=AZ>=0?AZ+D:D;}var G=Ja(C);C=G.first;var M=G.last;var B=new StringBuffer();var I='';var W=false;var b=false;var u=rY.state;while(rY.k==C&&!rY.xC){if(RZ)break;b=HZ;if(!literal&&I.isNotEmpty&&!W&&!b){if(M.isEmpty)B.writeCharCode(OC);}else{B.write(I);}I='';B.write(M);W=HZ;var eB=rY.position;while(!CZ){rY.U();}B.write(rY.substring(eB));u=rY.state;if(!rY.xC)I=Ka();var G=Ja(C);C=G.first;M=G.last;}if(J!=PC.YI)B.write(I);if(J==PC.ZI)B.write(M);return new CE(rY.UB(S,u),B.toString(),literal?KB.KS:KB.LS);}pE<int,String> Ja(int A){var B=0;var C=new StringBuffer();while(true){while((A==0||rY.k<A)&&rY.X()==OC){rY.U();}if(rY.k>B)B=rY.k;if(!DZ)break;C.write(Ka());}if(A==0){A=B;if(A<AZ+1)A=AZ+1;}return new pE(A,C.toString());}l yZ({bool singleQuote: false}){var b=rY.state;var A=new StringBuffer();rY.U();while(true){if(RZ){rY.error("Unexpected document indicator.");}if(rY.xC){throw new Y("Unexpected end of file.",rY.bB);}var D=false;while(!FZ){var G=rY.X();if(singleQuote&&G==cD&&rY.X(1)==cD){rY.U();rY.U();A.writeCharCode(cD);}else if(G==(singleQuote?cD:tF)){break;}else if(!singleQuote&&G==UI&&EZ(1)){rY.U();Ba();D=true;break;}else if(!singleQuote&&G==UI){var J=rY.state;var B=null;switch (rY.X(1)){case nC:A.writeCharCode(kR);break;case xF:A.writeCharCode(lR);break;case uR:A.writeCharCode(mR);break;case yR:case WC:A.writeCharCode(WC);break;case wR:A.writeCharCode(XC);break;case AS:A.writeCharCode(nR);break;case FM:A.writeCharCode(oR);break;case xR:A.writeCharCode(YC);break;case vR:A.writeCharCode(pR);break;case OC:case tF:case EM:case UI:A.writeCharCode(rY.X(1));break;case ES:A.writeCharCode(vF);break;case qR:A.writeCharCode(rR);break;case DS:A.writeCharCode(sR);break;case FS:A.writeCharCode(tR);break;case BS:B=2;break;case zR:B=4;break;case GS:B=8;break;default:throw new Y("Unknown escape character.",rY.UB(J));}rY.U();rY.U();if(B!=null){var C=0;for(var S=0;S<B;S++ ){if(!NZ){rY.U();throw new Y("Expected ${B}-digit hexidecimal number.",rY.UB(J));}C=(C<<4)+La(rY.U());}if((C>=0xD800&&C<=0xDFFF)||C>0x10FFFF){throw new Y("Invalid Unicode character escape code.",rY.UB(J));}A.writeCharCode(C);}}else{A.writeCharCode(rY.U());}}if(rY.X()==(singleQuote?cD:tF)){break;}var I=new StringBuffer();var W='';var M=new StringBuffer();while(HZ||DZ){if(HZ){if(!D){I.writeCharCode(rY.U());}else{rY.U();}}else{if(!D){I.clear();W=Ka();D=true;}else{M.write(Ka());}}}if(D){if(W.isNotEmpty&&M.isEmpty){A.writeCharCode(OC);}else{A.write(M);}}else{A.write(I);I.clear();}}rY.U();return new CE(rY.UB(b),A.toString(),singleQuote?KB.HM:KB.IM);}l zZ(){var J=rY.state;var G=rY.state;var B=new StringBuffer();var A='';var C='';var D=new StringBuffer();var I=AZ+1;while(true){if(RZ)break;if(rY.X()==SI)break;if(OZ){if(A.isNotEmpty){if(C.isEmpty){B.writeCharCode(OC);}else{B.write(C);}A='';C='';}else{B.write(D);D.clear();}}var M=rY.position;while(OZ){rY.U();}B.write(rY.substring(M));G=rY.state;if(!HZ&&!DZ)break;while(HZ||DZ){if(HZ){if(A.isNotEmpty&&rY.k<I&&rY.X()==WC){rY.error("Expected a space but found a tab.",length:1);}if(A.isEmpty){D.writeCharCode(rY.U());}else{rY.U();}}else{if(A.isEmpty){A=Ka();D.clear();}else{C=Ka();}}}if(BZ&&rY.k<I)break;}if(A.isNotEmpty)yY=true;return new CE(rY.UB(J,G),B.toString(),KB.yF);}void Ba(){var A=rY.X();if(A!=YC&&A!=XC)return;rY.U();if(A==YC&&rY.X()==XC)rY.U();}String Ka(){var A=rY.X();if(A!=YC&&A!=XC){throw new Y("Expected newline.",rY.bB);}rY.U();if(A==YC&&rY.X()==XC)rY.U();return "\n";}bool IZ(int B){var A=rY.X(B);return A==OC||A==WC;}bool EZ(int B){var A=rY.X(B);return A==YC||A==XC;}bool GZ(int B){var A=rY.X(B);return A==null||A==OC||A==WC||A==YC||A==XC;}bool PZ(int A){switch (rY.X(A)){case qF:return Ma(A+1);case SI:var B=rY.X(A-1);return B!=OC&&B!=WC;default:return Ma(A);}}bool Ma(int B){var A=rY.X(B);switch (A){case mE:case rF:case nE:case RI:case sF:return BZ;case OC:case WC:case XC:case YC:case VI:return false;case vF:return true;default:return A!=null&&((A>=0x00020&&A<=0x00007E)||(A>=0x000A0&&A<=0x00D7FF)||(A>=0x0E000&&A<=0x00FFFD)||(A>=0x10000&&A<=0x10FFFF));}}int La(int A){if(A<=wF)return A-nC;if(A<=GM)return 10+A-WI;return 10+A-xF;}void Fa(){while(HZ){rY.U();}}void Aa(){if(rY.X()!=SI)return;while(!CZ){rY.U();}}}class XI{final int zG;final jB location;final int RB;final int k;final bool gJ;XI(this.zG,this.RB,this.k,this.location,{bool required}):gJ=required;}class PC{static const YI=const PC("STRIP");static const IS=const PC("CLIP");static const ZI=const PC("KEEP");final String name;const PC(this.name);String toString()=>name;}class KB{static const JS=const KB.SV("ANY");static const yF=const KB.SV("PLAIN");static const KS=const KB.SV("LITERAL");static const LS=const KB.SV("FOLDED");static const HM=const KB.SV("SINGLE_QUOTED");static const IM=const KB.SV("DOUBLE_QUOTED");final String name;bool get XU=>this==HM||this==IM;const KB.SV(this.name);String toString()=>name;}class kB{static const aI=const kB.TV("BLOCK");static const bI=const kB.TV("FLOW");final String name;const kB.TV(this.name);String toString()=>name;}class l{final K type;final n L;l(this.type,this.L);String toString()=>type.toString();}class cI implements l{get type=>K.BG;final n L;final int mD;final int RD;cI(this.L,this.mD,this.RD);String toString()=>"VERSION_DIRECTIVE ${mD}.${RD}";}class dI implements l{get type=>K.CG;final n L;final String nB;final String oD;dI(this.L,this.nB,this.oD);String toString()=>"TAG_DIRECTIVE ${nB} ${oD}";}class zF implements l{get type=>K.NS;final n L;final String name;zF(this.L,this.name);String toString()=>"ANCHOR ${name}";}class eI implements l{get type=>K.MS;final n L;final String name;eI(this.L,this.name);String toString()=>"ALIAS ${name}";}class AG implements l{get type=>K.OS;final n L;final String nB;final String uG;AG(this.L,this.nB,this.uG);String toString()=>"TAG ${nB} ${uG}";}class CE implements l{get type=>K.NM;final n L;final String value;final KB Q;CE(this.L,this.value,this.Q);String toString()=>"SCALAR ${Q} \"${value}\"";}class K{static const JM=const K.UV("STREAM_START");static const oE=const K.UV("STREAM_END");static const BG=const K.UV("VERSION_DIRECTIVE");static const CG=const K.UV("TAG_DIRECTIVE");static const DG=const K.UV("DOCUMENT_START");static const EG=const K.UV("DOCUMENT_END");static const KM=const K.UV("BLOCK_SEQUENCE_START");static const FG=const K.UV("BLOCK_MAPPING_START");static const dD=const K.UV("BLOCK_END");static const LM=const K.UV("FLOW_SEQUENCE_START");static const DE=const K.UV("FLOW_SEQUENCE_END");static const MM=const K.UV("FLOW_MAPPING_START");static const EE=const K.UV("FLOW_MAPPING_END");static const FE=const K.UV("BLOCK_ENTRY");static const eD=const K.UV("FLOW_ENTRY");static const oC=const K.UV("KEY");static const ZC=const K.UV("VALUE");static const MS=const K.UV("ALIAS");static const NS=const K.UV("ANCHOR");static const OS=const K.UV("TAG");static const NM=const K.UV("SCALAR");final String name;const K.UV(this.name);String toString()=>name;}class pE<R,aS>{final R first;final aS last;pE(this.first,this.last);String toString()=>'(${first}, ${last})';}void OM(String A,[v B])=>QS(A,B);typedef dynamic PS(String _0,[v _1]);PS QS=(A,[B]){if(B!=null)A=B.message(A);print(A);};String US(B){var A=new StringBuffer();VS(B,A);return A.toString();}void VS(A,StringSink B){fI(A,0,B,true);}void fI(A,int C,StringSink B,bool D){if(A is Map){XS(A,C,B,D);}else if(A is Iterable){ZS(A,C,B,D);}else if(A is String){B..writeln('"${WS(A)}"');}else if(A is double){B.writeln("!!float ${A}");}else{B.writeln(A);}}String WS(String A)=>A.replaceAll('"',r'\"').replaceAll("\n",r"\n");void XS(Map C,int B,StringSink A,bool G){if(!G){A.writeln();B+= 2;}final I=YS(C);I.forEach((D){final J=C[D];SM(B,A);A..write(D)..write(': ');fI(J,B,A,false);});}Iterable<String> YS(Map I){final B=[] ;final C=[] ;final D=[] ;I.forEach((A,G){if(G is String){B.add(A);}else if(G is Map){C.add(A);}else{D.add(A);}});return IR([B..sort(),C..sort(),D..sort()]) as Iterable<String>;}void ZS(Iterable C,int B,StringSink A,bool D){if(!D){A.writeln();B+= 2;}C.forEach((G){SM(B,A);A.write('- ');fI(G,B,A,false);});}void SM(int A,StringSink B)=>B.write(' '*A);class GE{final BB KJ;final v L;final qE versionDirective;final List<DC> wG;final bool startImplicit;final bool endImplicit;GE.VV(this.KJ,this.L,this.versionDirective,List<DC> A,{this.startImplicit: false,this.endImplicit: false}):wG=new UnmodifiableListView(A);String toString()=>KJ.toString();}class qE{final int mD;final int RD;qE(this.mD,this.RD);String toString()=>"%YAML ${mD}.${RD}";}class DC{final String nB;final String oD;DC(this.nB,this.oD);String toString()=>"%TAG ${nB} ${oD}";}abstract class BB{v get L=>Na;v Na;get value;}class PM extends BB with MapMixin,bP{final Map<dynamic,BB> nD;final kB Q;Map get value=>this;Iterable get keys=>nD.keys.map((A)=>A.value);PM.WV(Map<dynamic,BB> A,v B,this.Q):nD=new UnmodifiableMapView<dynamic,BB>(A){Na=B;}operator[](B){var A=nD[B];return A==null?null:A.value;}}class QM extends BB with ListMixin{final List<BB> nD;final kB Q;List get value=>this;int get length=>nD.length;set length(int A){throw new UnsupportedError("Cannot modify an unmodifiable List");}QM.XV(List<BB> A,v B,this.Q):nD=new UnmodifiableListView<BB>(A){Na=B;}operator[](int A)=>nD[A].value;operator[]=(int A,B){throw new UnsupportedError("Cannot modify an unmodifiable List");}}class IB extends BB{final value;final KB Q;IB.YV(this.value,CC A):Q=A.Q{Na=A.L;}IB.ZV(this.value,v A):Q=KB.JS{Na=A;}String toString()=>value.toString();}void RM(BB A,v B){A.Na=B;}